function Pv(t,e){for(var r=0;r<e.length;r++){const a=e[r];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(a,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function jh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function uj(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var o=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(r,a,o.get?o:{enumerable:!0,get:function(){return t[a]}})}),r}var hd={exports:{}},La={},fd={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm;function dj(){if(Xm)return Fe;Xm=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),g=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=g&&L[g]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,_={};function j(L,q,K){this.props=L,this.context=q,this.refs=_,this.updater=K||w}j.prototype.isReactComponent={},j.prototype.setState=function(L,q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,q,"setState")},j.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function E(){}E.prototype=j.prototype;function S(L,q,K){this.props=L,this.context=q,this.refs=_,this.updater=K||w}var N=S.prototype=new E;N.constructor=S,C(N,j.prototype),N.isPureReactComponent=!0;var R=Array.isArray,A=Object.prototype.hasOwnProperty,U={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function O(L,q,K){var oe,G={},Q=null,V=null;if(q!=null)for(oe in q.ref!==void 0&&(V=q.ref),q.key!==void 0&&(Q=""+q.key),q)A.call(q,oe)&&!T.hasOwnProperty(oe)&&(G[oe]=q[oe]);var ie=arguments.length-2;if(ie===1)G.children=K;else if(1<ie){for(var be=Array(ie),Se=0;Se<ie;Se++)be[Se]=arguments[Se+2];G.children=be}if(L&&L.defaultProps)for(oe in ie=L.defaultProps,ie)G[oe]===void 0&&(G[oe]=ie[oe]);return{$$typeof:t,type:L,key:Q,ref:V,props:G,_owner:U.current}}function F(L,q){return{$$typeof:t,type:L.type,key:q,ref:L.ref,props:L.props,_owner:L._owner}}function $(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function Z(L){var q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(K){return q[K]})}var H=/\/+/g;function re(L,q){return typeof L=="object"&&L!==null&&L.key!=null?Z(""+L.key):q.toString(36)}function ce(L,q,K,oe,G){var Q=typeof L;(Q==="undefined"||Q==="boolean")&&(L=null);var V=!1;if(L===null)V=!0;else switch(Q){case"string":case"number":V=!0;break;case"object":switch(L.$$typeof){case t:case e:V=!0}}if(V)return V=L,G=G(V),L=oe===""?"."+re(V,0):oe,R(G)?(K="",L!=null&&(K=L.replace(H,"$&/")+"/"),ce(G,q,K,"",function(Se){return Se})):G!=null&&($(G)&&(G=F(G,K+(!G.key||V&&V.key===G.key?"":(""+G.key).replace(H,"$&/")+"/")+L)),q.push(G)),1;if(V=0,oe=oe===""?".":oe+":",R(L))for(var ie=0;ie<L.length;ie++){Q=L[ie];var be=oe+re(Q,ie);V+=ce(Q,q,K,be,G)}else if(be=b(L),typeof be=="function")for(L=be.call(L),ie=0;!(Q=L.next()).done;)Q=Q.value,be=oe+re(Q,ie++),V+=ce(Q,q,K,be,G);else if(Q==="object")throw q=String(L),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return V}function me(L,q,K){if(L==null)return L;var oe=[],G=0;return ce(L,oe,"","",function(Q){return q.call(K,Q,G++)}),oe}function J(L){if(L._status===-1){var q=L._result;q=q(),q.then(function(K){(L._status===0||L._status===-1)&&(L._status=1,L._result=K)},function(K){(L._status===0||L._status===-1)&&(L._status=2,L._result=K)}),L._status===-1&&(L._status=0,L._result=q)}if(L._status===1)return L._result.default;throw L._result}var ae={current:null},M={transition:null},X={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:M,ReactCurrentOwner:U};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:me,forEach:function(L,q,K){me(L,function(){q.apply(this,arguments)},K)},count:function(L){var q=0;return me(L,function(){q++}),q},toArray:function(L){return me(L,function(q){return q})||[]},only:function(L){if(!$(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Fe.Component=j,Fe.Fragment=r,Fe.Profiler=o,Fe.PureComponent=S,Fe.StrictMode=a,Fe.Suspense=f,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Fe.act=Y,Fe.cloneElement=function(L,q,K){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var oe=C({},L.props),G=L.key,Q=L.ref,V=L._owner;if(q!=null){if(q.ref!==void 0&&(Q=q.ref,V=U.current),q.key!==void 0&&(G=""+q.key),L.type&&L.type.defaultProps)var ie=L.type.defaultProps;for(be in q)A.call(q,be)&&!T.hasOwnProperty(be)&&(oe[be]=q[be]===void 0&&ie!==void 0?ie[be]:q[be])}var be=arguments.length-2;if(be===1)oe.children=K;else if(1<be){ie=Array(be);for(var Se=0;Se<be;Se++)ie[Se]=arguments[Se+2];oe.children=ie}return{$$typeof:t,type:L.type,key:G,ref:Q,props:oe,_owner:V}},Fe.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:l,_context:L},L.Consumer=L},Fe.createElement=O,Fe.createFactory=function(L){var q=O.bind(null,L);return q.type=L,q},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(L){return{$$typeof:h,render:L}},Fe.isValidElement=$,Fe.lazy=function(L){return{$$typeof:x,_payload:{_status:-1,_result:L},_init:J}},Fe.memo=function(L,q){return{$$typeof:p,type:L,compare:q===void 0?null:q}},Fe.startTransition=function(L){var q=M.transition;M.transition={};try{L()}finally{M.transition=q}},Fe.unstable_act=Y,Fe.useCallback=function(L,q){return ae.current.useCallback(L,q)},Fe.useContext=function(L){return ae.current.useContext(L)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(L){return ae.current.useDeferredValue(L)},Fe.useEffect=function(L,q){return ae.current.useEffect(L,q)},Fe.useId=function(){return ae.current.useId()},Fe.useImperativeHandle=function(L,q,K){return ae.current.useImperativeHandle(L,q,K)},Fe.useInsertionEffect=function(L,q){return ae.current.useInsertionEffect(L,q)},Fe.useLayoutEffect=function(L,q){return ae.current.useLayoutEffect(L,q)},Fe.useMemo=function(L,q){return ae.current.useMemo(L,q)},Fe.useReducer=function(L,q,K){return ae.current.useReducer(L,q,K)},Fe.useRef=function(L){return ae.current.useRef(L)},Fe.useState=function(L){return ae.current.useState(L)},Fe.useSyncExternalStore=function(L,q,K){return ae.current.useSyncExternalStore(L,q,K)},Fe.useTransition=function(){return ae.current.useTransition()},Fe.version="18.3.1",Fe}var Zm;function cc(){return Zm||(Zm=1,fd.exports=dj()),fd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg;function hj(){if(eg)return La;eg=1;var t=cc(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var x,g={},b=null,w=null;p!==void 0&&(b=""+p),f.key!==void 0&&(b=""+f.key),f.ref!==void 0&&(w=f.ref);for(x in f)a.call(f,x)&&!l.hasOwnProperty(x)&&(g[x]=f[x]);if(h&&h.defaultProps)for(x in f=h.defaultProps,f)g[x]===void 0&&(g[x]=f[x]);return{$$typeof:e,type:h,key:b,ref:w,props:g,_owner:o.current}}return La.Fragment=r,La.jsx=u,La.jsxs=u,La}var tg;function fj(){return tg||(tg=1,hd.exports=hj()),hd.exports}var i=fj(),yl={},pd={exports:{}},Zt={},md={exports:{}},gd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng;function pj(){return ng||(ng=1,(function(t){function e(M,X){var Y=M.length;M.push(X);e:for(;0<Y;){var L=Y-1>>>1,q=M[L];if(0<o(q,X))M[L]=X,M[Y]=q,Y=L;else break e}}function r(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var X=M[0],Y=M.pop();if(Y!==X){M[0]=Y;e:for(var L=0,q=M.length,K=q>>>1;L<K;){var oe=2*(L+1)-1,G=M[oe],Q=oe+1,V=M[Q];if(0>o(G,Y))Q<q&&0>o(V,G)?(M[L]=V,M[Q]=Y,L=Q):(M[L]=G,M[oe]=Y,L=oe);else if(Q<q&&0>o(V,Y))M[L]=V,M[Q]=Y,L=Q;else break e}}return X}function o(M,X){var Y=M.sortIndex-X.sortIndex;return Y!==0?Y:M.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],p=[],x=1,g=null,b=3,w=!1,C=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(M){for(var X=r(p);X!==null;){if(X.callback===null)a(p);else if(X.startTime<=M)a(p),X.sortIndex=X.expirationTime,e(f,X);else break;X=r(p)}}function R(M){if(_=!1,N(M),!C)if(r(f)!==null)C=!0,J(A);else{var X=r(p);X!==null&&ae(R,X.startTime-M)}}function A(M,X){C=!1,_&&(_=!1,E(O),O=-1),w=!0;var Y=b;try{for(N(X),g=r(f);g!==null&&(!(g.expirationTime>X)||M&&!Z());){var L=g.callback;if(typeof L=="function"){g.callback=null,b=g.priorityLevel;var q=L(g.expirationTime<=X);X=t.unstable_now(),typeof q=="function"?g.callback=q:g===r(f)&&a(f),N(X)}else a(f);g=r(f)}if(g!==null)var K=!0;else{var oe=r(p);oe!==null&&ae(R,oe.startTime-X),K=!1}return K}finally{g=null,b=Y,w=!1}}var U=!1,T=null,O=-1,F=5,$=-1;function Z(){return!(t.unstable_now()-$<F)}function H(){if(T!==null){var M=t.unstable_now();$=M;var X=!0;try{X=T(!0,M)}finally{X?re():(U=!1,T=null)}}else U=!1}var re;if(typeof S=="function")re=function(){S(H)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,me=ce.port2;ce.port1.onmessage=H,re=function(){me.postMessage(null)}}else re=function(){j(H,0)};function J(M){T=M,U||(U=!0,re())}function ae(M,X){O=j(function(){M(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){C||w||(C=!0,J(A))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(M){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var Y=b;b=X;try{return M()}finally{b=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,X){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Y=b;b=M;try{return X()}finally{b=Y}},t.unstable_scheduleCallback=function(M,X,Y){var L=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?L+Y:L):Y=L,M){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Y+q,M={id:x++,callback:X,priorityLevel:M,startTime:Y,expirationTime:q,sortIndex:-1},Y>L?(M.sortIndex=Y,e(p,M),r(f)===null&&M===r(p)&&(_?(E(O),O=-1):_=!0,ae(R,Y-L))):(M.sortIndex=q,e(f,M),C||w||(C=!0,J(A))),M},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(M){var X=b;return function(){var Y=b;b=X;try{return M.apply(this,arguments)}finally{b=Y}}}})(gd)),gd}var rg;function mj(){return rg||(rg=1,md.exports=pj()),md.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function gj(){if(sg)return Zt;sg=1;var t=cc(),e=mj();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,c=1;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(n,s){u(n,s),u(n+"Capture",s)}function u(n,s){for(o[n]=s,n=0;n<s.length;n++)a.add(s[n])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},g={};function b(n){return f.call(g,n)?!0:f.call(x,n)?!1:p.test(n)?g[n]=!0:(x[n]=!0,!1)}function w(n,s,c,d){if(c!==null&&c.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:c!==null?!c.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function C(n,s,c,d){if(s===null||typeof s>"u"||w(n,s,c,d))return!0;if(d)return!1;if(c!==null)switch(c.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function _(n,s,c,d,m,y,k){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=n,this.type=s,this.sanitizeURL=y,this.removeEmptyString=k}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){j[n]=new _(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];j[s]=new _(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){j[n]=new _(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){j[n]=new _(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){j[n]=new _(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){j[n]=new _(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){j[n]=new _(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){j[n]=new _(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){j[n]=new _(n,5,!1,n.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function S(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(E,S);j[s]=new _(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(E,S);j[s]=new _(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(E,S);j[s]=new _(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){j[n]=new _(n,1,!1,n.toLowerCase(),null,!1,!1)}),j.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){j[n]=new _(n,1,!1,n.toLowerCase(),null,!0,!0)});function N(n,s,c,d){var m=j.hasOwnProperty(s)?j[s]:null;(m!==null?m.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(C(s,c,m,d)&&(c=null),d||m===null?b(s)&&(c===null?n.removeAttribute(s):n.setAttribute(s,""+c)):m.mustUseProperty?n[m.propertyName]=c===null?m.type===3?!1:"":c:(s=m.attributeName,d=m.attributeNamespace,c===null?n.removeAttribute(s):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,d?n.setAttributeNS(d,s,c):n.setAttribute(s,c))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),U=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),Z=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),M=Symbol.iterator;function X(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var Y=Object.assign,L;function q(n){if(L===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+n}var K=!1;function oe(n,s){if(!n||K)return"";K=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(W){var d=W}Reflect.construct(n,[],s)}else{try{s.call()}catch(W){d=W}n.call(s.prototype)}else{try{throw Error()}catch(W){d=W}n()}}catch(W){if(W&&d&&typeof W.stack=="string"){for(var m=W.stack.split(`
`),y=d.stack.split(`
`),k=m.length-1,P=y.length-1;1<=k&&0<=P&&m[k]!==y[P];)P--;for(;1<=k&&0<=P;k--,P--)if(m[k]!==y[P]){if(k!==1||P!==1)do if(k--,P--,0>P||m[k]!==y[P]){var I=`
`+m[k].replace(" at new "," at ");return n.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",n.displayName)),I}while(1<=k&&0<=P);break}}}finally{K=!1,Error.prepareStackTrace=c}return(n=n?n.displayName||n.name:"")?q(n):""}function G(n){switch(n.tag){case 5:return q(n.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return n=oe(n.type,!1),n;case 11:return n=oe(n.type.render,!1),n;case 1:return n=oe(n.type,!0),n;default:return""}}function Q(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case U:return"Portal";case F:return"Profiler";case O:return"StrictMode";case re:return"Suspense";case ce:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Z:return(n.displayName||"Context")+".Consumer";case $:return(n._context.displayName||"Context")+".Provider";case H:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case me:return s=n.displayName||null,s!==null?s:Q(n.type)||"Memo";case J:s=n._payload,n=n._init;try{return Q(n(s))}catch{}}return null}function V(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(s);case 8:return s===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ie(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function be(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Se(n){var s=be(n)?"checked":"value",c=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),d=""+n[s];if(!n.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return m.call(this)},set:function(k){d=""+k,y.call(this,k)}}),Object.defineProperty(n,s,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ie(n){n._valueTracker||(n._valueTracker=Se(n))}function De(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var c=s.getValue(),d="";return n&&(d=be(n)?n.checked?"true":"false":n.value),n=d,n!==c?(s.setValue(n),!0):!1}function ge(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ze(n,s){var c=s.checked;return Y({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??n._wrapperState.initialChecked})}function mn(n,s){var c=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;c=ie(s.value!=null?s.value:c),n._wrapperState={initialChecked:d,initialValue:c,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function tn(n,s){s=s.checked,s!=null&&N(n,"checked",s,!1)}function nn(n,s){tn(n,s);var c=ie(s.value),d=s.type;if(c!=null)d==="number"?(c===0&&n.value===""||n.value!=c)&&(n.value=""+c):n.value!==""+c&&(n.value=""+c);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?rn(n,s.type,c):s.hasOwnProperty("defaultValue")&&rn(n,s.type,ie(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Yi(n,s,c){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,c||s===n.value||(n.value=s),n.defaultValue=s}c=n.name,c!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,c!==""&&(n.name=c)}function rn(n,s,c){(s!=="number"||ge(n.ownerDocument)!==n)&&(c==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+c&&(n.defaultValue=""+c))}var hs=Array.isArray;function kr(n,s,c,d){if(n=n.options,s){s={};for(var m=0;m<c.length;m++)s["$"+c[m]]=!0;for(c=0;c<n.length;c++)m=s.hasOwnProperty("$"+n[c].value),n[c].selected!==m&&(n[c].selected=m),m&&d&&(n[c].defaultSelected=!0)}else{for(c=""+ie(c),s=null,m=0;m<n.length;m++){if(n[m].value===c){n[m].selected=!0,d&&(n[m].defaultSelected=!0);return}s!==null||n[m].disabled||(s=n[m])}s!==null&&(s.selected=!0)}}function Ot(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return Y({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ar(n,s){var c=s.value;if(c==null){if(c=s.children,s=s.defaultValue,c!=null){if(s!=null)throw Error(r(92));if(hs(c)){if(1<c.length)throw Error(r(93));c=c[0]}s=c}s==null&&(s=""),c=s}n._wrapperState={initialValue:ie(c)}}function lo(n,s){var c=ie(s.value),d=ie(s.defaultValue);c!=null&&(c=""+c,c!==n.value&&(n.value=c),s.defaultValue==null&&n.defaultValue!==c&&(n.defaultValue=c)),d!=null&&(n.defaultValue=""+d)}function co(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function fs(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qi(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?fs(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ps,qs=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,c,d,m){MSApp.execUnsafeLocalFunction(function(){return n(s,c,d,m)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(ps=ps||document.createElement("div"),ps.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ps.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function gn(n,s){if(s){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=s;return}}n.textContent=s}var Cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rr=["Webkit","ms","Moz","O"];Object.keys(Cr).forEach(function(n){Rr.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Cr[s]=Cr[n]})});function uo(n,s,c){return s==null||typeof s=="boolean"||s===""?"":c||typeof s!="number"||s===0||Cr.hasOwnProperty(n)&&Cr[n]?(""+s).trim():s+"px"}function ho(n,s){n=n.style;for(var c in s)if(s.hasOwnProperty(c)){var d=c.indexOf("--")===0,m=uo(c,s[c],d);c==="float"&&(c="cssFloat"),d?n.setProperty(c,m):n[c]=m}}var fo=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gs(n,s){if(s){if(fo[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function Xi(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ms=null;function vn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Zi=null,Pr=null,or=null;function ea(n){if(n=wa(n)){if(typeof Zi!="function")throw Error(r(280));var s=n.stateNode;s&&(s=Oo(s),Zi(n.stateNode,n.type,s))}}function Oe(n){Pr?or?or.push(n):or=[n]:Pr=n}function ht(){if(Pr){var n=Pr,s=or;if(or=Pr=null,ea(n),s)for(n=0;n<s.length;n++)ea(s[n])}}function wt(n,s){return n(s)}function Ft(){}var Tr=!1;function mt(n,s,c){if(Tr)return n(s,c);Tr=!0;try{return wt(n,s,c)}finally{Tr=!1,(Pr!==null||or!==null)&&(Ft(),ht())}}function Et(n,s){var c=n.stateNode;if(c===null)return null;var d=Oo(c);if(d===null)return null;c=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var Ar=!1;if(h)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch{Ar=!1}function sn(n,s,c,d,m,y,k,P,I){var W=Array.prototype.slice.call(arguments,3);try{s.apply(c,W)}catch(se){this.onError(se)}}var Ir=!1,xn=null,ta=!1,Tc=null,vw={onError:function(n){Ir=!0,xn=n}};function xw(n,s,c,d,m,y,k,P,I){Ir=!1,xn=null,sn.apply(vw,arguments)}function yw(n,s,c,d,m,y,k,P,I){if(xw.apply(this,arguments),Ir){if(Ir){var W=xn;Ir=!1,xn=null}else throw Error(r(198));ta||(ta=!0,Tc=W)}}function gs(n){var s=n,c=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(c=s.return),n=s.return;while(n)}return s.tag===3?c:null}function bf(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function jf(n){if(gs(n)!==n)throw Error(r(188))}function ww(n){var s=n.alternate;if(!s){if(s=gs(n),s===null)throw Error(r(188));return s!==n?null:n}for(var c=n,d=s;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){c=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return jf(m),n;if(y===d)return jf(m),s;y=y.sibling}throw Error(r(188))}if(c.return!==d.return)c=m,d=y;else{for(var k=!1,P=m.child;P;){if(P===c){k=!0,c=m,d=y;break}if(P===d){k=!0,d=m,c=y;break}P=P.sibling}if(!k){for(P=y.child;P;){if(P===c){k=!0,c=y,d=m;break}if(P===d){k=!0,d=y,c=m;break}P=P.sibling}if(!k)throw Error(r(189))}}if(c.alternate!==d)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?n:s}function Sf(n){return n=ww(n),n!==null?_f(n):null}function _f(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=_f(n);if(s!==null)return s;n=n.sibling}return null}var Nf=e.unstable_scheduleCallback,Ef=e.unstable_cancelCallback,bw=e.unstable_shouldYield,jw=e.unstable_requestPaint,ft=e.unstable_now,Sw=e.unstable_getCurrentPriorityLevel,Ac=e.unstable_ImmediatePriority,kf=e.unstable_UserBlockingPriority,po=e.unstable_NormalPriority,_w=e.unstable_LowPriority,Cf=e.unstable_IdlePriority,mo=null,Hn=null;function Nw(n){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(mo,n,void 0,(n.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:Cw,Ew=Math.log,kw=Math.LN2;function Cw(n){return n>>>=0,n===0?32:31-(Ew(n)/kw|0)|0}var go=64,vo=4194304;function na(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function xo(n,s){var c=n.pendingLanes;if(c===0)return 0;var d=0,m=n.suspendedLanes,y=n.pingedLanes,k=c&268435455;if(k!==0){var P=k&~m;P!==0?d=na(P):(y&=k,y!==0&&(d=na(y)))}else k=c&~m,k!==0?d=na(k):y!==0&&(d=na(y));if(d===0)return 0;if(s!==0&&s!==d&&(s&m)===0&&(m=d&-d,y=s&-s,m>=y||m===16&&(y&4194240)!==0))return s;if((d&4)!==0&&(d|=c&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=d;0<s;)c=31-Cn(s),m=1<<c,d|=n[c],s&=~m;return d}function Rw(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pw(n,s){for(var c=n.suspendedLanes,d=n.pingedLanes,m=n.expirationTimes,y=n.pendingLanes;0<y;){var k=31-Cn(y),P=1<<k,I=m[k];I===-1?((P&c)===0||(P&d)!==0)&&(m[k]=Rw(P,s)):I<=s&&(n.expiredLanes|=P),y&=~P}}function Ic(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Rf(){var n=go;return go<<=1,(go&4194240)===0&&(go=64),n}function Oc(n){for(var s=[],c=0;31>c;c++)s.push(n);return s}function ra(n,s,c){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-Cn(s),n[s]=c}function Tw(n,s){var c=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<c;){var m=31-Cn(c),y=1<<m;s[m]=0,d[m]=-1,n[m]=-1,c&=~y}}function Lc(n,s){var c=n.entangledLanes|=s;for(n=n.entanglements;c;){var d=31-Cn(c),m=1<<d;m&s|n[d]&s&&(n[d]|=s),c&=~m}}var Je=0;function Pf(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Tf,Dc,Af,If,Of,Mc=!1,yo=[],Or=null,Lr=null,Dr=null,sa=new Map,ia=new Map,Mr=[],Aw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lf(n,s){switch(n){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":sa.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ia.delete(s.pointerId)}}function aa(n,s,c,d,m,y){return n===null||n.nativeEvent!==y?(n={blockedOn:s,domEventName:c,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},s!==null&&(s=wa(s),s!==null&&Dc(s)),n):(n.eventSystemFlags|=d,s=n.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),n)}function Iw(n,s,c,d,m){switch(s){case"focusin":return Or=aa(Or,n,s,c,d,m),!0;case"dragenter":return Lr=aa(Lr,n,s,c,d,m),!0;case"mouseover":return Dr=aa(Dr,n,s,c,d,m),!0;case"pointerover":var y=m.pointerId;return sa.set(y,aa(sa.get(y)||null,n,s,c,d,m)),!0;case"gotpointercapture":return y=m.pointerId,ia.set(y,aa(ia.get(y)||null,n,s,c,d,m)),!0}return!1}function Df(n){var s=vs(n.target);if(s!==null){var c=gs(s);if(c!==null){if(s=c.tag,s===13){if(s=bf(c),s!==null){n.blockedOn=s,Of(n.priority,function(){Af(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function wo(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var c=Fc(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(c===null){c=n.nativeEvent;var d=new c.constructor(c.type,c);ms=d,c.target.dispatchEvent(d),ms=null}else return s=wa(c),s!==null&&Dc(s),n.blockedOn=c,!1;s.shift()}return!0}function Mf(n,s,c){wo(n)&&c.delete(s)}function Ow(){Mc=!1,Or!==null&&wo(Or)&&(Or=null),Lr!==null&&wo(Lr)&&(Lr=null),Dr!==null&&wo(Dr)&&(Dr=null),sa.forEach(Mf),ia.forEach(Mf)}function oa(n,s){n.blockedOn===s&&(n.blockedOn=null,Mc||(Mc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ow)))}function la(n){function s(m){return oa(m,n)}if(0<yo.length){oa(yo[0],n);for(var c=1;c<yo.length;c++){var d=yo[c];d.blockedOn===n&&(d.blockedOn=null)}}for(Or!==null&&oa(Or,n),Lr!==null&&oa(Lr,n),Dr!==null&&oa(Dr,n),sa.forEach(s),ia.forEach(s),c=0;c<Mr.length;c++)d=Mr[c],d.blockedOn===n&&(d.blockedOn=null);for(;0<Mr.length&&(c=Mr[0],c.blockedOn===null);)Df(c),c.blockedOn===null&&Mr.shift()}var Ks=R.ReactCurrentBatchConfig,bo=!0;function Lw(n,s,c,d){var m=Je,y=Ks.transition;Ks.transition=null;try{Je=1,$c(n,s,c,d)}finally{Je=m,Ks.transition=y}}function Dw(n,s,c,d){var m=Je,y=Ks.transition;Ks.transition=null;try{Je=4,$c(n,s,c,d)}finally{Je=m,Ks.transition=y}}function $c(n,s,c,d){if(bo){var m=Fc(n,s,c,d);if(m===null)nu(n,s,d,jo,c),Lf(n,d);else if(Iw(m,n,s,c,d))d.stopPropagation();else if(Lf(n,d),s&4&&-1<Aw.indexOf(n)){for(;m!==null;){var y=wa(m);if(y!==null&&Tf(y),y=Fc(n,s,c,d),y===null&&nu(n,s,d,jo,c),y===m)break;m=y}m!==null&&d.stopPropagation()}else nu(n,s,d,null,c)}}var jo=null;function Fc(n,s,c,d){if(jo=null,n=vn(d),n=vs(n),n!==null)if(s=gs(n),s===null)n=null;else if(c=s.tag,c===13){if(n=bf(s),n!==null)return n;n=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return jo=n,null}function $f(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sw()){case Ac:return 1;case kf:return 4;case po:case _w:return 16;case Cf:return 536870912;default:return 16}default:return 16}}var $r=null,zc=null,So=null;function Ff(){if(So)return So;var n,s=zc,c=s.length,d,m="value"in $r?$r.value:$r.textContent,y=m.length;for(n=0;n<c&&s[n]===m[n];n++);var k=c-n;for(d=1;d<=k&&s[c-d]===m[y-d];d++);return So=m.slice(n,1<d?1-d:void 0)}function _o(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function No(){return!0}function zf(){return!1}function an(n){function s(c,d,m,y,k){this._reactName=c,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=k,this.currentTarget=null;for(var P in n)n.hasOwnProperty(P)&&(c=n[P],this[P]=c?c(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?No:zf,this.isPropagationStopped=zf,this}return Y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=No)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=No)},persist:function(){},isPersistent:No}),s}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uc=an(Js),ca=Y({},Js,{view:0,detail:0}),Mw=an(ca),Bc,Vc,ua,Eo=Y({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ua&&(ua&&n.type==="mousemove"?(Bc=n.screenX-ua.screenX,Vc=n.screenY-ua.screenY):Vc=Bc=0,ua=n),Bc)},movementY:function(n){return"movementY"in n?n.movementY:Vc}}),Uf=an(Eo),$w=Y({},Eo,{dataTransfer:0}),Fw=an($w),zw=Y({},ca,{relatedTarget:0}),Wc=an(zw),Uw=Y({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),Bw=an(Uw),Vw=Y({},Js,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ww=an(Vw),Hw=Y({},Js,{data:0}),Bf=an(Hw),qw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jw(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Kw[n])?!!s[n]:!1}function Hc(){return Jw}var Yw=Y({},ca,{key:function(n){if(n.key){var s=qw[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=_o(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Gw[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hc,charCode:function(n){return n.type==="keypress"?_o(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?_o(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Qw=an(Yw),Xw=Y({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vf=an(Xw),Zw=Y({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hc}),eb=an(Zw),tb=Y({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),nb=an(tb),rb=Y({},Eo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),sb=an(rb),ib=[9,13,27,32],qc=h&&"CompositionEvent"in window,da=null;h&&"documentMode"in document&&(da=document.documentMode);var ab=h&&"TextEvent"in window&&!da,Wf=h&&(!qc||da&&8<da&&11>=da),Hf=" ",qf=!1;function Gf(n,s){switch(n){case"keyup":return ib.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ys=!1;function ob(n,s){switch(n){case"compositionend":return Kf(s);case"keypress":return s.which!==32?null:(qf=!0,Hf);case"textInput":return n=s.data,n===Hf&&qf?null:n;default:return null}}function lb(n,s){if(Ys)return n==="compositionend"||!qc&&Gf(n,s)?(n=Ff(),So=zc=$r=null,Ys=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Wf&&s.locale!=="ko"?null:s.data;default:return null}}var cb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!cb[n.type]:s==="textarea"}function Yf(n,s,c,d){Oe(d),s=To(s,"onChange"),0<s.length&&(c=new Uc("onChange","change",null,c,d),n.push({event:c,listeners:s}))}var ha=null,fa=null;function ub(n){pp(n,0)}function ko(n){var s=ti(n);if(De(s))return n}function db(n,s){if(n==="change")return s}var Qf=!1;if(h){var Gc;if(h){var Kc="oninput"in document;if(!Kc){var Xf=document.createElement("div");Xf.setAttribute("oninput","return;"),Kc=typeof Xf.oninput=="function"}Gc=Kc}else Gc=!1;Qf=Gc&&(!document.documentMode||9<document.documentMode)}function Zf(){ha&&(ha.detachEvent("onpropertychange",ep),fa=ha=null)}function ep(n){if(n.propertyName==="value"&&ko(fa)){var s=[];Yf(s,fa,n,vn(n)),mt(ub,s)}}function hb(n,s,c){n==="focusin"?(Zf(),ha=s,fa=c,ha.attachEvent("onpropertychange",ep)):n==="focusout"&&Zf()}function fb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ko(fa)}function pb(n,s){if(n==="click")return ko(s)}function mb(n,s){if(n==="input"||n==="change")return ko(s)}function gb(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Rn=typeof Object.is=="function"?Object.is:gb;function pa(n,s){if(Rn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var c=Object.keys(n),d=Object.keys(s);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var m=c[d];if(!f.call(s,m)||!Rn(n[m],s[m]))return!1}return!0}function tp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function np(n,s){var c=tp(n);n=0;for(var d;c;){if(c.nodeType===3){if(d=n+c.textContent.length,n<=s&&d>=s)return{node:c,offset:s-n};n=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=tp(c)}}function rp(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?rp(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function sp(){for(var n=window,s=ge();s instanceof n.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)n=s.contentWindow;else break;s=ge(n.document)}return s}function Jc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function vb(n){var s=sp(),c=n.focusedElem,d=n.selectionRange;if(s!==c&&c&&c.ownerDocument&&rp(c.ownerDocument.documentElement,c)){if(d!==null&&Jc(c)){if(s=d.start,n=d.end,n===void 0&&(n=s),"selectionStart"in c)c.selectionStart=s,c.selectionEnd=Math.min(n,c.value.length);else if(n=(s=c.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var m=c.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!n.extend&&y>d&&(m=d,d=y,y=m),m=np(c,y);var k=np(c,d);m&&k&&(n.rangeCount!==1||n.anchorNode!==m.node||n.anchorOffset!==m.offset||n.focusNode!==k.node||n.focusOffset!==k.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),n.removeAllRanges(),y>d?(n.addRange(s),n.extend(k.node,k.offset)):(s.setEnd(k.node,k.offset),n.addRange(s)))}}for(s=[],n=c;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<s.length;c++)n=s[c],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var xb=h&&"documentMode"in document&&11>=document.documentMode,Qs=null,Yc=null,ma=null,Qc=!1;function ip(n,s,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Qc||Qs==null||Qs!==ge(d)||(d=Qs,"selectionStart"in d&&Jc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ma&&pa(ma,d)||(ma=d,d=To(Yc,"onSelect"),0<d.length&&(s=new Uc("onSelect","select",null,s,c),n.push({event:s,listeners:d}),s.target=Qs)))}function Co(n,s){var c={};return c[n.toLowerCase()]=s.toLowerCase(),c["Webkit"+n]="webkit"+s,c["Moz"+n]="moz"+s,c}var Xs={animationend:Co("Animation","AnimationEnd"),animationiteration:Co("Animation","AnimationIteration"),animationstart:Co("Animation","AnimationStart"),transitionend:Co("Transition","TransitionEnd")},Xc={},ap={};h&&(ap=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function Ro(n){if(Xc[n])return Xc[n];if(!Xs[n])return n;var s=Xs[n],c;for(c in s)if(s.hasOwnProperty(c)&&c in ap)return Xc[n]=s[c];return n}var op=Ro("animationend"),lp=Ro("animationiteration"),cp=Ro("animationstart"),up=Ro("transitionend"),dp=new Map,hp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(n,s){dp.set(n,s),l(s,[n])}for(var Zc=0;Zc<hp.length;Zc++){var eu=hp[Zc],yb=eu.toLowerCase(),wb=eu[0].toUpperCase()+eu.slice(1);Fr(yb,"on"+wb)}Fr(op,"onAnimationEnd"),Fr(lp,"onAnimationIteration"),Fr(cp,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(up,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bb=new Set("cancel close invalid load scroll toggle".split(" ").concat(ga));function fp(n,s,c){var d=n.type||"unknown-event";n.currentTarget=c,yw(d,s,void 0,n),n.currentTarget=null}function pp(n,s){s=(s&4)!==0;for(var c=0;c<n.length;c++){var d=n[c],m=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var k=d.length-1;0<=k;k--){var P=d[k],I=P.instance,W=P.currentTarget;if(P=P.listener,I!==y&&m.isPropagationStopped())break e;fp(m,P,W),y=I}else for(k=0;k<d.length;k++){if(P=d[k],I=P.instance,W=P.currentTarget,P=P.listener,I!==y&&m.isPropagationStopped())break e;fp(m,P,W),y=I}}}if(ta)throw n=Tc,ta=!1,Tc=null,n}function et(n,s){var c=s[lu];c===void 0&&(c=s[lu]=new Set);var d=n+"__bubble";c.has(d)||(mp(s,n,2,!1),c.add(d))}function tu(n,s,c){var d=0;s&&(d|=4),mp(c,n,d,s)}var Po="_reactListening"+Math.random().toString(36).slice(2);function va(n){if(!n[Po]){n[Po]=!0,a.forEach(function(c){c!=="selectionchange"&&(bb.has(c)||tu(c,!1,n),tu(c,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Po]||(s[Po]=!0,tu("selectionchange",!1,s))}}function mp(n,s,c,d){switch($f(s)){case 1:var m=Lw;break;case 4:m=Dw;break;default:m=$c}c=m.bind(null,s,c,n),m=void 0,!Ar||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),d?m!==void 0?n.addEventListener(s,c,{capture:!0,passive:m}):n.addEventListener(s,c,!0):m!==void 0?n.addEventListener(s,c,{passive:m}):n.addEventListener(s,c,!1)}function nu(n,s,c,d,m){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var k=d.tag;if(k===3||k===4){var P=d.stateNode.containerInfo;if(P===m||P.nodeType===8&&P.parentNode===m)break;if(k===4)for(k=d.return;k!==null;){var I=k.tag;if((I===3||I===4)&&(I=k.stateNode.containerInfo,I===m||I.nodeType===8&&I.parentNode===m))return;k=k.return}for(;P!==null;){if(k=vs(P),k===null)return;if(I=k.tag,I===5||I===6){d=y=k;continue e}P=P.parentNode}}d=d.return}mt(function(){var W=y,se=vn(c),le=[];e:{var ee=dp.get(n);if(ee!==void 0){var pe=Uc,xe=n;switch(n){case"keypress":if(_o(c)===0)break e;case"keydown":case"keyup":pe=Qw;break;case"focusin":xe="focus",pe=Wc;break;case"focusout":xe="blur",pe=Wc;break;case"beforeblur":case"afterblur":pe=Wc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Uf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Fw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=eb;break;case op:case lp:case cp:pe=Bw;break;case up:pe=nb;break;case"scroll":pe=Mw;break;case"wheel":pe=sb;break;case"copy":case"cut":case"paste":pe=Ww;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=Vf}var je=(s&4)!==0,pt=!je&&n==="scroll",z=je?ee!==null?ee+"Capture":null:ee;je=[];for(var D=W,B;D!==null;){B=D;var ue=B.stateNode;if(B.tag===5&&ue!==null&&(B=ue,z!==null&&(ue=Et(D,z),ue!=null&&je.push(xa(D,ue,B)))),pt)break;D=D.return}0<je.length&&(ee=new pe(ee,xe,null,c,se),le.push({event:ee,listeners:je}))}}if((s&7)===0){e:{if(ee=n==="mouseover"||n==="pointerover",pe=n==="mouseout"||n==="pointerout",ee&&c!==ms&&(xe=c.relatedTarget||c.fromElement)&&(vs(xe)||xe[lr]))break e;if((pe||ee)&&(ee=se.window===se?se:(ee=se.ownerDocument)?ee.defaultView||ee.parentWindow:window,pe?(xe=c.relatedTarget||c.toElement,pe=W,xe=xe?vs(xe):null,xe!==null&&(pt=gs(xe),xe!==pt||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(pe=null,xe=W),pe!==xe)){if(je=Uf,ue="onMouseLeave",z="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(je=Vf,ue="onPointerLeave",z="onPointerEnter",D="pointer"),pt=pe==null?ee:ti(pe),B=xe==null?ee:ti(xe),ee=new je(ue,D+"leave",pe,c,se),ee.target=pt,ee.relatedTarget=B,ue=null,vs(se)===W&&(je=new je(z,D+"enter",xe,c,se),je.target=B,je.relatedTarget=pt,ue=je),pt=ue,pe&&xe)t:{for(je=pe,z=xe,D=0,B=je;B;B=Zs(B))D++;for(B=0,ue=z;ue;ue=Zs(ue))B++;for(;0<D-B;)je=Zs(je),D--;for(;0<B-D;)z=Zs(z),B--;for(;D--;){if(je===z||z!==null&&je===z.alternate)break t;je=Zs(je),z=Zs(z)}je=null}else je=null;pe!==null&&gp(le,ee,pe,je,!1),xe!==null&&pt!==null&&gp(le,pt,xe,je,!0)}}e:{if(ee=W?ti(W):window,pe=ee.nodeName&&ee.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ee.type==="file")var _e=db;else if(Jf(ee))if(Qf)_e=mb;else{_e=fb;var ke=hb}else(pe=ee.nodeName)&&pe.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(_e=pb);if(_e&&(_e=_e(n,W))){Yf(le,_e,c,se);break e}ke&&ke(n,ee,W),n==="focusout"&&(ke=ee._wrapperState)&&ke.controlled&&ee.type==="number"&&rn(ee,"number",ee.value)}switch(ke=W?ti(W):window,n){case"focusin":(Jf(ke)||ke.contentEditable==="true")&&(Qs=ke,Yc=W,ma=null);break;case"focusout":ma=Yc=Qs=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,ip(le,c,se);break;case"selectionchange":if(xb)break;case"keydown":case"keyup":ip(le,c,se)}var Ce;if(qc)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Ys?Gf(n,c)&&(Te="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(Te="onCompositionStart");Te&&(Wf&&c.locale!=="ko"&&(Ys||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Ys&&(Ce=Ff()):($r=se,zc="value"in $r?$r.value:$r.textContent,Ys=!0)),ke=To(W,Te),0<ke.length&&(Te=new Bf(Te,n,null,c,se),le.push({event:Te,listeners:ke}),Ce?Te.data=Ce:(Ce=Kf(c),Ce!==null&&(Te.data=Ce)))),(Ce=ab?ob(n,c):lb(n,c))&&(W=To(W,"onBeforeInput"),0<W.length&&(se=new Bf("onBeforeInput","beforeinput",null,c,se),le.push({event:se,listeners:W}),se.data=Ce))}pp(le,s)})}function xa(n,s,c){return{instance:n,listener:s,currentTarget:c}}function To(n,s){for(var c=s+"Capture",d=[];n!==null;){var m=n,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=Et(n,c),y!=null&&d.unshift(xa(n,y,m)),y=Et(n,s),y!=null&&d.push(xa(n,y,m))),n=n.return}return d}function Zs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function gp(n,s,c,d,m){for(var y=s._reactName,k=[];c!==null&&c!==d;){var P=c,I=P.alternate,W=P.stateNode;if(I!==null&&I===d)break;P.tag===5&&W!==null&&(P=W,m?(I=Et(c,y),I!=null&&k.unshift(xa(c,I,P))):m||(I=Et(c,y),I!=null&&k.push(xa(c,I,P)))),c=c.return}k.length!==0&&n.push({event:s,listeners:k})}var jb=/\r\n?/g,Sb=/\u0000|\uFFFD/g;function vp(n){return(typeof n=="string"?n:""+n).replace(jb,`
`).replace(Sb,"")}function Ao(n,s,c){if(s=vp(s),vp(n)!==s&&c)throw Error(r(425))}function Io(){}var ru=null,su=null;function iu(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var au=typeof setTimeout=="function"?setTimeout:void 0,_b=typeof clearTimeout=="function"?clearTimeout:void 0,xp=typeof Promise=="function"?Promise:void 0,Nb=typeof queueMicrotask=="function"?queueMicrotask:typeof xp<"u"?function(n){return xp.resolve(null).then(n).catch(Eb)}:au;function Eb(n){setTimeout(function(){throw n})}function ou(n,s){var c=s,d=0;do{var m=c.nextSibling;if(n.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(d===0){n.removeChild(m),la(s);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=m}while(c);la(s)}function zr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function yp(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return n;s--}else c==="/$"&&s++}n=n.previousSibling}return null}var ei=Math.random().toString(36).slice(2),qn="__reactFiber$"+ei,ya="__reactProps$"+ei,lr="__reactContainer$"+ei,lu="__reactEvents$"+ei,kb="__reactListeners$"+ei,Cb="__reactHandles$"+ei;function vs(n){var s=n[qn];if(s)return s;for(var c=n.parentNode;c;){if(s=c[lr]||c[qn]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(n=yp(n);n!==null;){if(c=n[qn])return c;n=yp(n)}return s}n=c,c=n.parentNode}return null}function wa(n){return n=n[qn]||n[lr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ti(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Oo(n){return n[ya]||null}var cu=[],ni=-1;function Ur(n){return{current:n}}function tt(n){0>ni||(n.current=cu[ni],cu[ni]=null,ni--)}function Qe(n,s){ni++,cu[ni]=n.current,n.current=s}var Br={},zt=Ur(Br),Kt=Ur(!1),xs=Br;function ri(n,s){var c=n.type.contextTypes;if(!c)return Br;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in c)m[y]=s[y];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=m),m}function Jt(n){return n=n.childContextTypes,n!=null}function Lo(){tt(Kt),tt(zt)}function wp(n,s,c){if(zt.current!==Br)throw Error(r(168));Qe(zt,s),Qe(Kt,c)}function bp(n,s,c){var d=n.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return c;d=d.getChildContext();for(var m in d)if(!(m in s))throw Error(r(108,V(n)||"Unknown",m));return Y({},c,d)}function Do(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Br,xs=zt.current,Qe(zt,n),Qe(Kt,Kt.current),!0}function jp(n,s,c){var d=n.stateNode;if(!d)throw Error(r(169));c?(n=bp(n,s,xs),d.__reactInternalMemoizedMergedChildContext=n,tt(Kt),tt(zt),Qe(zt,n)):tt(Kt),Qe(Kt,c)}var cr=null,Mo=!1,uu=!1;function Sp(n){cr===null?cr=[n]:cr.push(n)}function Rb(n){Mo=!0,Sp(n)}function Vr(){if(!uu&&cr!==null){uu=!0;var n=0,s=Je;try{var c=cr;for(Je=1;n<c.length;n++){var d=c[n];do d=d(!0);while(d!==null)}cr=null,Mo=!1}catch(m){throw cr!==null&&(cr=cr.slice(n+1)),Nf(Ac,Vr),m}finally{Je=s,uu=!1}}return null}var si=[],ii=0,$o=null,Fo=0,yn=[],wn=0,ys=null,ur=1,dr="";function ws(n,s){si[ii++]=Fo,si[ii++]=$o,$o=n,Fo=s}function _p(n,s,c){yn[wn++]=ur,yn[wn++]=dr,yn[wn++]=ys,ys=n;var d=ur;n=dr;var m=32-Cn(d)-1;d&=~(1<<m),c+=1;var y=32-Cn(s)+m;if(30<y){var k=m-m%5;y=(d&(1<<k)-1).toString(32),d>>=k,m-=k,ur=1<<32-Cn(s)+m|c<<m|d,dr=y+n}else ur=1<<y|c<<m|d,dr=n}function du(n){n.return!==null&&(ws(n,1),_p(n,1,0))}function hu(n){for(;n===$o;)$o=si[--ii],si[ii]=null,Fo=si[--ii],si[ii]=null;for(;n===ys;)ys=yn[--wn],yn[wn]=null,dr=yn[--wn],yn[wn]=null,ur=yn[--wn],yn[wn]=null}var on=null,ln=null,rt=!1,Pn=null;function Np(n,s){var c=_n(5,null,null,0);c.elementType="DELETED",c.stateNode=s,c.return=n,s=n.deletions,s===null?(n.deletions=[c],n.flags|=16):s.push(c)}function Ep(n,s){switch(n.tag){case 5:var c=n.type;return s=s.nodeType!==1||c.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,on=n,ln=zr(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,on=n,ln=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(c=ys!==null?{id:ur,overflow:dr}:null,n.memoizedState={dehydrated:s,treeContext:c,retryLane:1073741824},c=_n(18,null,null,0),c.stateNode=s,c.return=n,n.child=c,on=n,ln=null,!0):!1;default:return!1}}function fu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function pu(n){if(rt){var s=ln;if(s){var c=s;if(!Ep(n,s)){if(fu(n))throw Error(r(418));s=zr(c.nextSibling);var d=on;s&&Ep(n,s)?Np(d,c):(n.flags=n.flags&-4097|2,rt=!1,on=n)}}else{if(fu(n))throw Error(r(418));n.flags=n.flags&-4097|2,rt=!1,on=n}}}function kp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;on=n}function zo(n){if(n!==on)return!1;if(!rt)return kp(n),rt=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!iu(n.type,n.memoizedProps)),s&&(s=ln)){if(fu(n))throw Cp(),Error(r(418));for(;s;)Np(n,s),s=zr(s.nextSibling)}if(kp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"){if(s===0){ln=zr(n.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++}n=n.nextSibling}ln=null}}else ln=on?zr(n.stateNode.nextSibling):null;return!0}function Cp(){for(var n=ln;n;)n=zr(n.nextSibling)}function ai(){ln=on=null,rt=!1}function mu(n){Pn===null?Pn=[n]:Pn.push(n)}var Pb=R.ReactCurrentBatchConfig;function ba(n,s,c){if(n=c.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(r(309));var d=c.stateNode}if(!d)throw Error(r(147,n));var m=d,y=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(k){var P=m.refs;k===null?delete P[y]:P[y]=k},s._stringRef=y,s)}if(typeof n!="string")throw Error(r(284));if(!c._owner)throw Error(r(290,n))}return n}function Uo(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function Rp(n){var s=n._init;return s(n._payload)}function Pp(n){function s(z,D){if(n){var B=z.deletions;B===null?(z.deletions=[D],z.flags|=16):B.push(D)}}function c(z,D){if(!n)return null;for(;D!==null;)s(z,D),D=D.sibling;return null}function d(z,D){for(z=new Map;D!==null;)D.key!==null?z.set(D.key,D):z.set(D.index,D),D=D.sibling;return z}function m(z,D){return z=Qr(z,D),z.index=0,z.sibling=null,z}function y(z,D,B){return z.index=B,n?(B=z.alternate,B!==null?(B=B.index,B<D?(z.flags|=2,D):B):(z.flags|=2,D)):(z.flags|=1048576,D)}function k(z){return n&&z.alternate===null&&(z.flags|=2),z}function P(z,D,B,ue){return D===null||D.tag!==6?(D=ad(B,z.mode,ue),D.return=z,D):(D=m(D,B),D.return=z,D)}function I(z,D,B,ue){var _e=B.type;return _e===T?se(z,D,B.props.children,ue,B.key):D!==null&&(D.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===J&&Rp(_e)===D.type)?(ue=m(D,B.props),ue.ref=ba(z,D,B),ue.return=z,ue):(ue=dl(B.type,B.key,B.props,null,z.mode,ue),ue.ref=ba(z,D,B),ue.return=z,ue)}function W(z,D,B,ue){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?(D=od(B,z.mode,ue),D.return=z,D):(D=m(D,B.children||[]),D.return=z,D)}function se(z,D,B,ue,_e){return D===null||D.tag!==7?(D=Cs(B,z.mode,ue,_e),D.return=z,D):(D=m(D,B),D.return=z,D)}function le(z,D,B){if(typeof D=="string"&&D!==""||typeof D=="number")return D=ad(""+D,z.mode,B),D.return=z,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case A:return B=dl(D.type,D.key,D.props,null,z.mode,B),B.ref=ba(z,null,D),B.return=z,B;case U:return D=od(D,z.mode,B),D.return=z,D;case J:var ue=D._init;return le(z,ue(D._payload),B)}if(hs(D)||X(D))return D=Cs(D,z.mode,B,null),D.return=z,D;Uo(z,D)}return null}function ee(z,D,B,ue){var _e=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return _e!==null?null:P(z,D,""+B,ue);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return B.key===_e?I(z,D,B,ue):null;case U:return B.key===_e?W(z,D,B,ue):null;case J:return _e=B._init,ee(z,D,_e(B._payload),ue)}if(hs(B)||X(B))return _e!==null?null:se(z,D,B,ue,null);Uo(z,B)}return null}function pe(z,D,B,ue,_e){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return z=z.get(B)||null,P(D,z,""+ue,_e);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case A:return z=z.get(ue.key===null?B:ue.key)||null,I(D,z,ue,_e);case U:return z=z.get(ue.key===null?B:ue.key)||null,W(D,z,ue,_e);case J:var ke=ue._init;return pe(z,D,B,ke(ue._payload),_e)}if(hs(ue)||X(ue))return z=z.get(B)||null,se(D,z,ue,_e,null);Uo(D,ue)}return null}function xe(z,D,B,ue){for(var _e=null,ke=null,Ce=D,Te=D=0,Rt=null;Ce!==null&&Te<B.length;Te++){Ce.index>Te?(Rt=Ce,Ce=null):Rt=Ce.sibling;var He=ee(z,Ce,B[Te],ue);if(He===null){Ce===null&&(Ce=Rt);break}n&&Ce&&He.alternate===null&&s(z,Ce),D=y(He,D,Te),ke===null?_e=He:ke.sibling=He,ke=He,Ce=Rt}if(Te===B.length)return c(z,Ce),rt&&ws(z,Te),_e;if(Ce===null){for(;Te<B.length;Te++)Ce=le(z,B[Te],ue),Ce!==null&&(D=y(Ce,D,Te),ke===null?_e=Ce:ke.sibling=Ce,ke=Ce);return rt&&ws(z,Te),_e}for(Ce=d(z,Ce);Te<B.length;Te++)Rt=pe(Ce,z,Te,B[Te],ue),Rt!==null&&(n&&Rt.alternate!==null&&Ce.delete(Rt.key===null?Te:Rt.key),D=y(Rt,D,Te),ke===null?_e=Rt:ke.sibling=Rt,ke=Rt);return n&&Ce.forEach(function(Xr){return s(z,Xr)}),rt&&ws(z,Te),_e}function je(z,D,B,ue){var _e=X(B);if(typeof _e!="function")throw Error(r(150));if(B=_e.call(B),B==null)throw Error(r(151));for(var ke=_e=null,Ce=D,Te=D=0,Rt=null,He=B.next();Ce!==null&&!He.done;Te++,He=B.next()){Ce.index>Te?(Rt=Ce,Ce=null):Rt=Ce.sibling;var Xr=ee(z,Ce,He.value,ue);if(Xr===null){Ce===null&&(Ce=Rt);break}n&&Ce&&Xr.alternate===null&&s(z,Ce),D=y(Xr,D,Te),ke===null?_e=Xr:ke.sibling=Xr,ke=Xr,Ce=Rt}if(He.done)return c(z,Ce),rt&&ws(z,Te),_e;if(Ce===null){for(;!He.done;Te++,He=B.next())He=le(z,He.value,ue),He!==null&&(D=y(He,D,Te),ke===null?_e=He:ke.sibling=He,ke=He);return rt&&ws(z,Te),_e}for(Ce=d(z,Ce);!He.done;Te++,He=B.next())He=pe(Ce,z,Te,He.value,ue),He!==null&&(n&&He.alternate!==null&&Ce.delete(He.key===null?Te:He.key),D=y(He,D,Te),ke===null?_e=He:ke.sibling=He,ke=He);return n&&Ce.forEach(function(cj){return s(z,cj)}),rt&&ws(z,Te),_e}function pt(z,D,B,ue){if(typeof B=="object"&&B!==null&&B.type===T&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case A:e:{for(var _e=B.key,ke=D;ke!==null;){if(ke.key===_e){if(_e=B.type,_e===T){if(ke.tag===7){c(z,ke.sibling),D=m(ke,B.props.children),D.return=z,z=D;break e}}else if(ke.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===J&&Rp(_e)===ke.type){c(z,ke.sibling),D=m(ke,B.props),D.ref=ba(z,ke,B),D.return=z,z=D;break e}c(z,ke);break}else s(z,ke);ke=ke.sibling}B.type===T?(D=Cs(B.props.children,z.mode,ue,B.key),D.return=z,z=D):(ue=dl(B.type,B.key,B.props,null,z.mode,ue),ue.ref=ba(z,D,B),ue.return=z,z=ue)}return k(z);case U:e:{for(ke=B.key;D!==null;){if(D.key===ke)if(D.tag===4&&D.stateNode.containerInfo===B.containerInfo&&D.stateNode.implementation===B.implementation){c(z,D.sibling),D=m(D,B.children||[]),D.return=z,z=D;break e}else{c(z,D);break}else s(z,D);D=D.sibling}D=od(B,z.mode,ue),D.return=z,z=D}return k(z);case J:return ke=B._init,pt(z,D,ke(B._payload),ue)}if(hs(B))return xe(z,D,B,ue);if(X(B))return je(z,D,B,ue);Uo(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,D!==null&&D.tag===6?(c(z,D.sibling),D=m(D,B),D.return=z,z=D):(c(z,D),D=ad(B,z.mode,ue),D.return=z,z=D),k(z)):c(z,D)}return pt}var oi=Pp(!0),Tp=Pp(!1),Bo=Ur(null),Vo=null,li=null,gu=null;function vu(){gu=li=Vo=null}function xu(n){var s=Bo.current;tt(Bo),n._currentValue=s}function yu(n,s,c){for(;n!==null;){var d=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),n===c)break;n=n.return}}function ci(n,s){Vo=n,gu=li=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Yt=!0),n.firstContext=null)}function bn(n){var s=n._currentValue;if(gu!==n)if(n={context:n,memoizedValue:s,next:null},li===null){if(Vo===null)throw Error(r(308));li=n,Vo.dependencies={lanes:0,firstContext:n}}else li=li.next=n;return s}var bs=null;function wu(n){bs===null?bs=[n]:bs.push(n)}function Ap(n,s,c,d){var m=s.interleaved;return m===null?(c.next=c,wu(s)):(c.next=m.next,m.next=c),s.interleaved=c,hr(n,d)}function hr(n,s){n.lanes|=s;var c=n.alternate;for(c!==null&&(c.lanes|=s),c=n,n=n.return;n!==null;)n.childLanes|=s,c=n.alternate,c!==null&&(c.childLanes|=s),c=n,n=n.return;return c.tag===3?c.stateNode:null}var Wr=!1;function bu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ip(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function fr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Hr(n,s,c){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(We&2)!==0){var m=d.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),d.pending=s,hr(n,c)}return m=d.interleaved,m===null?(s.next=s,wu(d)):(s.next=m.next,m.next=s),d.interleaved=s,hr(n,c)}function Wo(n,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194240)!==0)){var d=s.lanes;d&=n.pendingLanes,c|=d,s.lanes=c,Lc(n,c)}}function Op(n,s){var c=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var k={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?m=y=k:y=y.next=k,c=c.next}while(c!==null);y===null?m=y=s:y=y.next=s}else m=y=s;c={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,effects:d.effects},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=s:n.next=s,c.lastBaseUpdate=s}function Ho(n,s,c,d){var m=n.updateQueue;Wr=!1;var y=m.firstBaseUpdate,k=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var I=P,W=I.next;I.next=null,k===null?y=W:k.next=W,k=I;var se=n.alternate;se!==null&&(se=se.updateQueue,P=se.lastBaseUpdate,P!==k&&(P===null?se.firstBaseUpdate=W:P.next=W,se.lastBaseUpdate=I))}if(y!==null){var le=m.baseState;k=0,se=W=I=null,P=y;do{var ee=P.lane,pe=P.eventTime;if((d&ee)===ee){se!==null&&(se=se.next={eventTime:pe,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var xe=n,je=P;switch(ee=s,pe=c,je.tag){case 1:if(xe=je.payload,typeof xe=="function"){le=xe.call(pe,le,ee);break e}le=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=je.payload,ee=typeof xe=="function"?xe.call(pe,le,ee):xe,ee==null)break e;le=Y({},le,ee);break e;case 2:Wr=!0}}P.callback!==null&&P.lane!==0&&(n.flags|=64,ee=m.effects,ee===null?m.effects=[P]:ee.push(P))}else pe={eventTime:pe,lane:ee,tag:P.tag,payload:P.payload,callback:P.callback,next:null},se===null?(W=se=pe,I=le):se=se.next=pe,k|=ee;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;ee=P,P=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(se===null&&(I=le),m.baseState=I,m.firstBaseUpdate=W,m.lastBaseUpdate=se,s=m.shared.interleaved,s!==null){m=s;do k|=m.lane,m=m.next;while(m!==s)}else y===null&&(m.shared.lanes=0);_s|=k,n.lanes=k,n.memoizedState=le}}function Lp(n,s,c){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var d=n[s],m=d.callback;if(m!==null){if(d.callback=null,d=c,typeof m!="function")throw Error(r(191,m));m.call(d)}}}var ja={},Gn=Ur(ja),Sa=Ur(ja),_a=Ur(ja);function js(n){if(n===ja)throw Error(r(174));return n}function ju(n,s){switch(Qe(_a,s),Qe(Sa,n),Qe(Gn,ja),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Qi(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=Qi(s,n)}tt(Gn),Qe(Gn,s)}function ui(){tt(Gn),tt(Sa),tt(_a)}function Dp(n){js(_a.current);var s=js(Gn.current),c=Qi(s,n.type);s!==c&&(Qe(Sa,n),Qe(Gn,c))}function Su(n){Sa.current===n&&(tt(Gn),tt(Sa))}var ot=Ur(0);function qo(n){for(var s=n;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var _u=[];function Nu(){for(var n=0;n<_u.length;n++)_u[n]._workInProgressVersionPrimary=null;_u.length=0}var Go=R.ReactCurrentDispatcher,Eu=R.ReactCurrentBatchConfig,Ss=0,lt=null,bt=null,kt=null,Ko=!1,Na=!1,Ea=0,Tb=0;function Ut(){throw Error(r(321))}function ku(n,s){if(s===null)return!1;for(var c=0;c<s.length&&c<n.length;c++)if(!Rn(n[c],s[c]))return!1;return!0}function Cu(n,s,c,d,m,y){if(Ss=y,lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Go.current=n===null||n.memoizedState===null?Lb:Db,n=c(d,m),Na){y=0;do{if(Na=!1,Ea=0,25<=y)throw Error(r(301));y+=1,kt=bt=null,s.updateQueue=null,Go.current=Mb,n=c(d,m)}while(Na)}if(Go.current=Qo,s=bt!==null&&bt.next!==null,Ss=0,kt=bt=lt=null,Ko=!1,s)throw Error(r(300));return n}function Ru(){var n=Ea!==0;return Ea=0,n}function Kn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?lt.memoizedState=kt=n:kt=kt.next=n,kt}function jn(){if(bt===null){var n=lt.alternate;n=n!==null?n.memoizedState:null}else n=bt.next;var s=kt===null?lt.memoizedState:kt.next;if(s!==null)kt=s,bt=n;else{if(n===null)throw Error(r(310));bt=n,n={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},kt===null?lt.memoizedState=kt=n:kt=kt.next=n}return kt}function ka(n,s){return typeof s=="function"?s(n):s}function Pu(n){var s=jn(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=n;var d=bt,m=d.baseQueue,y=c.pending;if(y!==null){if(m!==null){var k=m.next;m.next=y.next,y.next=k}d.baseQueue=m=y,c.pending=null}if(m!==null){y=m.next,d=d.baseState;var P=k=null,I=null,W=y;do{var se=W.lane;if((Ss&se)===se)I!==null&&(I=I.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),d=W.hasEagerState?W.eagerState:n(d,W.action);else{var le={lane:se,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};I===null?(P=I=le,k=d):I=I.next=le,lt.lanes|=se,_s|=se}W=W.next}while(W!==null&&W!==y);I===null?k=d:I.next=P,Rn(d,s.memoizedState)||(Yt=!0),s.memoizedState=d,s.baseState=k,s.baseQueue=I,c.lastRenderedState=d}if(n=c.interleaved,n!==null){m=n;do y=m.lane,lt.lanes|=y,_s|=y,m=m.next;while(m!==n)}else m===null&&(c.lanes=0);return[s.memoizedState,c.dispatch]}function Tu(n){var s=jn(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=n;var d=c.dispatch,m=c.pending,y=s.memoizedState;if(m!==null){c.pending=null;var k=m=m.next;do y=n(y,k.action),k=k.next;while(k!==m);Rn(y,s.memoizedState)||(Yt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),c.lastRenderedState=y}return[y,d]}function Mp(){}function $p(n,s){var c=lt,d=jn(),m=s(),y=!Rn(d.memoizedState,m);if(y&&(d.memoizedState=m,Yt=!0),d=d.queue,Au(Up.bind(null,c,d,n),[n]),d.getSnapshot!==s||y||kt!==null&&kt.memoizedState.tag&1){if(c.flags|=2048,Ca(9,zp.bind(null,c,d,m,s),void 0,null),Ct===null)throw Error(r(349));(Ss&30)!==0||Fp(c,s,m)}return m}function Fp(n,s,c){n.flags|=16384,n={getSnapshot:s,value:c},s=lt.updateQueue,s===null?(s={lastEffect:null,stores:null},lt.updateQueue=s,s.stores=[n]):(c=s.stores,c===null?s.stores=[n]:c.push(n))}function zp(n,s,c,d){s.value=c,s.getSnapshot=d,Bp(s)&&Vp(n)}function Up(n,s,c){return c(function(){Bp(s)&&Vp(n)})}function Bp(n){var s=n.getSnapshot;n=n.value;try{var c=s();return!Rn(n,c)}catch{return!0}}function Vp(n){var s=hr(n,1);s!==null&&On(s,n,1,-1)}function Wp(n){var s=Kn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:n},s.queue=n,n=n.dispatch=Ob.bind(null,lt,n),[s.memoizedState,n]}function Ca(n,s,c,d){return n={tag:n,create:s,destroy:c,deps:d,next:null},s=lt.updateQueue,s===null?(s={lastEffect:null,stores:null},lt.updateQueue=s,s.lastEffect=n.next=n):(c=s.lastEffect,c===null?s.lastEffect=n.next=n:(d=c.next,c.next=n,n.next=d,s.lastEffect=n)),n}function Hp(){return jn().memoizedState}function Jo(n,s,c,d){var m=Kn();lt.flags|=n,m.memoizedState=Ca(1|s,c,void 0,d===void 0?null:d)}function Yo(n,s,c,d){var m=jn();d=d===void 0?null:d;var y=void 0;if(bt!==null){var k=bt.memoizedState;if(y=k.destroy,d!==null&&ku(d,k.deps)){m.memoizedState=Ca(s,c,y,d);return}}lt.flags|=n,m.memoizedState=Ca(1|s,c,y,d)}function qp(n,s){return Jo(8390656,8,n,s)}function Au(n,s){return Yo(2048,8,n,s)}function Gp(n,s){return Yo(4,2,n,s)}function Kp(n,s){return Yo(4,4,n,s)}function Jp(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Yp(n,s,c){return c=c!=null?c.concat([n]):null,Yo(4,4,Jp.bind(null,s,n),c)}function Iu(){}function Qp(n,s){var c=jn();s=s===void 0?null:s;var d=c.memoizedState;return d!==null&&s!==null&&ku(s,d[1])?d[0]:(c.memoizedState=[n,s],n)}function Xp(n,s){var c=jn();s=s===void 0?null:s;var d=c.memoizedState;return d!==null&&s!==null&&ku(s,d[1])?d[0]:(n=n(),c.memoizedState=[n,s],n)}function Zp(n,s,c){return(Ss&21)===0?(n.baseState&&(n.baseState=!1,Yt=!0),n.memoizedState=c):(Rn(c,s)||(c=Rf(),lt.lanes|=c,_s|=c,n.baseState=!0),s)}function Ab(n,s){var c=Je;Je=c!==0&&4>c?c:4,n(!0);var d=Eu.transition;Eu.transition={};try{n(!1),s()}finally{Je=c,Eu.transition=d}}function em(){return jn().memoizedState}function Ib(n,s,c){var d=Jr(n);if(c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null},tm(n))nm(s,c);else if(c=Ap(n,s,c,d),c!==null){var m=Gt();On(c,n,d,m),rm(c,s,d)}}function Ob(n,s,c){var d=Jr(n),m={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(tm(n))nm(s,m);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var k=s.lastRenderedState,P=y(k,c);if(m.hasEagerState=!0,m.eagerState=P,Rn(P,k)){var I=s.interleaved;I===null?(m.next=m,wu(s)):(m.next=I.next,I.next=m),s.interleaved=m;return}}catch{}finally{}c=Ap(n,s,m,d),c!==null&&(m=Gt(),On(c,n,d,m),rm(c,s,d))}}function tm(n){var s=n.alternate;return n===lt||s!==null&&s===lt}function nm(n,s){Na=Ko=!0;var c=n.pending;c===null?s.next=s:(s.next=c.next,c.next=s),n.pending=s}function rm(n,s,c){if((c&4194240)!==0){var d=s.lanes;d&=n.pendingLanes,c|=d,s.lanes=c,Lc(n,c)}}var Qo={readContext:bn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},Lb={readContext:bn,useCallback:function(n,s){return Kn().memoizedState=[n,s===void 0?null:s],n},useContext:bn,useEffect:qp,useImperativeHandle:function(n,s,c){return c=c!=null?c.concat([n]):null,Jo(4194308,4,Jp.bind(null,s,n),c)},useLayoutEffect:function(n,s){return Jo(4194308,4,n,s)},useInsertionEffect:function(n,s){return Jo(4,2,n,s)},useMemo:function(n,s){var c=Kn();return s=s===void 0?null:s,n=n(),c.memoizedState=[n,s],n},useReducer:function(n,s,c){var d=Kn();return s=c!==void 0?c(s):s,d.memoizedState=d.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},d.queue=n,n=n.dispatch=Ib.bind(null,lt,n),[d.memoizedState,n]},useRef:function(n){var s=Kn();return n={current:n},s.memoizedState=n},useState:Wp,useDebugValue:Iu,useDeferredValue:function(n){return Kn().memoizedState=n},useTransition:function(){var n=Wp(!1),s=n[0];return n=Ab.bind(null,n[1]),Kn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,c){var d=lt,m=Kn();if(rt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),Ct===null)throw Error(r(349));(Ss&30)!==0||Fp(d,s,c)}m.memoizedState=c;var y={value:c,getSnapshot:s};return m.queue=y,qp(Up.bind(null,d,y,n),[n]),d.flags|=2048,Ca(9,zp.bind(null,d,y,c,s),void 0,null),c},useId:function(){var n=Kn(),s=Ct.identifierPrefix;if(rt){var c=dr,d=ur;c=(d&~(1<<32-Cn(d)-1)).toString(32)+c,s=":"+s+"R"+c,c=Ea++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=Tb++,s=":"+s+"r"+c.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},Db={readContext:bn,useCallback:Qp,useContext:bn,useEffect:Au,useImperativeHandle:Yp,useInsertionEffect:Gp,useLayoutEffect:Kp,useMemo:Xp,useReducer:Pu,useRef:Hp,useState:function(){return Pu(ka)},useDebugValue:Iu,useDeferredValue:function(n){var s=jn();return Zp(s,bt.memoizedState,n)},useTransition:function(){var n=Pu(ka)[0],s=jn().memoizedState;return[n,s]},useMutableSource:Mp,useSyncExternalStore:$p,useId:em,unstable_isNewReconciler:!1},Mb={readContext:bn,useCallback:Qp,useContext:bn,useEffect:Au,useImperativeHandle:Yp,useInsertionEffect:Gp,useLayoutEffect:Kp,useMemo:Xp,useReducer:Tu,useRef:Hp,useState:function(){return Tu(ka)},useDebugValue:Iu,useDeferredValue:function(n){var s=jn();return bt===null?s.memoizedState=n:Zp(s,bt.memoizedState,n)},useTransition:function(){var n=Tu(ka)[0],s=jn().memoizedState;return[n,s]},useMutableSource:Mp,useSyncExternalStore:$p,useId:em,unstable_isNewReconciler:!1};function Tn(n,s){if(n&&n.defaultProps){s=Y({},s),n=n.defaultProps;for(var c in n)s[c]===void 0&&(s[c]=n[c]);return s}return s}function Ou(n,s,c,d){s=n.memoizedState,c=c(d,s),c=c==null?s:Y({},s,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var Xo={isMounted:function(n){return(n=n._reactInternals)?gs(n)===n:!1},enqueueSetState:function(n,s,c){n=n._reactInternals;var d=Gt(),m=Jr(n),y=fr(d,m);y.payload=s,c!=null&&(y.callback=c),s=Hr(n,y,m),s!==null&&(On(s,n,m,d),Wo(s,n,m))},enqueueReplaceState:function(n,s,c){n=n._reactInternals;var d=Gt(),m=Jr(n),y=fr(d,m);y.tag=1,y.payload=s,c!=null&&(y.callback=c),s=Hr(n,y,m),s!==null&&(On(s,n,m,d),Wo(s,n,m))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var c=Gt(),d=Jr(n),m=fr(c,d);m.tag=2,s!=null&&(m.callback=s),s=Hr(n,m,d),s!==null&&(On(s,n,d,c),Wo(s,n,d))}};function sm(n,s,c,d,m,y,k){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,y,k):s.prototype&&s.prototype.isPureReactComponent?!pa(c,d)||!pa(m,y):!0}function im(n,s,c){var d=!1,m=Br,y=s.contextType;return typeof y=="object"&&y!==null?y=bn(y):(m=Jt(s)?xs:zt.current,d=s.contextTypes,y=(d=d!=null)?ri(n,m):Br),s=new s(c,y),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Xo,n.stateNode=s,s._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=m,n.__reactInternalMemoizedMaskedChildContext=y),s}function am(n,s,c,d){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,d),s.state!==n&&Xo.enqueueReplaceState(s,s.state,null)}function Lu(n,s,c,d){var m=n.stateNode;m.props=c,m.state=n.memoizedState,m.refs={},bu(n);var y=s.contextType;typeof y=="object"&&y!==null?m.context=bn(y):(y=Jt(s)?xs:zt.current,m.context=ri(n,y)),m.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Ou(n,s,y,c),m.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&Xo.enqueueReplaceState(m,m.state,null),Ho(n,c,m,d),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308)}function di(n,s){try{var c="",d=s;do c+=G(d),d=d.return;while(d);var m=c}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:n,source:s,stack:m,digest:null}}function Du(n,s,c){return{value:n,source:null,stack:c??null,digest:s??null}}function Mu(n,s){try{console.error(s.value)}catch(c){setTimeout(function(){throw c})}}var $b=typeof WeakMap=="function"?WeakMap:Map;function om(n,s,c){c=fr(-1,c),c.tag=3,c.payload={element:null};var d=s.value;return c.callback=function(){il||(il=!0,Xu=d),Mu(n,s)},c}function lm(n,s,c){c=fr(-1,c),c.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;c.payload=function(){return d(m)},c.callback=function(){Mu(n,s)}}var y=n.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){Mu(n,s),typeof d!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var k=s.stack;this.componentDidCatch(s.value,{componentStack:k!==null?k:""})}),c}function cm(n,s,c){var d=n.pingCache;if(d===null){d=n.pingCache=new $b;var m=new Set;d.set(s,m)}else m=d.get(s),m===void 0&&(m=new Set,d.set(s,m));m.has(c)||(m.add(c),n=Xb.bind(null,n,s,c),s.then(n,n))}function um(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function dm(n,s,c,d,m){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(s=fr(-1,1),s.tag=2,Hr(c,s,1))),c.lanes|=1),n):(n.flags|=65536,n.lanes=m,n)}var Fb=R.ReactCurrentOwner,Yt=!1;function qt(n,s,c,d){s.child=n===null?Tp(s,null,c,d):oi(s,n.child,c,d)}function hm(n,s,c,d,m){c=c.render;var y=s.ref;return ci(s,m),d=Cu(n,s,c,d,y,m),c=Ru(),n!==null&&!Yt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~m,pr(n,s,m)):(rt&&c&&du(s),s.flags|=1,qt(n,s,d,m),s.child)}function fm(n,s,c,d,m){if(n===null){var y=c.type;return typeof y=="function"&&!id(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(s.tag=15,s.type=y,pm(n,s,y,d,m)):(n=dl(c.type,null,d,s,s.mode,m),n.ref=s.ref,n.return=s,s.child=n)}if(y=n.child,(n.lanes&m)===0){var k=y.memoizedProps;if(c=c.compare,c=c!==null?c:pa,c(k,d)&&n.ref===s.ref)return pr(n,s,m)}return s.flags|=1,n=Qr(y,d),n.ref=s.ref,n.return=s,s.child=n}function pm(n,s,c,d,m){if(n!==null){var y=n.memoizedProps;if(pa(y,d)&&n.ref===s.ref)if(Yt=!1,s.pendingProps=d=y,(n.lanes&m)!==0)(n.flags&131072)!==0&&(Yt=!0);else return s.lanes=n.lanes,pr(n,s,m)}return $u(n,s,c,d,m)}function mm(n,s,c){var d=s.pendingProps,m=d.children,y=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(fi,cn),cn|=c;else{if((c&1073741824)===0)return n=y!==null?y.baseLanes|c:c,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Qe(fi,cn),cn|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:c,Qe(fi,cn),cn|=d}else y!==null?(d=y.baseLanes|c,s.memoizedState=null):d=c,Qe(fi,cn),cn|=d;return qt(n,s,m,c),s.child}function gm(n,s){var c=s.ref;(n===null&&c!==null||n!==null&&n.ref!==c)&&(s.flags|=512,s.flags|=2097152)}function $u(n,s,c,d,m){var y=Jt(c)?xs:zt.current;return y=ri(s,y),ci(s,m),c=Cu(n,s,c,d,y,m),d=Ru(),n!==null&&!Yt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~m,pr(n,s,m)):(rt&&d&&du(s),s.flags|=1,qt(n,s,c,m),s.child)}function vm(n,s,c,d,m){if(Jt(c)){var y=!0;Do(s)}else y=!1;if(ci(s,m),s.stateNode===null)el(n,s),im(s,c,d),Lu(s,c,d,m),d=!0;else if(n===null){var k=s.stateNode,P=s.memoizedProps;k.props=P;var I=k.context,W=c.contextType;typeof W=="object"&&W!==null?W=bn(W):(W=Jt(c)?xs:zt.current,W=ri(s,W));var se=c.getDerivedStateFromProps,le=typeof se=="function"||typeof k.getSnapshotBeforeUpdate=="function";le||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(P!==d||I!==W)&&am(s,k,d,W),Wr=!1;var ee=s.memoizedState;k.state=ee,Ho(s,d,k,m),I=s.memoizedState,P!==d||ee!==I||Kt.current||Wr?(typeof se=="function"&&(Ou(s,c,se,d),I=s.memoizedState),(P=Wr||sm(s,c,P,d,ee,I,W))?(le||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(s.flags|=4194308)):(typeof k.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=I),k.props=d,k.state=I,k.context=W,d=P):(typeof k.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{k=s.stateNode,Ip(n,s),P=s.memoizedProps,W=s.type===s.elementType?P:Tn(s.type,P),k.props=W,le=s.pendingProps,ee=k.context,I=c.contextType,typeof I=="object"&&I!==null?I=bn(I):(I=Jt(c)?xs:zt.current,I=ri(s,I));var pe=c.getDerivedStateFromProps;(se=typeof pe=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(P!==le||ee!==I)&&am(s,k,d,I),Wr=!1,ee=s.memoizedState,k.state=ee,Ho(s,d,k,m);var xe=s.memoizedState;P!==le||ee!==xe||Kt.current||Wr?(typeof pe=="function"&&(Ou(s,c,pe,d),xe=s.memoizedState),(W=Wr||sm(s,c,W,d,ee,xe,I)||!1)?(se||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(d,xe,I),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(d,xe,I)),typeof k.componentDidUpdate=="function"&&(s.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof k.componentDidUpdate!="function"||P===n.memoizedProps&&ee===n.memoizedState||(s.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||P===n.memoizedProps&&ee===n.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=xe),k.props=d,k.state=xe,k.context=I,d=W):(typeof k.componentDidUpdate!="function"||P===n.memoizedProps&&ee===n.memoizedState||(s.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||P===n.memoizedProps&&ee===n.memoizedState||(s.flags|=1024),d=!1)}return Fu(n,s,c,d,y,m)}function Fu(n,s,c,d,m,y){gm(n,s);var k=(s.flags&128)!==0;if(!d&&!k)return m&&jp(s,c,!1),pr(n,s,y);d=s.stateNode,Fb.current=s;var P=k&&typeof c.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,n!==null&&k?(s.child=oi(s,n.child,null,y),s.child=oi(s,null,P,y)):qt(n,s,P,y),s.memoizedState=d.state,m&&jp(s,c,!0),s.child}function xm(n){var s=n.stateNode;s.pendingContext?wp(n,s.pendingContext,s.pendingContext!==s.context):s.context&&wp(n,s.context,!1),ju(n,s.containerInfo)}function ym(n,s,c,d,m){return ai(),mu(m),s.flags|=256,qt(n,s,c,d),s.child}var zu={dehydrated:null,treeContext:null,retryLane:0};function Uu(n){return{baseLanes:n,cachePool:null,transitions:null}}function wm(n,s,c){var d=s.pendingProps,m=ot.current,y=!1,k=(s.flags&128)!==0,P;if((P=k)||(P=n!==null&&n.memoizedState===null?!1:(m&2)!==0),P?(y=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(m|=1),Qe(ot,m&1),n===null)return pu(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(k=d.children,n=d.fallback,y?(d=s.mode,y=s.child,k={mode:"hidden",children:k},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=k):y=hl(k,d,0,null),n=Cs(n,d,c,null),y.return=s,n.return=s,y.sibling=n,s.child=y,s.child.memoizedState=Uu(c),s.memoizedState=zu,n):Bu(s,k));if(m=n.memoizedState,m!==null&&(P=m.dehydrated,P!==null))return zb(n,s,k,d,P,m,c);if(y){y=d.fallback,k=s.mode,m=n.child,P=m.sibling;var I={mode:"hidden",children:d.children};return(k&1)===0&&s.child!==m?(d=s.child,d.childLanes=0,d.pendingProps=I,s.deletions=null):(d=Qr(m,I),d.subtreeFlags=m.subtreeFlags&14680064),P!==null?y=Qr(P,y):(y=Cs(y,k,c,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,k=n.child.memoizedState,k=k===null?Uu(c):{baseLanes:k.baseLanes|c,cachePool:null,transitions:k.transitions},y.memoizedState=k,y.childLanes=n.childLanes&~c,s.memoizedState=zu,d}return y=n.child,n=y.sibling,d=Qr(y,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=c),d.return=s,d.sibling=null,n!==null&&(c=s.deletions,c===null?(s.deletions=[n],s.flags|=16):c.push(n)),s.child=d,s.memoizedState=null,d}function Bu(n,s){return s=hl({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function Zo(n,s,c,d){return d!==null&&mu(d),oi(s,n.child,null,c),n=Bu(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function zb(n,s,c,d,m,y,k){if(c)return s.flags&256?(s.flags&=-257,d=Du(Error(r(422))),Zo(n,s,k,d)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(y=d.fallback,m=s.mode,d=hl({mode:"visible",children:d.children},m,0,null),y=Cs(y,m,k,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,(s.mode&1)!==0&&oi(s,n.child,null,k),s.child.memoizedState=Uu(k),s.memoizedState=zu,y);if((s.mode&1)===0)return Zo(n,s,k,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var P=d.dgst;return d=P,y=Error(r(419)),d=Du(y,d,void 0),Zo(n,s,k,d)}if(P=(k&n.childLanes)!==0,Yt||P){if(d=Ct,d!==null){switch(k&-k){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|k))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,hr(n,m),On(d,n,m,-1))}return sd(),d=Du(Error(r(421))),Zo(n,s,k,d)}return m.data==="$?"?(s.flags|=128,s.child=n.child,s=Zb.bind(null,n),m._reactRetry=s,null):(n=y.treeContext,ln=zr(m.nextSibling),on=s,rt=!0,Pn=null,n!==null&&(yn[wn++]=ur,yn[wn++]=dr,yn[wn++]=ys,ur=n.id,dr=n.overflow,ys=s),s=Bu(s,d.children),s.flags|=4096,s)}function bm(n,s,c){n.lanes|=s;var d=n.alternate;d!==null&&(d.lanes|=s),yu(n.return,s,c)}function Vu(n,s,c,d,m){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=c,y.tailMode=m)}function jm(n,s,c){var d=s.pendingProps,m=d.revealOrder,y=d.tail;if(qt(n,s,d.children,c),d=ot.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&bm(n,c,s);else if(n.tag===19)bm(n,c,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(Qe(ot,d),(s.mode&1)===0)s.memoizedState=null;else switch(m){case"forwards":for(c=s.child,m=null;c!==null;)n=c.alternate,n!==null&&qo(n)===null&&(m=c),c=c.sibling;c=m,c===null?(m=s.child,s.child=null):(m=c.sibling,c.sibling=null),Vu(s,!1,m,c,y);break;case"backwards":for(c=null,m=s.child,s.child=null;m!==null;){if(n=m.alternate,n!==null&&qo(n)===null){s.child=m;break}n=m.sibling,m.sibling=c,c=m,m=n}Vu(s,!0,c,null,y);break;case"together":Vu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function el(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function pr(n,s,c){if(n!==null&&(s.dependencies=n.dependencies),_s|=s.lanes,(c&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,c=Qr(n,n.pendingProps),s.child=c,c.return=s;n.sibling!==null;)n=n.sibling,c=c.sibling=Qr(n,n.pendingProps),c.return=s;c.sibling=null}return s.child}function Ub(n,s,c){switch(s.tag){case 3:xm(s),ai();break;case 5:Dp(s);break;case 1:Jt(s.type)&&Do(s);break;case 4:ju(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,m=s.memoizedProps.value;Qe(Bo,d._currentValue),d._currentValue=m;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Qe(ot,ot.current&1),s.flags|=128,null):(c&s.child.childLanes)!==0?wm(n,s,c):(Qe(ot,ot.current&1),n=pr(n,s,c),n!==null?n.sibling:null);Qe(ot,ot.current&1);break;case 19:if(d=(c&s.childLanes)!==0,(n.flags&128)!==0){if(d)return jm(n,s,c);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Qe(ot,ot.current),d)break;return null;case 22:case 23:return s.lanes=0,mm(n,s,c)}return pr(n,s,c)}var Sm,Wu,_m,Nm;Sm=function(n,s){for(var c=s.child;c!==null;){if(c.tag===5||c.tag===6)n.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Wu=function(){},_m=function(n,s,c,d){var m=n.memoizedProps;if(m!==d){n=s.stateNode,js(Gn.current);var y=null;switch(c){case"input":m=Ze(n,m),d=Ze(n,d),y=[];break;case"select":m=Y({},m,{value:void 0}),d=Y({},d,{value:void 0}),y=[];break;case"textarea":m=Ot(n,m),d=Ot(n,d),y=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=Io)}Gs(c,d);var k;c=null;for(W in m)if(!d.hasOwnProperty(W)&&m.hasOwnProperty(W)&&m[W]!=null)if(W==="style"){var P=m[W];for(k in P)P.hasOwnProperty(k)&&(c||(c={}),c[k]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?y||(y=[]):(y=y||[]).push(W,null));for(W in d){var I=d[W];if(P=m?.[W],d.hasOwnProperty(W)&&I!==P&&(I!=null||P!=null))if(W==="style")if(P){for(k in P)!P.hasOwnProperty(k)||I&&I.hasOwnProperty(k)||(c||(c={}),c[k]="");for(k in I)I.hasOwnProperty(k)&&P[k]!==I[k]&&(c||(c={}),c[k]=I[k])}else c||(y||(y=[]),y.push(W,c)),c=I;else W==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,P=P?P.__html:void 0,I!=null&&P!==I&&(y=y||[]).push(W,I)):W==="children"?typeof I!="string"&&typeof I!="number"||(y=y||[]).push(W,""+I):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(I!=null&&W==="onScroll"&&et("scroll",n),y||P===I||(y=[])):(y=y||[]).push(W,I))}c&&(y=y||[]).push("style",c);var W=y;(s.updateQueue=W)&&(s.flags|=4)}},Nm=function(n,s,c,d){c!==d&&(s.flags|=4)};function Ra(n,s){if(!rt)switch(n.tailMode){case"hidden":s=n.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Bt(n){var s=n.alternate!==null&&n.alternate.child===n.child,c=0,d=0;if(s)for(var m=n.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=d,n.childLanes=c,s}function Bb(n,s,c){var d=s.pendingProps;switch(hu(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(s),null;case 1:return Jt(s.type)&&Lo(),Bt(s),null;case 3:return d=s.stateNode,ui(),tt(Kt),tt(zt),Nu(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(zo(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Pn!==null&&(td(Pn),Pn=null))),Wu(n,s),Bt(s),null;case 5:Su(s);var m=js(_a.current);if(c=s.type,n!==null&&s.stateNode!=null)_m(n,s,c,d,m),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(r(166));return Bt(s),null}if(n=js(Gn.current),zo(s)){d=s.stateNode,c=s.type;var y=s.memoizedProps;switch(d[qn]=s,d[ya]=y,n=(s.mode&1)!==0,c){case"dialog":et("cancel",d),et("close",d);break;case"iframe":case"object":case"embed":et("load",d);break;case"video":case"audio":for(m=0;m<ga.length;m++)et(ga[m],d);break;case"source":et("error",d);break;case"img":case"image":case"link":et("error",d),et("load",d);break;case"details":et("toggle",d);break;case"input":mn(d,y),et("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},et("invalid",d);break;case"textarea":ar(d,y),et("invalid",d)}Gs(c,y),m=null;for(var k in y)if(y.hasOwnProperty(k)){var P=y[k];k==="children"?typeof P=="string"?d.textContent!==P&&(y.suppressHydrationWarning!==!0&&Ao(d.textContent,P,n),m=["children",P]):typeof P=="number"&&d.textContent!==""+P&&(y.suppressHydrationWarning!==!0&&Ao(d.textContent,P,n),m=["children",""+P]):o.hasOwnProperty(k)&&P!=null&&k==="onScroll"&&et("scroll",d)}switch(c){case"input":Ie(d),Yi(d,y,!0);break;case"textarea":Ie(d),co(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Io)}d=m,s.updateQueue=d,d!==null&&(s.flags|=4)}else{k=m.nodeType===9?m:m.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=fs(c)),n==="http://www.w3.org/1999/xhtml"?c==="script"?(n=k.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=k.createElement(c,{is:d.is}):(n=k.createElement(c),c==="select"&&(k=n,d.multiple?k.multiple=!0:d.size&&(k.size=d.size))):n=k.createElementNS(n,c),n[qn]=s,n[ya]=d,Sm(n,s,!1,!1),s.stateNode=n;e:{switch(k=Xi(c,d),c){case"dialog":et("cancel",n),et("close",n),m=d;break;case"iframe":case"object":case"embed":et("load",n),m=d;break;case"video":case"audio":for(m=0;m<ga.length;m++)et(ga[m],n);m=d;break;case"source":et("error",n),m=d;break;case"img":case"image":case"link":et("error",n),et("load",n),m=d;break;case"details":et("toggle",n),m=d;break;case"input":mn(n,d),m=Ze(n,d),et("invalid",n);break;case"option":m=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},m=Y({},d,{value:void 0}),et("invalid",n);break;case"textarea":ar(n,d),m=Ot(n,d),et("invalid",n);break;default:m=d}Gs(c,m),P=m;for(y in P)if(P.hasOwnProperty(y)){var I=P[y];y==="style"?ho(n,I):y==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&qs(n,I)):y==="children"?typeof I=="string"?(c!=="textarea"||I!=="")&&gn(n,I):typeof I=="number"&&gn(n,""+I):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?I!=null&&y==="onScroll"&&et("scroll",n):I!=null&&N(n,y,I,k))}switch(c){case"input":Ie(n),Yi(n,d,!1);break;case"textarea":Ie(n),co(n);break;case"option":d.value!=null&&n.setAttribute("value",""+ie(d.value));break;case"select":n.multiple=!!d.multiple,y=d.value,y!=null?kr(n,!!d.multiple,y,!1):d.defaultValue!=null&&kr(n,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(n.onclick=Io)}switch(c){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Bt(s),null;case 6:if(n&&s.stateNode!=null)Nm(n,s,n.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(c=js(_a.current),js(Gn.current),zo(s)){if(d=s.stateNode,c=s.memoizedProps,d[qn]=s,(y=d.nodeValue!==c)&&(n=on,n!==null))switch(n.tag){case 3:Ao(d.nodeValue,c,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ao(d.nodeValue,c,(n.mode&1)!==0)}y&&(s.flags|=4)}else d=(c.nodeType===9?c:c.ownerDocument).createTextNode(d),d[qn]=s,s.stateNode=d}return Bt(s),null;case 13:if(tt(ot),d=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(rt&&ln!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Cp(),ai(),s.flags|=98560,y=!1;else if(y=zo(s),d!==null&&d.dehydrated!==null){if(n===null){if(!y)throw Error(r(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[qn]=s}else ai(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Bt(s),y=!1}else Pn!==null&&(td(Pn),Pn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=c,s):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(ot.current&1)!==0?jt===0&&(jt=3):sd())),s.updateQueue!==null&&(s.flags|=4),Bt(s),null);case 4:return ui(),Wu(n,s),n===null&&va(s.stateNode.containerInfo),Bt(s),null;case 10:return xu(s.type._context),Bt(s),null;case 17:return Jt(s.type)&&Lo(),Bt(s),null;case 19:if(tt(ot),y=s.memoizedState,y===null)return Bt(s),null;if(d=(s.flags&128)!==0,k=y.rendering,k===null)if(d)Ra(y,!1);else{if(jt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(k=qo(n),k!==null){for(s.flags|=128,Ra(y,!1),d=k.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=c,c=s.child;c!==null;)y=c,n=d,y.flags&=14680066,k=y.alternate,k===null?(y.childLanes=0,y.lanes=n,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=k.childLanes,y.lanes=k.lanes,y.child=k.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=k.memoizedProps,y.memoizedState=k.memoizedState,y.updateQueue=k.updateQueue,y.type=k.type,n=k.dependencies,y.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),c=c.sibling;return Qe(ot,ot.current&1|2),s.child}n=n.sibling}y.tail!==null&&ft()>pi&&(s.flags|=128,d=!0,Ra(y,!1),s.lanes=4194304)}else{if(!d)if(n=qo(k),n!==null){if(s.flags|=128,d=!0,c=n.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),Ra(y,!0),y.tail===null&&y.tailMode==="hidden"&&!k.alternate&&!rt)return Bt(s),null}else 2*ft()-y.renderingStartTime>pi&&c!==1073741824&&(s.flags|=128,d=!0,Ra(y,!1),s.lanes=4194304);y.isBackwards?(k.sibling=s.child,s.child=k):(c=y.last,c!==null?c.sibling=k:s.child=k,y.last=k)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=ft(),s.sibling=null,c=ot.current,Qe(ot,d?c&1|2:c&1),s):(Bt(s),null);case 22:case 23:return rd(),d=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(cn&1073741824)!==0&&(Bt(s),s.subtreeFlags&6&&(s.flags|=8192)):Bt(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function Vb(n,s){switch(hu(s),s.tag){case 1:return Jt(s.type)&&Lo(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ui(),tt(Kt),tt(zt),Nu(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Su(s),null;case 13:if(tt(ot),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ai()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return tt(ot),null;case 4:return ui(),null;case 10:return xu(s.type._context),null;case 22:case 23:return rd(),null;case 24:return null;default:return null}}var tl=!1,Vt=!1,Wb=typeof WeakSet=="function"?WeakSet:Set,ve=null;function hi(n,s){var c=n.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(d){ut(n,s,d)}else c.current=null}function Hu(n,s,c){try{c()}catch(d){ut(n,s,d)}}var Em=!1;function Hb(n,s){if(ru=bo,n=sp(),Jc(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var k=0,P=-1,I=-1,W=0,se=0,le=n,ee=null;t:for(;;){for(var pe;le!==c||m!==0&&le.nodeType!==3||(P=k+m),le!==y||d!==0&&le.nodeType!==3||(I=k+d),le.nodeType===3&&(k+=le.nodeValue.length),(pe=le.firstChild)!==null;)ee=le,le=pe;for(;;){if(le===n)break t;if(ee===c&&++W===m&&(P=k),ee===y&&++se===d&&(I=k),(pe=le.nextSibling)!==null)break;le=ee,ee=le.parentNode}le=pe}c=P===-1||I===-1?null:{start:P,end:I}}else c=null}c=c||{start:0,end:0}}else c=null;for(su={focusedElem:n,selectionRange:c},bo=!1,ve=s;ve!==null;)if(s=ve,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ve=n;else for(;ve!==null;){s=ve;try{var xe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var je=xe.memoizedProps,pt=xe.memoizedState,z=s.stateNode,D=z.getSnapshotBeforeUpdate(s.elementType===s.type?je:Tn(s.type,je),pt);z.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var B=s.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ue){ut(s,s.return,ue)}if(n=s.sibling,n!==null){n.return=s.return,ve=n;break}ve=s.return}return xe=Em,Em=!1,xe}function Pa(n,s,c){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&n)===n){var y=m.destroy;m.destroy=void 0,y!==void 0&&Hu(s,c,y)}m=m.next}while(m!==d)}}function nl(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&n)===n){var d=c.create;c.destroy=d()}c=c.next}while(c!==s)}}function qu(n){var s=n.ref;if(s!==null){var c=n.stateNode;switch(n.tag){case 5:n=c;break;default:n=c}typeof s=="function"?s(n):s.current=n}}function km(n){var s=n.alternate;s!==null&&(n.alternate=null,km(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[qn],delete s[ya],delete s[lu],delete s[kb],delete s[Cb])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Cm(n){return n.tag===5||n.tag===3||n.tag===4}function Rm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Cm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Gu(n,s,c){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?c.nodeType===8?c.parentNode.insertBefore(n,s):c.insertBefore(n,s):(c.nodeType===8?(s=c.parentNode,s.insertBefore(n,c)):(s=c,s.appendChild(n)),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Io));else if(d!==4&&(n=n.child,n!==null))for(Gu(n,s,c),n=n.sibling;n!==null;)Gu(n,s,c),n=n.sibling}function Ku(n,s,c){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?c.insertBefore(n,s):c.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(Ku(n,s,c),n=n.sibling;n!==null;)Ku(n,s,c),n=n.sibling}var Dt=null,An=!1;function qr(n,s,c){for(c=c.child;c!==null;)Pm(n,s,c),c=c.sibling}function Pm(n,s,c){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(mo,c)}catch{}switch(c.tag){case 5:Vt||hi(c,s);case 6:var d=Dt,m=An;Dt=null,qr(n,s,c),Dt=d,An=m,Dt!==null&&(An?(n=Dt,c=c.stateNode,n.nodeType===8?n.parentNode.removeChild(c):n.removeChild(c)):Dt.removeChild(c.stateNode));break;case 18:Dt!==null&&(An?(n=Dt,c=c.stateNode,n.nodeType===8?ou(n.parentNode,c):n.nodeType===1&&ou(n,c),la(n)):ou(Dt,c.stateNode));break;case 4:d=Dt,m=An,Dt=c.stateNode.containerInfo,An=!0,qr(n,s,c),Dt=d,An=m;break;case 0:case 11:case 14:case 15:if(!Vt&&(d=c.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var y=m,k=y.destroy;y=y.tag,k!==void 0&&((y&2)!==0||(y&4)!==0)&&Hu(c,s,k),m=m.next}while(m!==d)}qr(n,s,c);break;case 1:if(!Vt&&(hi(c,s),d=c.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(P){ut(c,s,P)}qr(n,s,c);break;case 21:qr(n,s,c);break;case 22:c.mode&1?(Vt=(d=Vt)||c.memoizedState!==null,qr(n,s,c),Vt=d):qr(n,s,c);break;default:qr(n,s,c)}}function Tm(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var c=n.stateNode;c===null&&(c=n.stateNode=new Wb),s.forEach(function(d){var m=ej.bind(null,n,d);c.has(d)||(c.add(d),d.then(m,m))})}}function In(n,s){var c=s.deletions;if(c!==null)for(var d=0;d<c.length;d++){var m=c[d];try{var y=n,k=s,P=k;e:for(;P!==null;){switch(P.tag){case 5:Dt=P.stateNode,An=!1;break e;case 3:Dt=P.stateNode.containerInfo,An=!0;break e;case 4:Dt=P.stateNode.containerInfo,An=!0;break e}P=P.return}if(Dt===null)throw Error(r(160));Pm(y,k,m),Dt=null,An=!1;var I=m.alternate;I!==null&&(I.return=null),m.return=null}catch(W){ut(m,s,W)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Am(s,n),s=s.sibling}function Am(n,s){var c=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(In(s,n),Jn(n),d&4){try{Pa(3,n,n.return),nl(3,n)}catch(je){ut(n,n.return,je)}try{Pa(5,n,n.return)}catch(je){ut(n,n.return,je)}}break;case 1:In(s,n),Jn(n),d&512&&c!==null&&hi(c,c.return);break;case 5:if(In(s,n),Jn(n),d&512&&c!==null&&hi(c,c.return),n.flags&32){var m=n.stateNode;try{gn(m,"")}catch(je){ut(n,n.return,je)}}if(d&4&&(m=n.stateNode,m!=null)){var y=n.memoizedProps,k=c!==null?c.memoizedProps:y,P=n.type,I=n.updateQueue;if(n.updateQueue=null,I!==null)try{P==="input"&&y.type==="radio"&&y.name!=null&&tn(m,y),Xi(P,k);var W=Xi(P,y);for(k=0;k<I.length;k+=2){var se=I[k],le=I[k+1];se==="style"?ho(m,le):se==="dangerouslySetInnerHTML"?qs(m,le):se==="children"?gn(m,le):N(m,se,le,W)}switch(P){case"input":nn(m,y);break;case"textarea":lo(m,y);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var pe=y.value;pe!=null?kr(m,!!y.multiple,pe,!1):ee!==!!y.multiple&&(y.defaultValue!=null?kr(m,!!y.multiple,y.defaultValue,!0):kr(m,!!y.multiple,y.multiple?[]:"",!1))}m[ya]=y}catch(je){ut(n,n.return,je)}}break;case 6:if(In(s,n),Jn(n),d&4){if(n.stateNode===null)throw Error(r(162));m=n.stateNode,y=n.memoizedProps;try{m.nodeValue=y}catch(je){ut(n,n.return,je)}}break;case 3:if(In(s,n),Jn(n),d&4&&c!==null&&c.memoizedState.isDehydrated)try{la(s.containerInfo)}catch(je){ut(n,n.return,je)}break;case 4:In(s,n),Jn(n);break;case 13:In(s,n),Jn(n),m=n.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(Qu=ft())),d&4&&Tm(n);break;case 22:if(se=c!==null&&c.memoizedState!==null,n.mode&1?(Vt=(W=Vt)||se,In(s,n),Vt=W):In(s,n),Jn(n),d&8192){if(W=n.memoizedState!==null,(n.stateNode.isHidden=W)&&!se&&(n.mode&1)!==0)for(ve=n,se=n.child;se!==null;){for(le=ve=se;ve!==null;){switch(ee=ve,pe=ee.child,ee.tag){case 0:case 11:case 14:case 15:Pa(4,ee,ee.return);break;case 1:hi(ee,ee.return);var xe=ee.stateNode;if(typeof xe.componentWillUnmount=="function"){d=ee,c=ee.return;try{s=d,xe.props=s.memoizedProps,xe.state=s.memoizedState,xe.componentWillUnmount()}catch(je){ut(d,c,je)}}break;case 5:hi(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Lm(le);continue}}pe!==null?(pe.return=ee,ve=pe):Lm(le)}se=se.sibling}e:for(se=null,le=n;;){if(le.tag===5){if(se===null){se=le;try{m=le.stateNode,W?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(P=le.stateNode,I=le.memoizedProps.style,k=I!=null&&I.hasOwnProperty("display")?I.display:null,P.style.display=uo("display",k))}catch(je){ut(n,n.return,je)}}}else if(le.tag===6){if(se===null)try{le.stateNode.nodeValue=W?"":le.memoizedProps}catch(je){ut(n,n.return,je)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===n)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===n)break e;for(;le.sibling===null;){if(le.return===null||le.return===n)break e;se===le&&(se=null),le=le.return}se===le&&(se=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:In(s,n),Jn(n),d&4&&Tm(n);break;case 21:break;default:In(s,n),Jn(n)}}function Jn(n){var s=n.flags;if(s&2){try{e:{for(var c=n.return;c!==null;){if(Cm(c)){var d=c;break e}c=c.return}throw Error(r(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(gn(m,""),d.flags&=-33);var y=Rm(n);Ku(n,y,m);break;case 3:case 4:var k=d.stateNode.containerInfo,P=Rm(n);Gu(n,P,k);break;default:throw Error(r(161))}}catch(I){ut(n,n.return,I)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function qb(n,s,c){ve=n,Im(n)}function Im(n,s,c){for(var d=(n.mode&1)!==0;ve!==null;){var m=ve,y=m.child;if(m.tag===22&&d){var k=m.memoizedState!==null||tl;if(!k){var P=m.alternate,I=P!==null&&P.memoizedState!==null||Vt;P=tl;var W=Vt;if(tl=k,(Vt=I)&&!W)for(ve=m;ve!==null;)k=ve,I=k.child,k.tag===22&&k.memoizedState!==null?Dm(m):I!==null?(I.return=k,ve=I):Dm(m);for(;y!==null;)ve=y,Im(y),y=y.sibling;ve=m,tl=P,Vt=W}Om(n)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,ve=y):Om(n)}}function Om(n){for(;ve!==null;){var s=ve;if((s.flags&8772)!==0){var c=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Vt||nl(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Vt)if(c===null)d.componentDidMount();else{var m=s.elementType===s.type?c.memoizedProps:Tn(s.type,c.memoizedProps);d.componentDidUpdate(m,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Lp(s,y,d);break;case 3:var k=s.updateQueue;if(k!==null){if(c=null,s.child!==null)switch(s.child.tag){case 5:c=s.child.stateNode;break;case 1:c=s.child.stateNode}Lp(s,k,c)}break;case 5:var P=s.stateNode;if(c===null&&s.flags&4){c=P;var I=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&c.focus();break;case"img":I.src&&(c.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var W=s.alternate;if(W!==null){var se=W.memoizedState;if(se!==null){var le=se.dehydrated;le!==null&&la(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Vt||s.flags&512&&qu(s)}catch(ee){ut(s,s.return,ee)}}if(s===n){ve=null;break}if(c=s.sibling,c!==null){c.return=s.return,ve=c;break}ve=s.return}}function Lm(n){for(;ve!==null;){var s=ve;if(s===n){ve=null;break}var c=s.sibling;if(c!==null){c.return=s.return,ve=c;break}ve=s.return}}function Dm(n){for(;ve!==null;){var s=ve;try{switch(s.tag){case 0:case 11:case 15:var c=s.return;try{nl(4,s)}catch(I){ut(s,c,I)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var m=s.return;try{d.componentDidMount()}catch(I){ut(s,m,I)}}var y=s.return;try{qu(s)}catch(I){ut(s,y,I)}break;case 5:var k=s.return;try{qu(s)}catch(I){ut(s,k,I)}}}catch(I){ut(s,s.return,I)}if(s===n){ve=null;break}var P=s.sibling;if(P!==null){P.return=s.return,ve=P;break}ve=s.return}}var Gb=Math.ceil,rl=R.ReactCurrentDispatcher,Ju=R.ReactCurrentOwner,Sn=R.ReactCurrentBatchConfig,We=0,Ct=null,gt=null,Mt=0,cn=0,fi=Ur(0),jt=0,Ta=null,_s=0,sl=0,Yu=0,Aa=null,Qt=null,Qu=0,pi=1/0,mr=null,il=!1,Xu=null,Gr=null,al=!1,Kr=null,ol=0,Ia=0,Zu=null,ll=-1,cl=0;function Gt(){return(We&6)!==0?ft():ll!==-1?ll:ll=ft()}function Jr(n){return(n.mode&1)===0?1:(We&2)!==0&&Mt!==0?Mt&-Mt:Pb.transition!==null?(cl===0&&(cl=Rf()),cl):(n=Je,n!==0||(n=window.event,n=n===void 0?16:$f(n.type)),n)}function On(n,s,c,d){if(50<Ia)throw Ia=0,Zu=null,Error(r(185));ra(n,c,d),((We&2)===0||n!==Ct)&&(n===Ct&&((We&2)===0&&(sl|=c),jt===4&&Yr(n,Mt)),Xt(n,d),c===1&&We===0&&(s.mode&1)===0&&(pi=ft()+500,Mo&&Vr()))}function Xt(n,s){var c=n.callbackNode;Pw(n,s);var d=xo(n,n===Ct?Mt:0);if(d===0)c!==null&&Ef(c),n.callbackNode=null,n.callbackPriority=0;else if(s=d&-d,n.callbackPriority!==s){if(c!=null&&Ef(c),s===1)n.tag===0?Rb($m.bind(null,n)):Sp($m.bind(null,n)),Nb(function(){(We&6)===0&&Vr()}),c=null;else{switch(Pf(d)){case 1:c=Ac;break;case 4:c=kf;break;case 16:c=po;break;case 536870912:c=Cf;break;default:c=po}c=qm(c,Mm.bind(null,n))}n.callbackPriority=s,n.callbackNode=c}}function Mm(n,s){if(ll=-1,cl=0,(We&6)!==0)throw Error(r(327));var c=n.callbackNode;if(mi()&&n.callbackNode!==c)return null;var d=xo(n,n===Ct?Mt:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||s)s=ul(n,d);else{s=d;var m=We;We|=2;var y=zm();(Ct!==n||Mt!==s)&&(mr=null,pi=ft()+500,Es(n,s));do try{Yb();break}catch(P){Fm(n,P)}while(!0);vu(),rl.current=y,We=m,gt!==null?s=0:(Ct=null,Mt=0,s=jt)}if(s!==0){if(s===2&&(m=Ic(n),m!==0&&(d=m,s=ed(n,m))),s===1)throw c=Ta,Es(n,0),Yr(n,d),Xt(n,ft()),c;if(s===6)Yr(n,d);else{if(m=n.current.alternate,(d&30)===0&&!Kb(m)&&(s=ul(n,d),s===2&&(y=Ic(n),y!==0&&(d=y,s=ed(n,y))),s===1))throw c=Ta,Es(n,0),Yr(n,d),Xt(n,ft()),c;switch(n.finishedWork=m,n.finishedLanes=d,s){case 0:case 1:throw Error(r(345));case 2:ks(n,Qt,mr);break;case 3:if(Yr(n,d),(d&130023424)===d&&(s=Qu+500-ft(),10<s)){if(xo(n,0)!==0)break;if(m=n.suspendedLanes,(m&d)!==d){Gt(),n.pingedLanes|=n.suspendedLanes&m;break}n.timeoutHandle=au(ks.bind(null,n,Qt,mr),s);break}ks(n,Qt,mr);break;case 4:if(Yr(n,d),(d&4194240)===d)break;for(s=n.eventTimes,m=-1;0<d;){var k=31-Cn(d);y=1<<k,k=s[k],k>m&&(m=k),d&=~y}if(d=m,d=ft()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Gb(d/1960))-d,10<d){n.timeoutHandle=au(ks.bind(null,n,Qt,mr),d);break}ks(n,Qt,mr);break;case 5:ks(n,Qt,mr);break;default:throw Error(r(329))}}}return Xt(n,ft()),n.callbackNode===c?Mm.bind(null,n):null}function ed(n,s){var c=Aa;return n.current.memoizedState.isDehydrated&&(Es(n,s).flags|=256),n=ul(n,s),n!==2&&(s=Qt,Qt=c,s!==null&&td(s)),n}function td(n){Qt===null?Qt=n:Qt.push.apply(Qt,n)}function Kb(n){for(var s=n;;){if(s.flags&16384){var c=s.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var d=0;d<c.length;d++){var m=c[d],y=m.getSnapshot;m=m.value;try{if(!Rn(y(),m))return!1}catch{return!1}}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yr(n,s){for(s&=~Yu,s&=~sl,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var c=31-Cn(s),d=1<<c;n[c]=-1,s&=~d}}function $m(n){if((We&6)!==0)throw Error(r(327));mi();var s=xo(n,0);if((s&1)===0)return Xt(n,ft()),null;var c=ul(n,s);if(n.tag!==0&&c===2){var d=Ic(n);d!==0&&(s=d,c=ed(n,d))}if(c===1)throw c=Ta,Es(n,0),Yr(n,s),Xt(n,ft()),c;if(c===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,ks(n,Qt,mr),Xt(n,ft()),null}function nd(n,s){var c=We;We|=1;try{return n(s)}finally{We=c,We===0&&(pi=ft()+500,Mo&&Vr())}}function Ns(n){Kr!==null&&Kr.tag===0&&(We&6)===0&&mi();var s=We;We|=1;var c=Sn.transition,d=Je;try{if(Sn.transition=null,Je=1,n)return n()}finally{Je=d,Sn.transition=c,We=s,(We&6)===0&&Vr()}}function rd(){cn=fi.current,tt(fi)}function Es(n,s){n.finishedWork=null,n.finishedLanes=0;var c=n.timeoutHandle;if(c!==-1&&(n.timeoutHandle=-1,_b(c)),gt!==null)for(c=gt.return;c!==null;){var d=c;switch(hu(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Lo();break;case 3:ui(),tt(Kt),tt(zt),Nu();break;case 5:Su(d);break;case 4:ui();break;case 13:tt(ot);break;case 19:tt(ot);break;case 10:xu(d.type._context);break;case 22:case 23:rd()}c=c.return}if(Ct=n,gt=n=Qr(n.current,null),Mt=cn=s,jt=0,Ta=null,Yu=sl=_s=0,Qt=Aa=null,bs!==null){for(s=0;s<bs.length;s++)if(c=bs[s],d=c.interleaved,d!==null){c.interleaved=null;var m=d.next,y=c.pending;if(y!==null){var k=y.next;y.next=m,d.next=k}c.pending=d}bs=null}return n}function Fm(n,s){do{var c=gt;try{if(vu(),Go.current=Qo,Ko){for(var d=lt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Ko=!1}if(Ss=0,kt=bt=lt=null,Na=!1,Ea=0,Ju.current=null,c===null||c.return===null){jt=1,Ta=s,gt=null;break}e:{var y=n,k=c.return,P=c,I=s;if(s=Mt,P.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=I,se=P,le=se.tag;if((se.mode&1)===0&&(le===0||le===11||le===15)){var ee=se.alternate;ee?(se.updateQueue=ee.updateQueue,se.memoizedState=ee.memoizedState,se.lanes=ee.lanes):(se.updateQueue=null,se.memoizedState=null)}var pe=um(k);if(pe!==null){pe.flags&=-257,dm(pe,k,P,y,s),pe.mode&1&&cm(y,W,s),s=pe,I=W;var xe=s.updateQueue;if(xe===null){var je=new Set;je.add(I),s.updateQueue=je}else xe.add(I);break e}else{if((s&1)===0){cm(y,W,s),sd();break e}I=Error(r(426))}}else if(rt&&P.mode&1){var pt=um(k);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),dm(pt,k,P,y,s),mu(di(I,P));break e}}y=I=di(I,P),jt!==4&&(jt=2),Aa===null?Aa=[y]:Aa.push(y),y=k;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var z=om(y,I,s);Op(y,z);break e;case 1:P=I;var D=y.type,B=y.stateNode;if((y.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Gr===null||!Gr.has(B)))){y.flags|=65536,s&=-s,y.lanes|=s;var ue=lm(y,P,s);Op(y,ue);break e}}y=y.return}while(y!==null)}Bm(c)}catch(_e){s=_e,gt===c&&c!==null&&(gt=c=c.return);continue}break}while(!0)}function zm(){var n=rl.current;return rl.current=Qo,n===null?Qo:n}function sd(){(jt===0||jt===3||jt===2)&&(jt=4),Ct===null||(_s&268435455)===0&&(sl&268435455)===0||Yr(Ct,Mt)}function ul(n,s){var c=We;We|=2;var d=zm();(Ct!==n||Mt!==s)&&(mr=null,Es(n,s));do try{Jb();break}catch(m){Fm(n,m)}while(!0);if(vu(),We=c,rl.current=d,gt!==null)throw Error(r(261));return Ct=null,Mt=0,jt}function Jb(){for(;gt!==null;)Um(gt)}function Yb(){for(;gt!==null&&!bw();)Um(gt)}function Um(n){var s=Hm(n.alternate,n,cn);n.memoizedProps=n.pendingProps,s===null?Bm(n):gt=s,Ju.current=null}function Bm(n){var s=n;do{var c=s.alternate;if(n=s.return,(s.flags&32768)===0){if(c=Bb(c,s,cn),c!==null){gt=c;return}}else{if(c=Vb(c,s),c!==null){c.flags&=32767,gt=c;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{jt=6,gt=null;return}}if(s=s.sibling,s!==null){gt=s;return}gt=s=n}while(s!==null);jt===0&&(jt=5)}function ks(n,s,c){var d=Je,m=Sn.transition;try{Sn.transition=null,Je=1,Qb(n,s,c,d)}finally{Sn.transition=m,Je=d}return null}function Qb(n,s,c,d){do mi();while(Kr!==null);if((We&6)!==0)throw Error(r(327));c=n.finishedWork;var m=n.finishedLanes;if(c===null)return null;if(n.finishedWork=null,n.finishedLanes=0,c===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var y=c.lanes|c.childLanes;if(Tw(n,y),n===Ct&&(gt=Ct=null,Mt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||al||(al=!0,qm(po,function(){return mi(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=Sn.transition,Sn.transition=null;var k=Je;Je=1;var P=We;We|=4,Ju.current=null,Hb(n,c),Am(c,n),vb(su),bo=!!ru,su=ru=null,n.current=c,qb(c),jw(),We=P,Je=k,Sn.transition=y}else n.current=c;if(al&&(al=!1,Kr=n,ol=m),y=n.pendingLanes,y===0&&(Gr=null),Nw(c.stateNode),Xt(n,ft()),s!==null)for(d=n.onRecoverableError,c=0;c<s.length;c++)m=s[c],d(m.value,{componentStack:m.stack,digest:m.digest});if(il)throw il=!1,n=Xu,Xu=null,n;return(ol&1)!==0&&n.tag!==0&&mi(),y=n.pendingLanes,(y&1)!==0?n===Zu?Ia++:(Ia=0,Zu=n):Ia=0,Vr(),null}function mi(){if(Kr!==null){var n=Pf(ol),s=Sn.transition,c=Je;try{if(Sn.transition=null,Je=16>n?16:n,Kr===null)var d=!1;else{if(n=Kr,Kr=null,ol=0,(We&6)!==0)throw Error(r(331));var m=We;for(We|=4,ve=n.current;ve!==null;){var y=ve,k=y.child;if((ve.flags&16)!==0){var P=y.deletions;if(P!==null){for(var I=0;I<P.length;I++){var W=P[I];for(ve=W;ve!==null;){var se=ve;switch(se.tag){case 0:case 11:case 15:Pa(8,se,y)}var le=se.child;if(le!==null)le.return=se,ve=le;else for(;ve!==null;){se=ve;var ee=se.sibling,pe=se.return;if(km(se),se===W){ve=null;break}if(ee!==null){ee.return=pe,ve=ee;break}ve=pe}}}var xe=y.alternate;if(xe!==null){var je=xe.child;if(je!==null){xe.child=null;do{var pt=je.sibling;je.sibling=null,je=pt}while(je!==null)}}ve=y}}if((y.subtreeFlags&2064)!==0&&k!==null)k.return=y,ve=k;else e:for(;ve!==null;){if(y=ve,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Pa(9,y,y.return)}var z=y.sibling;if(z!==null){z.return=y.return,ve=z;break e}ve=y.return}}var D=n.current;for(ve=D;ve!==null;){k=ve;var B=k.child;if((k.subtreeFlags&2064)!==0&&B!==null)B.return=k,ve=B;else e:for(k=D;ve!==null;){if(P=ve,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:nl(9,P)}}catch(_e){ut(P,P.return,_e)}if(P===k){ve=null;break e}var ue=P.sibling;if(ue!==null){ue.return=P.return,ve=ue;break e}ve=P.return}}if(We=m,Vr(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(mo,n)}catch{}d=!0}return d}finally{Je=c,Sn.transition=s}}return!1}function Vm(n,s,c){s=di(c,s),s=om(n,s,1),n=Hr(n,s,1),s=Gt(),n!==null&&(ra(n,1,s),Xt(n,s))}function ut(n,s,c){if(n.tag===3)Vm(n,n,c);else for(;s!==null;){if(s.tag===3){Vm(s,n,c);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Gr===null||!Gr.has(d))){n=di(c,n),n=lm(s,n,1),s=Hr(s,n,1),n=Gt(),s!==null&&(ra(s,1,n),Xt(s,n));break}}s=s.return}}function Xb(n,s,c){var d=n.pingCache;d!==null&&d.delete(s),s=Gt(),n.pingedLanes|=n.suspendedLanes&c,Ct===n&&(Mt&c)===c&&(jt===4||jt===3&&(Mt&130023424)===Mt&&500>ft()-Qu?Es(n,0):Yu|=c),Xt(n,s)}function Wm(n,s){s===0&&((n.mode&1)===0?s=1:(s=vo,vo<<=1,(vo&130023424)===0&&(vo=4194304)));var c=Gt();n=hr(n,s),n!==null&&(ra(n,s,c),Xt(n,c))}function Zb(n){var s=n.memoizedState,c=0;s!==null&&(c=s.retryLane),Wm(n,c)}function ej(n,s){var c=0;switch(n.tag){case 13:var d=n.stateNode,m=n.memoizedState;m!==null&&(c=m.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(r(314))}d!==null&&d.delete(s),Wm(n,c)}var Hm;Hm=function(n,s,c){if(n!==null)if(n.memoizedProps!==s.pendingProps||Kt.current)Yt=!0;else{if((n.lanes&c)===0&&(s.flags&128)===0)return Yt=!1,Ub(n,s,c);Yt=(n.flags&131072)!==0}else Yt=!1,rt&&(s.flags&1048576)!==0&&_p(s,Fo,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;el(n,s),n=s.pendingProps;var m=ri(s,zt.current);ci(s,c),m=Cu(null,s,d,n,m,c);var y=Ru();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Jt(d)?(y=!0,Do(s)):y=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,bu(s),m.updater=Xo,s.stateNode=m,m._reactInternals=s,Lu(s,d,n,c),s=Fu(null,s,d,!0,y,c)):(s.tag=0,rt&&y&&du(s),qt(null,s,m,c),s=s.child),s;case 16:d=s.elementType;e:{switch(el(n,s),n=s.pendingProps,m=d._init,d=m(d._payload),s.type=d,m=s.tag=nj(d),n=Tn(d,n),m){case 0:s=$u(null,s,d,n,c);break e;case 1:s=vm(null,s,d,n,c);break e;case 11:s=hm(null,s,d,n,c);break e;case 14:s=fm(null,s,d,Tn(d.type,n),c);break e}throw Error(r(306,d,""))}return s;case 0:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:Tn(d,m),$u(n,s,d,m,c);case 1:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:Tn(d,m),vm(n,s,d,m,c);case 3:e:{if(xm(s),n===null)throw Error(r(387));d=s.pendingProps,y=s.memoizedState,m=y.element,Ip(n,s),Ho(s,d,null,c);var k=s.memoizedState;if(d=k.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){m=di(Error(r(423)),s),s=ym(n,s,d,c,m);break e}else if(d!==m){m=di(Error(r(424)),s),s=ym(n,s,d,c,m);break e}else for(ln=zr(s.stateNode.containerInfo.firstChild),on=s,rt=!0,Pn=null,c=Tp(s,null,d,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ai(),d===m){s=pr(n,s,c);break e}qt(n,s,d,c)}s=s.child}return s;case 5:return Dp(s),n===null&&pu(s),d=s.type,m=s.pendingProps,y=n!==null?n.memoizedProps:null,k=m.children,iu(d,m)?k=null:y!==null&&iu(d,y)&&(s.flags|=32),gm(n,s),qt(n,s,k,c),s.child;case 6:return n===null&&pu(s),null;case 13:return wm(n,s,c);case 4:return ju(s,s.stateNode.containerInfo),d=s.pendingProps,n===null?s.child=oi(s,null,d,c):qt(n,s,d,c),s.child;case 11:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:Tn(d,m),hm(n,s,d,m,c);case 7:return qt(n,s,s.pendingProps,c),s.child;case 8:return qt(n,s,s.pendingProps.children,c),s.child;case 12:return qt(n,s,s.pendingProps.children,c),s.child;case 10:e:{if(d=s.type._context,m=s.pendingProps,y=s.memoizedProps,k=m.value,Qe(Bo,d._currentValue),d._currentValue=k,y!==null)if(Rn(y.value,k)){if(y.children===m.children&&!Kt.current){s=pr(n,s,c);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var P=y.dependencies;if(P!==null){k=y.child;for(var I=P.firstContext;I!==null;){if(I.context===d){if(y.tag===1){I=fr(-1,c&-c),I.tag=2;var W=y.updateQueue;if(W!==null){W=W.shared;var se=W.pending;se===null?I.next=I:(I.next=se.next,se.next=I),W.pending=I}}y.lanes|=c,I=y.alternate,I!==null&&(I.lanes|=c),yu(y.return,c,s),P.lanes|=c;break}I=I.next}}else if(y.tag===10)k=y.type===s.type?null:y.child;else if(y.tag===18){if(k=y.return,k===null)throw Error(r(341));k.lanes|=c,P=k.alternate,P!==null&&(P.lanes|=c),yu(k,c,s),k=y.sibling}else k=y.child;if(k!==null)k.return=y;else for(k=y;k!==null;){if(k===s){k=null;break}if(y=k.sibling,y!==null){y.return=k.return,k=y;break}k=k.return}y=k}qt(n,s,m.children,c),s=s.child}return s;case 9:return m=s.type,d=s.pendingProps.children,ci(s,c),m=bn(m),d=d(m),s.flags|=1,qt(n,s,d,c),s.child;case 14:return d=s.type,m=Tn(d,s.pendingProps),m=Tn(d.type,m),fm(n,s,d,m,c);case 15:return pm(n,s,s.type,s.pendingProps,c);case 17:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:Tn(d,m),el(n,s),s.tag=1,Jt(d)?(n=!0,Do(s)):n=!1,ci(s,c),im(s,d,m),Lu(s,d,m,c),Fu(null,s,d,!0,n,c);case 19:return jm(n,s,c);case 22:return mm(n,s,c)}throw Error(r(156,s.tag))};function qm(n,s){return Nf(n,s)}function tj(n,s,c,d){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(n,s,c,d){return new tj(n,s,c,d)}function id(n){return n=n.prototype,!(!n||!n.isReactComponent)}function nj(n){if(typeof n=="function")return id(n)?1:0;if(n!=null){if(n=n.$$typeof,n===H)return 11;if(n===me)return 14}return 2}function Qr(n,s){var c=n.alternate;return c===null?(c=_n(n.tag,s,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=s,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&14680064,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,s=n.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c}function dl(n,s,c,d,m,y){var k=2;if(d=n,typeof n=="function")id(n)&&(k=1);else if(typeof n=="string")k=5;else e:switch(n){case T:return Cs(c.children,m,y,s);case O:k=8,m|=8;break;case F:return n=_n(12,c,s,m|2),n.elementType=F,n.lanes=y,n;case re:return n=_n(13,c,s,m),n.elementType=re,n.lanes=y,n;case ce:return n=_n(19,c,s,m),n.elementType=ce,n.lanes=y,n;case ae:return hl(c,m,y,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case $:k=10;break e;case Z:k=9;break e;case H:k=11;break e;case me:k=14;break e;case J:k=16,d=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=_n(k,c,s,m),s.elementType=n,s.type=d,s.lanes=y,s}function Cs(n,s,c,d){return n=_n(7,n,d,s),n.lanes=c,n}function hl(n,s,c,d){return n=_n(22,n,d,s),n.elementType=ae,n.lanes=c,n.stateNode={isHidden:!1},n}function ad(n,s,c){return n=_n(6,n,null,s),n.lanes=c,n}function od(n,s,c){return s=_n(4,n.children!==null?n.children:[],n.key,s),s.lanes=c,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function rj(n,s,c,d,m){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oc(0),this.expirationTimes=Oc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oc(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function ld(n,s,c,d,m,y,k,P,I){return n=new rj(n,s,c,P,I),s===1?(s=1,y===!0&&(s|=8)):s=0,y=_n(3,null,null,s),n.current=y,y.stateNode=n,y.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},bu(y),n}function sj(n,s,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:d==null?null:""+d,children:n,containerInfo:s,implementation:c}}function Gm(n){if(!n)return Br;n=n._reactInternals;e:{if(gs(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Jt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var c=n.type;if(Jt(c))return bp(n,c,s)}return s}function Km(n,s,c,d,m,y,k,P,I){return n=ld(c,d,!0,n,m,y,k,P,I),n.context=Gm(null),c=n.current,d=Gt(),m=Jr(c),y=fr(d,m),y.callback=s??null,Hr(c,y,m),n.current.lanes=m,ra(n,m,d),Xt(n,d),n}function fl(n,s,c,d){var m=s.current,y=Gt(),k=Jr(m);return c=Gm(c),s.context===null?s.context=c:s.pendingContext=c,s=fr(y,k),s.payload={element:n},d=d===void 0?null:d,d!==null&&(s.callback=d),n=Hr(m,s,k),n!==null&&(On(n,m,k,y),Wo(n,m,k)),k}function pl(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Jm(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<s?c:s}}function cd(n,s){Jm(n,s),(n=n.alternate)&&Jm(n,s)}function ij(){return null}var Ym=typeof reportError=="function"?reportError:function(n){console.error(n)};function ud(n){this._internalRoot=n}ml.prototype.render=ud.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));fl(n,s,null,null)},ml.prototype.unmount=ud.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Ns(function(){fl(null,n,null,null)}),s[lr]=null}};function ml(n){this._internalRoot=n}ml.prototype.unstable_scheduleHydration=function(n){if(n){var s=If();n={blockedOn:null,target:n,priority:s};for(var c=0;c<Mr.length&&s!==0&&s<Mr[c].priority;c++);Mr.splice(c,0,n),c===0&&Df(n)}};function dd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function gl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Qm(){}function aj(n,s,c,d,m){if(m){if(typeof d=="function"){var y=d;d=function(){var W=pl(k);y.call(W)}}var k=Km(s,d,n,0,null,!1,!1,"",Qm);return n._reactRootContainer=k,n[lr]=k.current,va(n.nodeType===8?n.parentNode:n),Ns(),k}for(;m=n.lastChild;)n.removeChild(m);if(typeof d=="function"){var P=d;d=function(){var W=pl(I);P.call(W)}}var I=ld(n,0,!1,null,null,!1,!1,"",Qm);return n._reactRootContainer=I,n[lr]=I.current,va(n.nodeType===8?n.parentNode:n),Ns(function(){fl(s,I,c,d)}),I}function vl(n,s,c,d,m){var y=c._reactRootContainer;if(y){var k=y;if(typeof m=="function"){var P=m;m=function(){var I=pl(k);P.call(I)}}fl(s,k,n,m)}else k=aj(c,s,n,m,d);return pl(k)}Tf=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var c=na(s.pendingLanes);c!==0&&(Lc(s,c|1),Xt(s,ft()),(We&6)===0&&(pi=ft()+500,Vr()))}break;case 13:Ns(function(){var d=hr(n,1);if(d!==null){var m=Gt();On(d,n,1,m)}}),cd(n,1)}},Dc=function(n){if(n.tag===13){var s=hr(n,134217728);if(s!==null){var c=Gt();On(s,n,134217728,c)}cd(n,134217728)}},Af=function(n){if(n.tag===13){var s=Jr(n),c=hr(n,s);if(c!==null){var d=Gt();On(c,n,s,d)}cd(n,s)}},If=function(){return Je},Of=function(n,s){var c=Je;try{return Je=n,s()}finally{Je=c}},Zi=function(n,s,c){switch(s){case"input":if(nn(n,c),s=c.name,c.type==="radio"&&s!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<c.length;s++){var d=c[s];if(d!==n&&d.form===n.form){var m=Oo(d);if(!m)throw Error(r(90));De(d),nn(d,m)}}}break;case"textarea":lo(n,c);break;case"select":s=c.value,s!=null&&kr(n,!!c.multiple,s,!1)}},wt=nd,Ft=Ns;var oj={usingClientEntryPoint:!1,Events:[wa,ti,Oo,Oe,ht,nd]},Oa={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lj={bundleType:Oa.bundleType,version:Oa.version,rendererPackageName:Oa.rendererPackageName,rendererConfig:Oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Sf(n),n===null?null:n.stateNode},findFiberByHostInstance:Oa.findFiberByHostInstance||ij,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{mo=xl.inject(lj),Hn=xl}catch{}}return Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oj,Zt.createPortal=function(n,s){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dd(s))throw Error(r(200));return sj(n,s,null,c)},Zt.createRoot=function(n,s){if(!dd(n))throw Error(r(299));var c=!1,d="",m=Ym;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=ld(n,1,!1,null,null,c,!1,d,m),n[lr]=s.current,va(n.nodeType===8?n.parentNode:n),new ud(s)},Zt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=Sf(s),n=n===null?null:n.stateNode,n},Zt.flushSync=function(n){return Ns(n)},Zt.hydrate=function(n,s,c){if(!gl(s))throw Error(r(200));return vl(null,n,s,!0,c)},Zt.hydrateRoot=function(n,s,c){if(!dd(n))throw Error(r(405));var d=c!=null&&c.hydratedSources||null,m=!1,y="",k=Ym;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),s=Km(s,null,n,1,c??null,m,!1,y,k),n[lr]=s.current,va(n),d)for(n=0;n<d.length;n++)c=d[n],m=c._getVersion,m=m(c._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[c,m]:s.mutableSourceEagerHydrationData.push(c,m);return new ml(s)},Zt.render=function(n,s,c){if(!gl(s))throw Error(r(200));return vl(null,n,s,!1,c)},Zt.unmountComponentAtNode=function(n){if(!gl(n))throw Error(r(40));return n._reactRootContainer?(Ns(function(){vl(null,null,n,!1,function(){n._reactRootContainer=null,n[lr]=null})}),!0):!1},Zt.unstable_batchedUpdates=nd,Zt.unstable_renderSubtreeIntoContainer=function(n,s,c,d){if(!gl(c))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return vl(n,s,c,!1,d)},Zt.version="18.3.1-next-f1338f8080-20240426",Zt}var ig;function Tv(){if(ig)return pd.exports;ig=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pd.exports=gj(),pd.exports}var ag;function vj(){if(ag)return yl;ag=1;var t=Tv();return yl.createRoot=t.createRoot,yl.hydrateRoot=t.hydrateRoot,yl}var xj=vj(),v=cc();const de=jh(v),Sh=Pv({__proto__:null,default:de},[v]);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var og="popstate";function yj(t={}){function e(a,o){let{pathname:l,search:u,hash:h}=a.location;return Hd("",{pathname:l,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(a,o){return typeof o=="string"?o:Va(o)}return bj(e,r,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wj(){return Math.random().toString(36).substring(2,10)}function lg(t,e){return{usr:t.state,key:t.key,idx:e}}function Hd(t,e,r=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?$i(e):e,state:r,key:e&&e.key||a||wj()}}function Va({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function $i(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function bj(t,e,r,a={}){let{window:o=document.defaultView,v5Compat:l=!1}=a,u=o.history,h="POP",f=null,p=x();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function x(){return(u.state||{idx:null}).idx}function g(){h="POP";let j=x(),E=j==null?null:j-p;p=j,f&&f({action:h,location:_.location,delta:E})}function b(j,E){h="PUSH";let S=Hd(_.location,j,E);p=x()+1;let N=lg(S,p),R=_.createHref(S);try{u.pushState(N,"",R)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;o.location.assign(R)}l&&f&&f({action:h,location:_.location,delta:1})}function w(j,E){h="REPLACE";let S=Hd(_.location,j,E);p=x();let N=lg(S,p),R=_.createHref(S);u.replaceState(N,"",R),l&&f&&f({action:h,location:_.location,delta:0})}function C(j){return jj(j)}let _={get action(){return h},get location(){return t(o,u)},listen(j){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(og,g),f=j,()=>{o.removeEventListener(og,g),f=null}},createHref(j){return e(o,j)},createURL:C,encodeLocation(j){let E=C(j);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:b,replace:w,go(j){return u.go(j)}};return _}function jj(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),at(r,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:Va(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function Av(t,e,r="/"){return Sj(t,e,r,!1)}function Sj(t,e,r,a){let o=typeof e=="string"?$i(e):e,l=wr(o.pathname||"/",r);if(l==null)return null;let u=Iv(t);_j(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=Lj(l);h=Ij(u[f],p,a)}return h}function Iv(t,e=[],r=[],a="",o=!1){let l=(u,h,f=o,p)=>{let x={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(a)&&f)return;at(x.relativePath.startsWith(a),`Absolute route path "${x.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(a.length)}let g=yr([a,x.relativePath]),b=r.concat(x);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Iv(u.children,e,b,g,f)),!(u.path==null&&!u.index)&&e.push({path:g,score:Tj(g,u.index),routesMeta:b})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let f of Ov(u.path))l(u,h,!0,f)}),e}function Ov(t){let e=t.split("/");if(e.length===0)return[];let[r,...a]=e,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let u=Ov(a.join("/")),h=[];return h.push(...u.map(f=>f===""?l:[l,f].join("/"))),o&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function _j(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Aj(e.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var Nj=/^:[\w-]+$/,Ej=3,kj=2,Cj=1,Rj=10,Pj=-2,cg=t=>t==="*";function Tj(t,e){let r=t.split("/"),a=r.length;return r.some(cg)&&(a+=Pj),e&&(a+=kj),r.filter(o=>!cg(o)).reduce((o,l)=>o+(Nj.test(l)?Ej:l===""?Cj:Rj),a)}function Aj(t,e){return t.length===e.length&&t.slice(0,-1).every((a,o)=>a===e[o])?t[t.length-1]-e[e.length-1]:0}function Ij(t,e,r=!1){let{routesMeta:a}=t,o={},l="/",u=[];for(let h=0;h<a.length;++h){let f=a[h],p=h===a.length-1,x=l==="/"?e:e.slice(l.length)||"/",g=Gl({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},x),b=f.route;if(!g&&p&&r&&!a[a.length-1].route.index&&(g=Gl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},x)),!g)return null;Object.assign(o,g.params),u.push({params:o,pathname:yr([l,g.pathname]),pathnameBase:Fj(yr([l,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(l=yr([l,g.pathnameBase]))}return u}function Gl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=Oj(t.path,t.caseSensitive,t.end),o=e.match(r);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:a.reduce((p,{paramName:x,isOptional:g},b)=>{if(x==="*"){let C=h[b]||"";u=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const w=h[b];return g&&!w?p[x]=void 0:p[x]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function Oj(t,e=!1,r=!0){zn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(a.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function Lj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function wr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}function Dj(t,e="/"){let{pathname:r,search:a="",hash:o=""}=typeof t=="string"?$i(t):t;return{pathname:r?r.startsWith("/")?r:Mj(r,e):e,search:zj(a),hash:Uj(o)}}function Mj(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function vd(t,e,r,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $j(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function _h(t){let e=$j(t);return e.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase)}function Nh(t,e,r,a=!1){let o;typeof t=="string"?o=$i(t):(o={...t},at(!o.pathname||!o.pathname.includes("?"),vd("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),vd("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),vd("#","search","hash",o)));let l=t===""||o.pathname==="",u=l?"/":o.pathname,h;if(u==null)h=r;else{let g=e.length-1;if(!a&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),g-=1;o.pathname=b.join("/")}h=g>=0?e[g]:"/"}let f=Dj(o,h),p=u&&u!=="/"&&u.endsWith("/"),x=(l||u===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(p||x)&&(f.pathname+="/"),f}var yr=t=>t.join("/").replace(/\/\/+/g,"/"),Fj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Uj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Bj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Lv=["POST","PUT","PATCH","DELETE"];new Set(Lv);var Vj=["GET",...Lv];new Set(Vj);var Fi=v.createContext(null);Fi.displayName="DataRouter";var uc=v.createContext(null);uc.displayName="DataRouterState";v.createContext(!1);var Dv=v.createContext({isTransitioning:!1});Dv.displayName="ViewTransition";var Wj=v.createContext(new Map);Wj.displayName="Fetchers";var Hj=v.createContext(null);Hj.displayName="Await";var Vn=v.createContext(null);Vn.displayName="Navigation";var Xa=v.createContext(null);Xa.displayName="Location";var rr=v.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var Eh=v.createContext(null);Eh.displayName="RouteError";function qj(t,{relative:e}={}){at(zi(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=v.useContext(Vn),{hash:o,pathname:l,search:u}=Za(t,{relative:e}),h=l;return r!=="/"&&(h=l==="/"?r:yr([r,l])),a.createHref({pathname:h,search:u,hash:o})}function zi(){return v.useContext(Xa)!=null}function Er(){return at(zi(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Xa).location}var Mv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $v(t){v.useContext(Vn).static||v.useLayoutEffect(t)}function dc(){let{isDataRoute:t}=v.useContext(rr);return t?iS():Gj()}function Gj(){at(zi(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(Fi),{basename:e,navigator:r}=v.useContext(Vn),{matches:a}=v.useContext(rr),{pathname:o}=Er(),l=JSON.stringify(_h(a)),u=v.useRef(!1);return $v(()=>{u.current=!0}),v.useCallback((f,p={})=>{if(zn(u.current,Mv),!u.current)return;if(typeof f=="number"){r.go(f);return}let x=Nh(f,JSON.parse(l),o,p.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:yr([e,x.pathname])),(p.replace?r.replace:r.push)(x,p.state,p)},[e,r,l,o,t])}v.createContext(null);function Za(t,{relative:e}={}){let{matches:r}=v.useContext(rr),{pathname:a}=Er(),o=JSON.stringify(_h(r));return v.useMemo(()=>Nh(t,JSON.parse(o),a,e==="path"),[t,o,a,e])}function Kj(t,e){return Fv(t,e)}function Fv(t,e,r,a,o){at(zi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=v.useContext(Vn),{matches:u}=v.useContext(rr),h=u[u.length-1],f=h?h.params:{},p=h?h.pathname:"/",x=h?h.pathnameBase:"/",g=h&&h.route;{let S=g&&g.path||"";zv(p,!g||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let b=Er(),w;if(e){let S=typeof e=="string"?$i(e):e;at(x==="/"||S.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${S.pathname}" was given in the \`location\` prop.`),w=S}else w=b;let C=w.pathname||"/",_=C;if(x!=="/"){let S=x.replace(/^\//,"").split("/");_="/"+C.replace(/^\//,"").split("/").slice(S.length).join("/")}let j=Av(t,{pathname:_});zn(g||j!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),zn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=Zj(j&&j.map(S=>Object.assign({},S,{params:Object.assign({},f,S.params),pathname:yr([x,l.encodeLocation?l.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?x:yr([x,l.encodeLocation?l.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),u,r,a,o);return e&&E?v.createElement(Xa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},E):E}function Jj(){let t=sS(),e=Bj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:l},"ErrorBoundary")," or"," ",v.createElement("code",{style:l},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),r?v.createElement("pre",{style:o},r):null,u)}var Yj=v.createElement(Jj,null),Qj=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?v.createElement(rr.Provider,{value:this.props.routeContext},v.createElement(Eh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Xj({routeContext:t,match:e,children:r}){let a=v.useContext(Fi);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),v.createElement(rr.Provider,{value:t},r)}function Zj(t,e=[],r=null,a=null,o=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,u=r?.errors;if(u!=null){let p=l.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,f=-1;if(r)for(let p=0;p<l.length;p++){let x=l[p];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(f=p),x.route.id){let{loaderData:g,errors:b}=r,w=x.route.loader&&!g.hasOwnProperty(x.route.id)&&(!b||b[x.route.id]===void 0);if(x.route.lazy||w){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,x,g)=>{let b,w=!1,C=null,_=null;r&&(b=u&&x.route.id?u[x.route.id]:void 0,C=x.route.errorElement||Yj,h&&(f<0&&g===0?(zv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,_=null):f===g&&(w=!0,_=x.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,g+1)),E=()=>{let S;return b?S=C:w?S=_:x.route.Component?S=v.createElement(x.route.Component,null):x.route.element?S=x.route.element:S=p,v.createElement(Xj,{match:x,routeContext:{outlet:p,matches:j,isDataRoute:r!=null},children:S})};return r&&(x.route.ErrorBoundary||x.route.errorElement||g===0)?v.createElement(Qj,{location:r.location,revalidation:r.revalidation,component:C,error:b,children:E(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:a}):E()},null)}function kh(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eS(t){let e=v.useContext(Fi);return at(e,kh(t)),e}function tS(t){let e=v.useContext(uc);return at(e,kh(t)),e}function nS(t){let e=v.useContext(rr);return at(e,kh(t)),e}function Ch(t){let e=nS(t),r=e.matches[e.matches.length-1];return at(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function rS(){return Ch("useRouteId")}function sS(){let t=v.useContext(Eh),e=tS("useRouteError"),r=Ch("useRouteError");return t!==void 0?t:e.errors?.[r]}function iS(){let{router:t}=eS("useNavigate"),e=Ch("useNavigate"),r=v.useRef(!1);return $v(()=>{r.current=!0}),v.useCallback(async(o,l={})=>{zn(r.current,Mv),r.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var ug={};function zv(t,e,r){!e&&!ug[t]&&(ug[t]=!0,zn(!1,r))}v.memo(aS);function aS({routes:t,future:e,state:r,unstable_onError:a}){return Fv(t,void 0,r,a,e)}function Ti({to:t,replace:e,state:r,relative:a}){at(zi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=v.useContext(Vn);zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=v.useContext(rr),{pathname:u}=Er(),h=dc(),f=Nh(t,_h(l),u,a==="path"),p=JSON.stringify(f);return v.useEffect(()=>{h(JSON.parse(p),{replace:e,state:r,relative:a})},[h,p,a,e,r]),null}function nt(t){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oS({basename:t="/",children:e=null,location:r,navigationType:a="POP",navigator:o,static:l=!1}){at(!zi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=v.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof r=="string"&&(r=$i(r));let{pathname:f="/",search:p="",hash:x="",state:g=null,key:b="default"}=r,w=v.useMemo(()=>{let C=wr(f,u);return C==null?null:{location:{pathname:C,search:p,hash:x,state:g,key:b},navigationType:a}},[u,f,p,x,g,b,a]);return zn(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${x}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:v.createElement(Vn.Provider,{value:h},v.createElement(Xa.Provider,{children:e,value:w}))}function lS({children:t,location:e}){return Kj(qd(t),e)}function qd(t,e=[]){let r=[];return v.Children.forEach(t,(a,o)=>{if(!v.isValidElement(a))return;let l=[...e,o];if(a.type===v.Fragment){r.push.apply(r,qd(a.props.children,l));return}at(a.type===nt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=qd(a.props.children,l)),r.push(u)}),r}var zl="get",Ul="application/x-www-form-urlencoded";function hc(t){return t!=null&&typeof t.tagName=="string"}function cS(t){return hc(t)&&t.tagName.toLowerCase()==="button"}function uS(t){return hc(t)&&t.tagName.toLowerCase()==="form"}function dS(t){return hc(t)&&t.tagName.toLowerCase()==="input"}function hS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fS(t,e){return t.button===0&&(!e||e==="_self")&&!hS(t)}var wl=null;function pS(){if(wl===null)try{new FormData(document.createElement("form"),0),wl=!1}catch{wl=!0}return wl}var mS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xd(t){return t!=null&&!mS.has(t)?(zn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ul}"`),null):t}function gS(t,e){let r,a,o,l,u;if(uS(t)){let h=t.getAttribute("action");a=h?wr(h,e):null,r=t.getAttribute("method")||zl,o=xd(t.getAttribute("enctype"))||Ul,l=new FormData(t)}else if(cS(t)||dS(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(a=f?wr(f,e):null,r=t.getAttribute("formmethod")||h.getAttribute("method")||zl,o=xd(t.getAttribute("formenctype"))||xd(h.getAttribute("enctype"))||Ul,l=new FormData(h,t),!pS()){let{name:p,type:x,value:g}=t;if(x==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,g)}}else{if(hc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=zl,a=null,o=Ul,u=t}return l&&o==="text/plain"&&(u=l,l=void 0),{action:a,method:r.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rh(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vS(t,e,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${r}`:e&&wr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function xS(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function wS(t,e,r){let a=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await xS(l,r);return u.links?u.links():[]}return[]}));return _S(a.flat(1).filter(yS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function dg(t,e,r,a,o,l){let u=(f,p)=>r[p]?f.route.id!==r[p].route.id:!0,h=(f,p)=>r[p].pathname!==f.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):l==="data"?e.filter((f,p)=>{let x=a.routes[f.route.id];if(!x||!x.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function bS(t,e,{includeHydrateFallback:r}={}){return jS(t.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function jS(t){return[...new Set(t)]}function SS(t){let e={},r=Object.keys(t).sort();for(let a of r)e[a]=t[a];return e}function _S(t,e){let r=new Set;return new Set(e),t.reduce((a,o)=>{let l=JSON.stringify(SS(o));return r.has(l)||(r.add(l),a.push({key:l,link:o})),a},[])}function Uv(){let t=v.useContext(Fi);return Rh(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function NS(){let t=v.useContext(uc);return Rh(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ph=v.createContext(void 0);Ph.displayName="FrameworkContext";function Bv(){let t=v.useContext(Ph);return Rh(t,"You must render this element inside a <HydratedRouter> element"),t}function ES(t,e){let r=v.useContext(Ph),[a,o]=v.useState(!1),[l,u]=v.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:x,onTouchStart:g}=e,b=v.useRef(null);v.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let _=E=>{E.forEach(S=>{u(S.isIntersecting)})},j=new IntersectionObserver(_,{threshold:.5});return b.current&&j.observe(b.current),()=>{j.disconnect()}}},[t]),v.useEffect(()=>{if(a){let _=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(_)}}},[a]);let w=()=>{o(!0)},C=()=>{o(!1),u(!1)};return r?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Da(h,w),onBlur:Da(f,C),onMouseEnter:Da(p,w),onMouseLeave:Da(x,C),onTouchStart:Da(g,w)}]:[!1,b,{}]}function Da(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function kS({page:t,...e}){let{router:r}=Uv(),a=v.useMemo(()=>Av(r.routes,t,r.basename),[r.routes,t,r.basename]);return a?v.createElement(RS,{page:t,matches:a,...e}):null}function CS(t){let{manifest:e,routeModules:r}=Bv(),[a,o]=v.useState([]);return v.useEffect(()=>{let l=!1;return wS(t,e,r).then(u=>{l||o(u)}),()=>{l=!0}},[t,e,r]),a}function RS({page:t,matches:e,...r}){let a=Er(),{manifest:o,routeModules:l}=Bv(),{basename:u}=Uv(),{loaderData:h,matches:f}=NS(),p=v.useMemo(()=>dg(t,e,f,o,a,"data"),[t,e,f,o,a]),x=v.useMemo(()=>dg(t,e,f,o,a,"assets"),[t,e,f,o,a]),g=v.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let C=new Set,_=!1;if(e.forEach(E=>{let S=o.routes[E.route.id];!S||!S.hasLoader||(!p.some(N=>N.route.id===E.route.id)&&E.route.id in h&&l[E.route.id]?.shouldRevalidate||S.hasClientLoader?_=!0:C.add(E.route.id))}),C.size===0)return[];let j=vS(t,u,"data");return _&&C.size>0&&j.searchParams.set("_routes",e.filter(E=>C.has(E.route.id)).map(E=>E.route.id).join(",")),[j.pathname+j.search]},[u,h,a,o,p,e,t,l]),b=v.useMemo(()=>bS(x,o),[x,o]),w=CS(x);return v.createElement(v.Fragment,null,g.map(C=>v.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...r})),b.map(C=>v.createElement("link",{key:C,rel:"modulepreload",href:C,...r})),w.map(({key:C,link:_})=>v.createElement("link",{key:C,nonce:r.nonce,..._})))}function PS(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Vv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vv&&(window.__reactRouterVersion="7.9.5")}catch{}function TS({basename:t,children:e,window:r}){let a=v.useRef();a.current==null&&(a.current=yj({window:r,v5Compat:!0}));let o=a.current,[l,u]=v.useState({action:o.action,location:o.location}),h=v.useCallback(f=>{v.startTransition(()=>u(f))},[u]);return v.useLayoutEffect(()=>o.listen(h),[o,h]),v.createElement(oS,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var Wv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$s=v.forwardRef(function({onClick:e,discover:r="render",prefetch:a="none",relative:o,reloadDocument:l,replace:u,state:h,target:f,to:p,preventScrollReset:x,viewTransition:g,...b},w){let{basename:C}=v.useContext(Vn),_=typeof p=="string"&&Wv.test(p),j,E=!1;if(typeof p=="string"&&_&&(j=p,Vv))try{let F=new URL(window.location.href),$=p.startsWith("//")?new URL(F.protocol+p):new URL(p),Z=wr($.pathname,C);$.origin===F.origin&&Z!=null?p=Z+$.search+$.hash:E=!0}catch{zn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=qj(p,{relative:o}),[N,R,A]=ES(a,b),U=LS(p,{replace:u,state:h,target:f,preventScrollReset:x,relative:o,viewTransition:g});function T(F){e&&e(F),F.defaultPrevented||U(F)}let O=v.createElement("a",{...b,...A,href:j||S,onClick:E||l?e:T,ref:PS(w,R),target:f,"data-discover":!_&&r==="render"?"true":void 0});return N&&!_?v.createElement(v.Fragment,null,O,v.createElement(kS,{page:S})):O});$s.displayName="Link";var AS=v.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:a="",end:o=!1,style:l,to:u,viewTransition:h,children:f,...p},x){let g=Za(u,{relative:p.relative}),b=Er(),w=v.useContext(uc),{navigator:C,basename:_}=v.useContext(Vn),j=w!=null&&zS(g)&&h===!0,E=C.encodeLocation?C.encodeLocation(g).pathname:g.pathname,S=b.pathname,N=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(S=S.toLowerCase(),N=N?N.toLowerCase():null,E=E.toLowerCase()),N&&_&&(N=wr(N,_)||N);const R=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let A=S===E||!o&&S.startsWith(E)&&S.charAt(R)==="/",U=N!=null&&(N===E||!o&&N.startsWith(E)&&N.charAt(E.length)==="/"),T={isActive:A,isPending:U,isTransitioning:j},O=A?e:void 0,F;typeof a=="function"?F=a(T):F=[a,A?"active":null,U?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let $=typeof l=="function"?l(T):l;return v.createElement($s,{...p,"aria-current":O,className:F,ref:x,style:$,to:u,viewTransition:h},typeof f=="function"?f(T):f)});AS.displayName="NavLink";var IS=v.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:a,replace:o,state:l,method:u=zl,action:h,onSubmit:f,relative:p,preventScrollReset:x,viewTransition:g,...b},w)=>{let C=$S(),_=FS(h,{relative:p}),j=u.toLowerCase()==="get"?"get":"post",E=typeof h=="string"&&Wv.test(h),S=N=>{if(f&&f(N),N.defaultPrevented)return;N.preventDefault();let R=N.nativeEvent.submitter,A=R?.getAttribute("formmethod")||u;C(R||N.currentTarget,{fetcherKey:e,method:A,navigate:r,replace:o,state:l,relative:p,preventScrollReset:x,viewTransition:g})};return v.createElement("form",{ref:w,method:j,action:_,onSubmit:a?f:S,...b,"data-discover":!E&&t==="render"?"true":void 0})});IS.displayName="Form";function OS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hv(t){let e=v.useContext(Fi);return at(e,OS(t)),e}function LS(t,{target:e,replace:r,state:a,preventScrollReset:o,relative:l,viewTransition:u}={}){let h=dc(),f=Er(),p=Za(t,{relative:l});return v.useCallback(x=>{if(fS(x,e)){x.preventDefault();let g=r!==void 0?r:Va(f)===Va(p);h(t,{replace:g,state:a,preventScrollReset:o,relative:l,viewTransition:u})}},[f,h,p,r,a,e,t,o,l,u])}var DS=0,MS=()=>`__${String(++DS)}__`;function $S(){let{router:t}=Hv("useSubmit"),{basename:e}=v.useContext(Vn),r=rS();return v.useCallback(async(a,o={})=>{let{action:l,method:u,encType:h,formData:f,body:p}=gS(a,e);if(o.navigate===!1){let x=o.fetcherKey||MS();await t.fetch(x,r,o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,r])}function FS(t,{relative:e}={}){let{basename:r}=v.useContext(Vn),a=v.useContext(rr);at(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),l={...Za(t||".",{relative:e})},u=Er();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(x=>x==="")){h.delete("index"),f.filter(g=>g).forEach(g=>h.append("index",g));let x=h.toString();l.search=x?`?${x}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:yr([r,l.pathname])),Va(l)}function zS(t,{relative:e}={}){let r=v.useContext(Dv);at(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Hv("useViewTransitionState"),o=Za(t,{relative:e});if(!r.isTransitioning)return!1;let l=wr(r.currentLocation.pathname,a)||r.currentLocation.pathname,u=wr(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Gl(o.pathname,u)!=null||Gl(o.pathname,l)!=null}var eo=Tv();const qv=jh(eo),$t=[];for(let t=0;t<256;++t)$t.push((t+256).toString(16).slice(1));function US(t,e=0){return($t[t[e+0]]+$t[t[e+1]]+$t[t[e+2]]+$t[t[e+3]]+"-"+$t[t[e+4]]+$t[t[e+5]]+"-"+$t[t[e+6]]+$t[t[e+7]]+"-"+$t[t[e+8]]+$t[t[e+9]]+"-"+$t[t[e+10]]+$t[t[e+11]]+$t[t[e+12]]+$t[t[e+13]]+$t[t[e+14]]+$t[t[e+15]]).toLowerCase()}let yd;const BS=new Uint8Array(16);function VS(){if(!yd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");yd=crypto.getRandomValues.bind(crypto)}return yd(BS)}const WS=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),hg={randomUUID:WS};function HS(t,e,r){t=t||{};const a=t.random??t.rng?.()??VS();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,US(a)}function to(t,e,r){return hg.randomUUID&&!t?hg.randomUUID():HS(t)}var Gd=function(t,e){return Gd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])},Gd(t,e)};function Gv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Gd(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var En=function(){return En=Object.assign||function(e){for(var r,a=1,o=arguments.length;a<o;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},En.apply(this,arguments)};function os(t,e){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(t);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(r[a[o]]=t[a[o]]);return r}function Kv(t,e,r,a){var o=arguments.length,l=o<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,r):a,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,r,a);else for(var h=t.length-1;h>=0;h--)(u=t[h])&&(l=(o<3?u(l):o>3?u(e,r,l):u(e,r))||l);return o>3&&l&&Object.defineProperty(e,r,l),l}function Jv(t,e){return function(r,a){e(r,a,t)}}function Yv(t,e,r,a,o,l){function u(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var h=a.kind,f=h==="getter"?"get":h==="setter"?"set":"value",p=!e&&t?a.static?t:t.prototype:null,x=e||(p?Object.getOwnPropertyDescriptor(p,a.name):{}),g,b=!1,w=r.length-1;w>=0;w--){var C={};for(var _ in a)C[_]=_==="access"?{}:a[_];for(var _ in a.access)C.access[_]=a.access[_];C.addInitializer=function(E){if(b)throw new TypeError("Cannot add initializers after decoration has completed");l.push(u(E||null))};var j=(0,r[w])(h==="accessor"?{get:x.get,set:x.set}:x[f],C);if(h==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(g=u(j.get))&&(x.get=g),(g=u(j.set))&&(x.set=g),(g=u(j.init))&&o.unshift(g)}else(g=u(j))&&(h==="field"?o.unshift(g):x[f]=g)}p&&Object.defineProperty(p,a.name,x),b=!0}function Qv(t,e,r){for(var a=arguments.length>2,o=0;o<e.length;o++)r=a?e[o].call(t,r):e[o].call(t);return a?r:void 0}function Xv(t){return typeof t=="symbol"?t:"".concat(t)}function Zv(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function ex(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ne(t,e,r,a){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function h(x){try{p(a.next(x))}catch(g){u(g)}}function f(x){try{p(a.throw(x))}catch(g){u(g)}}function p(x){x.done?l(x.value):o(x.value).then(h,f)}p((a=a.apply(t,e||[])).next())})}function tx(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,o,l,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=h(0),u.throw=h(1),u.return=h(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(p){return function(x){return f([p,x])}}function f(p){if(a)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(r=0)),r;)try{if(a=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,o=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){r.label=p[1];break}if(p[0]===6&&r.label<l[1]){r.label=l[1],l=p;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(p);break}l[2]&&r.ops.pop(),r.trys.pop();continue}p=e.call(t,r)}catch(x){p=[6,x],o=0}finally{a=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var fc=Object.create?(function(t,e,r,a){a===void 0&&(a=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,o)}):(function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]});function nx(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&fc(e,t,r)}function Kl(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],a=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Th(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var a=r.call(t),o,l=[],u;try{for(;(e===void 0||e-- >0)&&!(o=a.next()).done;)l.push(o.value)}catch(h){u={error:h}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(u)throw u.error}}return l}function rx(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Th(arguments[e]));return t}function sx(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var a=Array(t),o=0,e=0;e<r;e++)for(var l=arguments[e],u=0,h=l.length;u<h;u++,o++)a[o]=l[u];return a}function Ah(t,e,r){if(r||arguments.length===2)for(var a=0,o=e.length,l;a<o;a++)(l||!(a in e))&&(l||(l=Array.prototype.slice.call(e,0,a)),l[a]=e[a]);return t.concat(l||Array.prototype.slice.call(e))}function Ai(t){return this instanceof Ai?(this.v=t,this):new Ai(t)}function ix(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(w){return function(C){return Promise.resolve(C).then(w,g)}}function h(w,C){a[w]&&(o[w]=function(_){return new Promise(function(j,E){l.push([w,_,j,E])>1||f(w,_)})},C&&(o[w]=C(o[w])))}function f(w,C){try{p(a[w](C))}catch(_){b(l[0][3],_)}}function p(w){w.value instanceof Ai?Promise.resolve(w.value.v).then(x,g):b(l[0][2],w)}function x(w){f("next",w)}function g(w){f("throw",w)}function b(w,C){w(C),l.shift(),l.length&&f(l[0][0],l[0][1])}}function ax(t){var e,r;return e={},a("next"),a("throw",function(o){throw o}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(o,l){e[o]=t[o]?function(u){return(r=!r)?{value:Ai(t[o](u)),done:!1}:l?l(u):u}:l}}function ox(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Kl=="function"?Kl(t):t[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(l){r[l]=t[l]&&function(u){return new Promise(function(h,f){u=t[l](u),o(h,f,u.done,u.value)})}}function o(l,u,h,f){Promise.resolve(f).then(function(p){l({value:p,done:h})},u)}}function lx(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var qS=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Kd=function(t){return Kd=Object.getOwnPropertyNames||function(e){var r=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[r.length]=a);return r},Kd(t)};function cx(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Kd(t),a=0;a<r.length;a++)r[a]!=="default"&&fc(e,t,r[a]);return qS(e,t),e}function ux(t){return t&&t.__esModule?t:{default:t}}function dx(t,e,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(t):a?a.value:e.get(t)}function hx(t,e,r,a,o){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function fx(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function px(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var a,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=e[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=e[Symbol.dispose],r&&(o=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");o&&(a=function(){try{o.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:a,async:r})}else r&&t.stack.push({async:!0});return e}var GS=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var a=new Error(r);return a.name="SuppressedError",a.error=t,a.suppressed=e,a};function mx(t){function e(l){t.error=t.hasError?new GS(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var r,a=0;function o(){for(;r=t.stack.pop();)try{if(!r.async&&a===1)return a=0,t.stack.push(r),Promise.resolve().then(o);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return a|=2,Promise.resolve(l).then(o,function(u){return e(u),o()})}else a|=1}catch(u){e(u)}if(a===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function gx(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,a,o,l,u){return a?e?".jsx":".js":o&&(!l||!u)?r:o+l+"."+u.toLowerCase()+"js"}):t}const KS={__extends:Gv,__assign:En,__rest:os,__decorate:Kv,__param:Jv,__esDecorate:Yv,__runInitializers:Qv,__propKey:Xv,__setFunctionName:Zv,__metadata:ex,__awaiter:Ne,__generator:tx,__createBinding:fc,__exportStar:nx,__values:Kl,__read:Th,__spread:rx,__spreadArrays:sx,__spreadArray:Ah,__await:Ai,__asyncGenerator:ix,__asyncDelegator:ax,__asyncValues:ox,__makeTemplateObject:lx,__importStar:cx,__importDefault:ux,__classPrivateFieldGet:dx,__classPrivateFieldSet:hx,__classPrivateFieldIn:fx,__addDisposableResource:px,__disposeResources:mx,__rewriteRelativeImportExtension:gx},JS=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:px,get __assign(){return En},__asyncDelegator:ax,__asyncGenerator:ix,__asyncValues:ox,__await:Ai,__awaiter:Ne,__classPrivateFieldGet:dx,__classPrivateFieldIn:fx,__classPrivateFieldSet:hx,__createBinding:fc,__decorate:Kv,__disposeResources:mx,__esDecorate:Yv,__exportStar:nx,__extends:Gv,__generator:tx,__importDefault:ux,__importStar:cx,__makeTemplateObject:lx,__metadata:ex,__param:Jv,__propKey:Xv,__read:Th,__rest:os,__rewriteRelativeImportExtension:gx,__runInitializers:Qv,__setFunctionName:Zv,__spread:rx,__spreadArray:Ah,__spreadArrays:sx,__values:Kl,default:KS},Symbol.toStringTag,{value:"Module"})),YS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Ih extends Error{constructor(e,r="FunctionsError",a){super(e),this.name=r,this.context=a}}class fg extends Ih{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class pg extends Ih{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class mg extends Ih{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Jd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Jd||(Jd={}));class QS{constructor(e,{headers:r={},customFetch:a,region:o=Jd.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=YS(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ne(this,arguments,void 0,function*(r,a={}){var o;try{const{headers:l,method:u,body:h,signal:f}=a;let p={},{region:x}=a;x||(x=this.region);const g=new URL(`${this.url}/${r}`);x&&x!=="any"&&(p["x-region"]=x,g.searchParams.set("forceFunctionRegion",x));let b;h&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",b=h):typeof h=="string"?(p["Content-Type"]="text/plain",b=h):typeof FormData<"u"&&h instanceof FormData?b=h:(p["Content-Type"]="application/json",b=JSON.stringify(h)):b=h;const w=yield this.fetch(g.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:b,signal:f}).catch(E=>{throw E.name==="AbortError"?E:new fg(E)}),C=w.headers.get("x-relay-error");if(C&&C==="true")throw new pg(w);if(!w.ok)throw new mg(w);let _=((o=w.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),j;return _==="application/json"?j=yield w.json():_==="application/octet-stream"||_==="application/pdf"?j=yield w.blob():_==="text/event-stream"?j=w:_==="multipart/form-data"?j=yield w.formData():j=yield w.text(),{data:j,error:null,response:w}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new fg(l)}:{data:null,error:l,response:l instanceof mg||l instanceof pg?l.context:void 0}}})}}var Wt={};const Ui=uj(JS);var bl={},jl={},Sl={},_l={},Nl={},El={},gg;function vx(){if(gg)return El;gg=1,Object.defineProperty(El,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return El.default=t,El}var vg;function xx(){if(vg)return Nl;vg=1,Object.defineProperty(Nl,"__esModule",{value:!0});const e=Ui.__importDefault(vx());class r{constructor(o){var l,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let h=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,x,g,b;let w=null,C=null,_=null,j=f.status,E=f.statusText;if(f.ok){if(this.method!=="HEAD"){const A=await f.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?C=A:C=JSON.parse(A))}const N=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),R=(g=f.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");N&&R&&R.length>1&&(_=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(w={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,_=null,j=406,E="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const N=await f.text();try{w=JSON.parse(N),Array.isArray(w)&&f.status===404&&(C=[],w=null,j=200,E="OK")}catch{f.status===404&&N===""?(j=204,E="No Content"):w={message:N}}if(w&&this.isMaybeSingle&&(!((b=w?.details)===null||b===void 0)&&b.includes("0 rows"))&&(w=null,j=200,E="OK"),w&&this.shouldThrowOnError)throw new e.default(w)}return{error:w,data:C,count:_,status:j,statusText:E}});return this.shouldThrowOnError||(h=h.catch(f=>{var p,x,g;return{error:{message:`${(p=f?.name)!==null&&p!==void 0?p:"FetchError"}: ${f?.message}`,details:`${(x=f?.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(g=f?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),h.then(o,l)}returns(){return this}overrideTypes(){return this}}return Nl.default=r,Nl}var xg;function yx(){if(xg)return _l;xg=1,Object.defineProperty(_l,"__esModule",{value:!0});const e=Ui.__importDefault(xx());class r extends e.default{select(o){let l=!1;const u=(o??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:u,foreignTable:h,referencedTable:f=h}={}){const p=f?`${f}.order`:"order",x=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${x?`${x},`:""}${o}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:u=l}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,l,{foreignTable:u,referencedTable:h=u}={}){const f=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(p,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:u=!1,buffers:h=!1,wal:f=!1,format:p="text"}={}){var x;const g=[o?"analyze":null,l?"verbose":null,u?"settings":null,h?"buffers":null,f?"wal":null].filter(Boolean).join("|"),b=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${b}"; options=${g};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return _l.default=r,_l}var yg;function Oh(){if(yg)return Sl;yg=1,Object.defineProperty(Sl,"__esModule",{value:!0});const e=Ui.__importDefault(yx()),r=new RegExp("[,()]");class a extends e.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const h=Array.from(new Set(u)).map(f=>typeof f=="string"&&r.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${h})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:h,type:f}={}){let p="";f==="plain"?p="pl":f==="phrase"?p="ph":f==="websearch"&&(p="w");const x=h===void 0?"":`(${h})`;return this.url.searchParams.append(l,`${p}fts${x}.${u}`),this}match(l){return Object.entries(l).forEach(([u,h])=>{this.url.searchParams.append(u,`eq.${h}`)}),this}not(l,u,h){return this.url.searchParams.append(l,`not.${u}.${h}`),this}or(l,{foreignTable:u,referencedTable:h=u}={}){const f=h?`${h}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,u,h){return this.url.searchParams.append(l,`${u}.${h}`),this}}return Sl.default=a,Sl}var wg;function wx(){if(wg)return jl;wg=1,Object.defineProperty(jl,"__esModule",{value:!0});const e=Ui.__importDefault(Oh());class r{constructor(o,{headers:l={},schema:u,fetch:h}){this.url=o,this.headers=new Headers(l),this.schema=u,this.fetch=h}select(o,l){const{head:u=!1,count:h}=l??{},f=u?"HEAD":"GET";let p=!1;const x=(o??"*").split("").map(g=>/\s/.test(g)&&!p?"":(g==='"'&&(p=!p),g)).join("");return this.url.searchParams.set("select",x),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:u=!0}={}){var h;const f="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((x,g)=>x.concat(Object.keys(g)),[]);if(p.length>0){const x=[...new Set(p)].map(g=>`"${g}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:u=!1,count:h,defaultToNull:f=!0}={}){var p;const x="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),h&&this.headers.append("Prefer",`count=${h}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const g=o.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(g.length>0){const b=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:l}={}){var u;const h="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var l;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return jl.default=r,jl}var bg;function XS(){if(bg)return bl;bg=1,Object.defineProperty(bl,"__esModule",{value:!0});const t=Ui,e=t.__importDefault(wx()),r=t.__importDefault(Oh());class a{constructor(l,{headers:u={},schema:h,fetch:f}={}){this.url=l,this.headers=new Headers(u),this.schemaName=h,this.fetch=f}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new a(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:h=!1,get:f=!1,count:p}={}){var x;let g;const b=new URL(`${this.url}/rpc/${l}`);let w;h||f?(g=h?"HEAD":"GET",Object.entries(u).filter(([_,j])=>j!==void 0).map(([_,j])=>[_,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([_,j])=>{b.searchParams.append(_,j)})):(g="POST",w=u);const C=new Headers(this.headers);return p&&C.set("Prefer",`count=${p}`),new r.default({method:g,url:b,headers:C,schema:this.schemaName,body:w,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return bl.default=a,bl}var jg;function ZS(){if(jg)return Wt;jg=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.PostgrestError=Wt.PostgrestBuilder=Wt.PostgrestTransformBuilder=Wt.PostgrestFilterBuilder=Wt.PostgrestQueryBuilder=Wt.PostgrestClient=void 0;const t=Ui,e=t.__importDefault(XS());Wt.PostgrestClient=e.default;const r=t.__importDefault(wx());Wt.PostgrestQueryBuilder=r.default;const a=t.__importDefault(Oh());Wt.PostgrestFilterBuilder=a.default;const o=t.__importDefault(yx());Wt.PostgrestTransformBuilder=o.default;const l=t.__importDefault(xx());Wt.PostgrestBuilder=l.default;const u=t.__importDefault(vx());return Wt.PostgrestError=u.default,Wt.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default},Wt}var bx=ZS();const jx=jh(bx),e_=Pv({__proto__:null,default:jx},[bx]),{PostgrestClient:t_,PostgrestQueryBuilder:SA,PostgrestFilterBuilder:_A,PostgrestTransformBuilder:NA,PostgrestBuilder:EA,PostgrestError:kA}=jx||e_;class n_{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,o=parseInt(a.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const a=this.getWebSocketConstructor();return new a(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const r_="2.80.0",s_=`realtime-js/${r_}`,i_="1.0.0",Yd=1e4,a_=1e3,o_=100;var za;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(za||(za={}));var _t;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_t||(_t={}));var Fn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Fn||(Fn={}));var Qd;(function(t){t.websocket="websocket"})(Qd||(Qd={}));var Is;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Is||(Is={}));class l_{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),a=new TextDecoder;return this._decodeBroadcast(e,r,a)}_decodeBroadcast(e,r,a){const o=r.getUint8(1),l=r.getUint8(2);let u=this.HEADER_LENGTH+2;const h=a.decode(e.slice(u,u+o));u=u+o;const f=a.decode(e.slice(u,u+l));u=u+l;const p=JSON.parse(a.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:f,payload:p}}}class Sx{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Xe||(Xe={}));const Sg=(t,e,r={})=>{var a;const o=(a=r.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=c_(u,t,e,o),l),{}):{}},c_=(t,e,r,a)=>{const o=e.find(h=>h.name===t),l=o?.type,u=r[t];return l&&!a.includes(l)?_x(l,u):Xd(u)},_x=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return f_(e,r)}switch(t){case Xe.bool:return u_(e);case Xe.float4:case Xe.float8:case Xe.int2:case Xe.int4:case Xe.int8:case Xe.numeric:case Xe.oid:return d_(e);case Xe.json:case Xe.jsonb:return h_(e);case Xe.timestamp:return p_(e);case Xe.abstime:case Xe.date:case Xe.daterange:case Xe.int4range:case Xe.int8range:case Xe.money:case Xe.reltime:case Xe.text:case Xe.time:case Xe.timestamptz:case Xe.timetz:case Xe.tsrange:case Xe.tstzrange:return Xd(e);default:return Xd(e)}},Xd=t=>t,u_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},d_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},h_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},f_=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,a=t[r];if(t[0]==="{"&&a==="}"){let l;const u=t.slice(1,r);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(h=>_x(e,h))}return t},p_=t=>typeof t=="string"?t.replace(" ","T"):t,Nx=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class wd{constructor(e,r,a={},o=Yd){this.channel=e,this.event=r,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var a;return this._hasReceived(e)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var _g;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(_g||(_g={}));class Ua{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ua.syncState(this.state,o,l,u),this.pendingDiffs.forEach(f=>{this.state=Ua.syncDiff(this.state,f,l,u)}),this.pendingDiffs=[],h()}),this.channel._on(a.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ua.syncDiff(this.state,o,l,u),h())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,a,o){const l=this.cloneDeep(e),u=this.transformState(r),h={},f={};return this.map(l,(p,x)=>{u[p]||(f[p]=x)}),this.map(u,(p,x)=>{const g=l[p];if(g){const b=x.map(j=>j.presence_ref),w=g.map(j=>j.presence_ref),C=x.filter(j=>w.indexOf(j.presence_ref)<0),_=g.filter(j=>b.indexOf(j.presence_ref)<0);C.length>0&&(h[p]=C),_.length>0&&(f[p]=_)}else h[p]=x}),this.syncDiff(l,{joins:h,leaves:f},a,o)}static syncDiff(e,r,a,o){const{joins:l,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(l,(h,f)=>{var p;const x=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(f),x.length>0){const g=e[h].map(w=>w.presence_ref),b=x.filter(w=>g.indexOf(w.presence_ref)<0);e[h].unshift(...b)}a(h,x,f)}),this.map(u,(h,f)=>{let p=e[h];if(!p)return;const x=f.map(g=>g.presence_ref);p=p.filter(g=>x.indexOf(g.presence_ref)<0),e[h]=p,o(h,p,f),p.length===0&&delete e[h]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(a=>r(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,a)=>{const o=e[a];return"metas"in o?r[a]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[a]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ng;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ng||(Ng={}));var Ba;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ba||(Ba={}));var vr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(vr||(vr={}));class Lh{constructor(e,r={config:{}},a){var o,l;if(this.topic=e,this.params=r,this.socket=a,this.bindings={},this.state=_t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new wd(this,Fn.join,this.params,this.timeout),this.rejoinTimer=new Sx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_t.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fn.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new Ua(this),this.broadcastEndpointURL=Nx(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var a,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==_t.closed){const{config:{broadcast:u,presence:h,private:f}}=this.params,p=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(w=>w.filter))!==null&&o!==void 0?o:[],x=!!this.bindings[Ba.PRESENCE]&&this.bindings[Ba.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,g={},b={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:x}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(vr.CHANNEL_ERROR,w)),this._onClose(()=>e?.(vr.CLOSED)),this.updateJoinPayload(Object.assign({config:b},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var C;if(this.socket.setAuth(),w===void 0){e?.(vr.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,j=(C=_?.length)!==null&&C!==void 0?C:0,E=[];for(let S=0;S<j;S++){const N=_[S],{filter:{event:R,schema:A,table:U,filter:T}}=N,O=w&&w[S];if(O&&O.event===R&&O.schema===A&&O.table===U&&O.filter===T)E.push(Object.assign(Object.assign({},N),{id:O.id}));else{this.unsubscribe(),this.state=_t.errored,e?.(vr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(vr.SUBSCRIBED);return}}).receive("error",w=>{this.state=_t.errored,e?.(vr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(vr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,a){return this.state===_t.joined&&e===Ba.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,a)}async httpSend(e,r,a={}){var o;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let f=h.statusText;try{const p=await h.json();f=p.error||p.message||f}catch{}return Promise.reject(new Error(f))}async send(e,r={}){var a,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,h,f;const p=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_t.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new wd(this,Fn.leave,{},e),a.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_t.closed,this.bindings={}}async _fetchWithTimeout(e,r,a){const o=new AbortController,l=setTimeout(()=>o.abort(),a),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),u}_push(e,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new wd(this,e,r,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>o_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,a){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,a){var o,l;const u=e.toLocaleLowerCase(),{close:h,error:f,leave:p,join:x}=Fn;if(a&&[h,f,p,x].indexOf(u)>=0&&a!==this._joinRef())return;let b=this._onMessage(u,r,a);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var C,_,j;return((C=w.filter)===null||C===void 0?void 0:C.event)==="*"||((j=(_=w.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===u}).map(w=>w.callback(b,a)):(l=this.bindings[u])===null||l===void 0||l.filter(w=>{var C,_,j,E,S,N;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const R=w.id,A=(C=w.filter)===null||C===void 0?void 0:C.event;return R&&((_=r.ids)===null||_===void 0?void 0:_.includes(R))&&(A==="*"||A?.toLocaleLowerCase()===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const R=(S=(E=w?.filter)===null||E===void 0?void 0:E.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return R==="*"||R===((N=r?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof b=="object"&&"ids"in b){const C=b.data,{schema:_,table:j,commit_timestamp:E,type:S,errors:N}=C;b=Object.assign(Object.assign({},{schema:_,table:j,commit_timestamp:E,eventType:S,new:{},old:{},errors:N}),this._getPayloadRecords(C))}w.callback(b,a)})}_isClosed(){return this.state===_t.closed}_isJoined(){return this.state===_t.joined}_isJoining(){return this.state===_t.joining}_isLeaving(){return this.state===_t.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,a){const o=e.toLocaleLowerCase(),l={type:o,filter:r,callback:a};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,r){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&Lh.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const a in e)if(e[a]!==r[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Fn.close,{},e)}_onError(e){this._on(Fn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_t.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Sg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Sg(e.columns,e.old_record)),r}}const bd=()=>{},kl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},m_=[1e3,2e3,5e3,1e4],g_=1e4,v_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class x_{constructor(e,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yd,this.transport=null,this.heartbeatIntervalMs=kl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bd,this.ref=0,this.reconnectTimer=null,this.logger=bd,this.conn=null,this.sendBuffer=[],this.serializer=new l_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((a=r?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Qd.websocket}`,this.httpEndpoint=Nx(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=n_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:i_}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,a){this.logger(e,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case za.connecting:return Is.Connecting;case za.open:return Is.Open;case za.closing:return Is.Closing;default:return Is.Closed}}isConnected(){return this.connectionState()===Is.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const a=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===a);if(o)return o;{const l=new Lh(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:a,payload:o,ref:l}=e,u=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${r} ${a} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(a_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},kl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:o,payload:l,ref:u}=r,h=u?`(${u})`:"",f=l.status||"";this.log("receive",`${f} ${a} ${o} ${h}`.trim(),l),this.channels.filter(p=>p._isMember(a)).forEach(p=>p._trigger(o,l,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Fn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const a=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${a}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const a=new Blob([v_],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const o={access_token:r,version:s_};r&&a.updateJoinPayload(o),a.joinedOnce&&a._isJoined()&&a._push(Fn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Sx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},kl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,a,o,l,u,h,f,p,x;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:Yd,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:kl.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:bd,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(g=>m_[g-1]||g_),this.encode=(p=e?.encode)!==null&&p!==void 0?p:((g,b)=>b(JSON.stringify(g))),this.decode=(x=e?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Dh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ct(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class y_ extends Dh{constructor(e,r,a){super(e),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zd extends Dh{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Mh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),w_=()=>Response,eh=t=>{if(Array.isArray(t))return t.map(r=>eh(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,a])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=eh(a)}),e},b_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},jd=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},j_=(t,e,r)=>Ne(void 0,void 0,void 0,function*(){const a=yield w_();t instanceof a&&!r?.noResolveJson?t.json().then(o=>{const l=t.status||500,u=o?.statusCode||l+"";e(new y_(jd(o),l,u))}).catch(o=>{e(new Zd(jd(o),o))}):e(new Zd(jd(t),t))}),S_=(t,e,r,a)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!a?o:(b_(a)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(a)):o.body=a,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function no(t,e,r,a,o,l){return Ne(this,void 0,void 0,function*(){return new Promise((u,h)=>{t(r,S_(e,a,o,l)).then(f=>{if(!f.ok)throw f;return a?.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>j_(f,h,a))})})}function Wa(t,e,r,a){return Ne(this,void 0,void 0,function*(){return no(t,"GET",e,r,a)})}function $n(t,e,r,a,o){return Ne(this,void 0,void 0,function*(){return no(t,"POST",e,a,o,r)})}function th(t,e,r,a,o){return Ne(this,void 0,void 0,function*(){return no(t,"PUT",e,a,o,r)})}function __(t,e,r,a){return Ne(this,void 0,void 0,function*(){return no(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function $h(t,e,r,a,o){return Ne(this,void 0,void 0,function*(){return no(t,"DELETE",e,a,o,r)})}class N_{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Ne(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ct(e))return{data:null,error:e};throw e}})}}var Ex;class E_{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Ex]="BlobDownloadBuilder",this.promise=null}asStream(){return new N_(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ne(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ct(e))return{data:null,error:e};throw e}})}}Ex=Symbol.toStringTag;const k_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Eg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class C_{constructor(e,r={},a,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=a,this.fetch=Mh(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,a,o){return Ne(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Eg),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),f&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(f))):(l=a,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,f&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),o?.headers&&(h=Object.assign(Object.assign({},h),o.headers));const p=this._removeEmptyFolders(r),x=this._getFinalPath(p),g=yield(e=="PUT"?th:$n)(this.fetch,`${this.url}/object/${x}`,l,Object.assign({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:g.Id,fullPath:g.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ct(l))return{data:null,error:l};throw l}})}upload(e,r,a){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,a)})}uploadToSignedUrl(e,r,a,o){return Ne(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",r);try{let f;const p=Object.assign({upsert:Eg.upsert},o),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&a instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",a)):typeof FormData<"u"&&a instanceof FormData?(f=a,f.append("cacheControl",p.cacheControl)):(f=a,x["cache-control"]=`max-age=${p.cacheControl}`,x["content-type"]=p.contentType);const g=yield th(this.fetch,h.toString(),f,{headers:x});return{data:{path:l,fullPath:g.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(ct(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,r){return Ne(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const o=Object.assign({},this.headers);r?.upsert&&(o["x-upsert"]="true");const l=yield $n(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:o}),u=new URL(this.url+l.url),h=u.searchParams.get("token");if(!h)throw new Dh("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}update(e,r,a){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,a)})}move(e,r,a){return Ne(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}copy(e,r,a){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield $n(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,a){return Ne(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield $n(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,a){return Ne(this,void 0,void 0,function*(){try{const o=yield $n(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),u=l?`?${l}`:"",h=this._getFinalPath(e),f=()=>Wa(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0});return new E_(f,this.shouldThrowOnError)}info(e){return Ne(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const a=yield Wa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:eh(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}exists(e){return Ne(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield __(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a)&&a instanceof Zd){const o=a.originalError;if([400,404].includes(o?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,r){const a=this._getFinalPath(e),o=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const h=typeof r?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(r?.transform||{});f!==""&&o.push(f);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${a}${p}`)}}}remove(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield $h(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}list(e,r,a){return Ne(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},k_),r),{prefix:e||""});return{data:yield $n(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},a),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}listV2(e,r){return Ne(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield $n(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const kx="2.80.0",Cx={"X-Client-Info":`storage-js/${kx}`};class R_{constructor(e,r={},a,o){this.shouldThrowOnError=!1;const l=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cx),r),this.fetch=Mh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Ne(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Wa(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}getBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}createBucket(e){return Ne(this,arguments,void 0,function*(r,a={public:!1}){try{return{data:yield $n(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}updateBucket(e,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield th(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}emptyBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield $h(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class P_{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cx),r),this.fetch=Mh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}listBuckets(e){return Ne(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const a=r.toString(),o=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield Wa(this.fetch,o,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield $h(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}}const Fh={"X-Client-Info":`storage-js/${kx}`,"Content-Type":"application/json"};class Rx extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function dn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Sd extends Rx{constructor(e,r,a){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class T_ extends Rx{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var kg;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(kg||(kg={}));const zh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),A_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Cg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),I_=(t,e,r)=>Ne(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const o=t.status||500,l=t;if(typeof l.json=="function")l.json().then(u=>{const h=u?.statusCode||u?.code||o+"";e(new Sd(Cg(u),o,h))}).catch(()=>{const u=o+"",h=l.statusText||`HTTP ${o} error`;e(new Sd(h,o,u))});else{const u=o+"",h=l.statusText||`HTTP ${o} error`;e(new Sd(h,o,u))}}else e(new T_(Cg(t),t))}),O_=(t,e,r,a)=>{const o={method:t,headers:e?.headers||{}};return a?(A_(a)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(a)):o.body=a,Object.assign(Object.assign({},o),r)):o};function L_(t,e,r,a,o,l){return Ne(this,void 0,void 0,function*(){return new Promise((u,h)=>{t(r,O_(e,a,o,l)).then(f=>{if(!f.ok)throw f;if(a?.noResolveJson)return f;const p=f.headers.get("content-type");return!p||!p.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>I_(f,h,a))})})}function hn(t,e,r,a,o){return Ne(this,void 0,void 0,function*(){return L_(t,"POST",e,a,o,r)})}class D_{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fh),r),this.fetch=zh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Ne(this,void 0,void 0,function*(){try{return{data:(yield hn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dn(a))return{data:null,error:a};throw a}})}listIndexes(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Ne(this,void 0,void 0,function*(){try{return{data:(yield hn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dn(a))return{data:null,error:a};throw a}})}}class M_{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fh),r),this.fetch=zh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Ne(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield hn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}getVectors(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}listVectors(e){return Ne(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield hn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}queryVectors(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Ne(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield hn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}}class $_{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fh),r),this.fetch=zh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:(yield hn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}getBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}listBuckets(){return Ne(this,arguments,void 0,function*(e={}){try{return{data:yield hn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:(yield hn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}}class F_ extends $_{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new z_(this.url,this.headers,e,this.fetch)}}class z_ extends D_{constructor(e,r,a,o){super(e,r,o),this.vectorBucketName=a}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ne(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ne(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ne(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ne(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new U_(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class U_ extends M_{constructor(e,r,a,o,l){super(e,r,l),this.vectorBucketName=a,this.indexName=o}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ne(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ne(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ne(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ne(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ne(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class B_ extends R_{constructor(e,r={},a,o){super(e,r,a,o)}from(e){return new C_(this.url,this.headers,e,this.fetch)}get vectors(){return new F_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new P_(this.url+"/iceberg",this.headers,this.fetch)}}const V_="2.80.0";let $a="";typeof Deno<"u"?$a="deno":typeof document<"u"?$a="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$a="react-native":$a="node";const W_={"X-Client-Info":`supabase-js-${$a}/${V_}`},H_={headers:W_},q_={schema:"public"},G_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},K_={},J_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Y_=()=>Headers,Q_=(t,e,r)=>{const a=J_(r),o=Y_();return async(l,u)=>{var h;const f=(h=await e())!==null&&h!==void 0?h:t;let p=new o(u?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),a(l,Object.assign(Object.assign({},u),{headers:p}))}};function X_(t){return t.endsWith("/")?t:t+"/"}function Z_(t,e){var r,a;const{db:o,auth:l,realtime:u,global:h}=t,{db:f,auth:p,realtime:x,global:g}=e,b={db:Object.assign(Object.assign({},f),o),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},x),u),storage:{},global:Object.assign(Object.assign(Object.assign({},g),h),{headers:Object.assign(Object.assign({},(r=g?.headers)!==null&&r!==void 0?r:{}),(a=h?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}function e1(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(X_(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Px="2.80.0",Ni=30*1e3,nh=3,_d=nh*Ni,t1="http://localhost:9999",n1="supabase.auth.token",r1={"X-Client-Info":`gotrue-js/${Px}`},rh="X-Supabase-Api-Version",Tx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},s1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,i1=600*1e3;class Ha extends Error{constructor(e,r,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}}function Ee(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class a1 extends Ha{constructor(e,r,a){super(e,r,a),this.name="AuthApiError",this.status=r,this.code=a}}function o1(t){return Ee(t)&&t.name==="AuthApiError"}class Os extends Ha{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ls extends Ha{constructor(e,r,a,o){super(e,a,o),this.name=r,this.status=a}}class Ln extends ls{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function l1(t){return Ee(t)&&t.name==="AuthSessionMissingError"}class gi extends ls{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cl extends ls{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Rl extends ls{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function c1(t){return Ee(t)&&t.name==="AuthImplicitGrantRedirectError"}class Rg extends ls{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sh extends ls{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Nd(t){return Ee(t)&&t.name==="AuthRetryableFetchError"}class Pg extends ls{constructor(e,r,a){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}}class ih extends ls{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tg=` 	
\r=`.split(""),u1=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Tg.length;e+=1)t[Tg[e].charCodeAt(0)]=-2;for(let e=0;e<Jl.length;e+=1)t[Jl[e].charCodeAt(0)]=e;return t})();function Ag(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(Jl[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(Jl[a]),e.queuedBits-=6}}function Ax(t,e,r){const a=u1[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ig(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{f1(u,a,r)};for(let u=0;u<t.length;u+=1)Ax(t.charCodeAt(u),o,l);return e.join("")}function d1(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function h1(t,e){for(let r=0;r<t.length;r+=1){let a=t.charCodeAt(r);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}d1(a,e)}}function f1(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ki(t){const e=[],r={queue:0,queuedBits:0},a=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Ax(t.charCodeAt(o),r,a);return new Uint8Array(e)}function p1(t){const e=[];return h1(t,r=>e.push(r)),new Uint8Array(e)}function Ls(t){const e=[],r={queue:0,queuedBits:0},a=o=>{e.push(o)};return t.forEach(o=>Ag(o,r,a)),Ag(null,r,a),e.join("")}function m1(t){return Math.round(Date.now()/1e3)+t}function g1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ht=()=>typeof window<"u"&&typeof document<"u",Rs={tested:!1,writable:!1},Ix=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rs.tested)return Rs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Rs.tested=!0,Rs.writable=!0}catch{Rs.tested=!0,Rs.writable=!1}return Rs.writable};function v1(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return r.searchParams.forEach((a,o)=>{e[o]=a}),e}const Ox=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),x1=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ei=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ps=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Zr=async(t,e)=>{await t.removeItem(e)};class pc{constructor(){this.promise=new pc.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}pc.promiseConstructor=Promise;function Ed(t){const e=t.split(".");if(e.length!==3)throw new ih("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!s1.test(e[a]))throw new ih("JWT not in base64url format");return{header:JSON.parse(Ig(e[0])),payload:JSON.parse(Ig(e[1])),signature:ki(e[2]),raw:{header:e[0],payload:e[1]}}}async function y1(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function w1(t,e){return new Promise((a,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){a(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function b1(t){return("0"+t.toString(16)).substr(-2)}function j1(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(e),Array.from(e,b1).join("")}async function S1(t){const r=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(a);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function _1(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await S1(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vi(t,e,r=!1){const a=j1();let o=a;r&&(o+="/PASSWORD_RECOVERY"),await Ei(t,`${e}-code-verifier`,o);const l=await _1(a);return[l,a===l?"plain":"s256"]}const N1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function E1(t){const e=t.headers.get(rh);if(!e||!e.match(N1))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function k1(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function C1(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const R1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xi(t){if(!R1.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kd(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function P1(t,e){return new Proxy(t,{get:(r,a,o)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const l=a.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,o)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,a,o)}})}function Og(t){return JSON.parse(JSON.stringify(t))}const As=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),T1=[502,503,504];async function Lg(t){var e;if(!x1(t))throw new sh(As(t),0);if(T1.includes(t.status))throw new sh(As(t),t.status);let r;try{r=await t.json()}catch(l){throw new Os(As(l),l)}let a;const o=E1(t);if(o&&o.getTime()>=Tx["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new Pg(As(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new Ln}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Pg(As(r),t.status,r.weak_password.reasons);throw new a1(As(r),t.status||500,a)}const A1=(t,e,r,a)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),r))};async function Pe(t,e,r,a){var o;const l=Object.assign({},a?.headers);l[rh]||(l[rh]=Tx["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const u=(o=a?.query)!==null&&o!==void 0?o:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await I1(t,e,r+h,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(f):{data:Object.assign({},f),error:null}}async function I1(t,e,r,a,o,l){const u=A1(e,a,o,l);let h;try{h=await t(r,Object.assign({},u))}catch(f){throw console.error(f),new sh(As(f),0)}if(h.ok||await Lg(h),a?.noResolveJson)return h;try{return await h.json()}catch(f){await Lg(f)}}function Dn(t){var e;let r=null;D1(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=m1(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:a},error:null}}function Dg(t){const e=Dn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ns(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function O1(t){return{data:t,error:null}}function L1(t){const{action_link:e,email_otp:r,hashed_token:a,redirect_to:o,verification_type:l}=t,u=os(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:r,hashed_token:a,redirect_to:o,verification_type:l},f=Object.assign({},u);return{data:{properties:h,user:f},error:null}}function Mg(t){return t}function D1(t){return t.access_token&&t.refresh_token&&t.expires_in}const Cd=["global","local","others"];class M1{constructor({url:e="",headers:r={},fetch:a}){this.url=e,this.headers=r,this.fetch=Ox(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Cd[0]){if(Cd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cd.join(", ")}`);try{return await Pe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Ee(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,r={}){try{return await Pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ns})}catch(a){if(Ee(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:r}=e,a=os(e,["options"]),o=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(o.new_email=a?.newEmail,delete o.newEmail),await Pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:L1,redirectTo:r?.redirectTo})}catch(r){if(Ee(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ns})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,a,o,l,u,h,f;try{const p={nextPage:null,lastPage:0,total:0},x=await Pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Mg});if(x.error)throw x.error;const g=await x.json(),b=(u=x.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(f=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(C=>{const _=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(C.split(";")[1].split("=")[1]);p[`${j}Page`]=_}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},g),p),error:null}}catch(p){if(Ee(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){xi(e);try{return await Pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ns})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){xi(e);try{return await Pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ns})}catch(a){if(Ee(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,r=!1){xi(e);try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ns})}catch(a){if(Ee(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){xi(e.userId);try{const{data:r,error:a}=await Pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:a}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _deleteFactor(e){xi(e.userId),xi(e.id);try{return{data:await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,a,o,l,u,h,f;try{const p={nextPage:null,lastPage:0,total:0},x=await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Mg});if(x.error)throw x.error;const g=await x.json(),b=(u=x.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(f=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(C=>{const _=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(C.split(";")[1].split("=")[1]);p[`${j}Page`]=_}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},g),p),error:null}}catch(p){if(Ee(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Ee(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ee(r))return{data:null,error:r};throw r}}}function $g(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const yi={debug:!!(globalThis&&Ix()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class $1 extends Lx{}async function F1(t,e,r){yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),yi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new $1(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(yi.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function z1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Dx(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function U1(t){return parseInt(t,16)}function B1(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function V1(t){var e;const{chainId:r,domain:a,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:h,requestId:f,resources:p,scheme:x,uri:g,version:b}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=Dx(t.address),C=x?`${x}://${a}`:a,_=t.statement?`${t.statement}
`:"",j=`${C} wants you to sign in with your Ethereum account:
${w}

${_}`;let E=`URI: ${g}
Version: ${b}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(E+=`
Expiration Time: ${o.toISOString()}`),h&&(E+=`
Not Before: ${h.toISOString()}`),f&&(E+=`
Request ID: ${f}`),p){let S=`
Resources:`;for(const N of p){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);S+=`
- ${N}`}E+=S}return`${j}
${E}`}class xt extends Error{constructor({message:e,code:r,cause:a,name:o}){var l;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=o??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class Yl extends xt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function W1({error:t,options:e}){var r,a,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new xt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new xt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new xt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new xt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new xt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new xt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new xt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new xt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(Mx(u)){if(l.rp.id!==u)return new xt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new xt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new xt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function H1({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new xt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new xt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Mx(a)){if(r.rpId!==a)return new xt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new xt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class q1{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const G1=new q1;function K1(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:a}=t,o=os(t,["challenge","user","excludeCredentials"]),l=ki(e).buffer,u=Object.assign(Object.assign({},r),{id:ki(r.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:l,user:u});if(a&&a.length>0){h.excludeCredentials=new Array(a.length);for(let f=0;f<a.length;f++){const p=a[f];h.excludeCredentials[f]=Object.assign(Object.assign({},p),{id:ki(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function J1(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,a=os(t,["challenge","allowCredentials"]),o=ki(e).buffer,l=Object.assign(Object.assign({},a),{challenge:o});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const h=r[u];l.allowCredentials[u]=Object.assign(Object.assign({},h),{id:ki(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function Y1(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ls(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ls(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Q1(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,a=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ls(new Uint8Array(o.authenticatorData)),clientDataJSON:Ls(new Uint8Array(o.clientDataJSON)),signature:Ls(new Uint8Array(o.signature)),userHandle:o.userHandle?Ls(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Mx(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Fg(){var t,e;return!!(Ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function X1(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Yl("Browser returned unexpected credential type",e)}:{data:null,error:new Yl("Empty credential response",e)}}catch(e){return{data:null,error:W1({error:e,options:t})}}}async function Z1(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Yl("Browser returned unexpected credential type",e)}:{data:null,error:new Yl("Empty credential response",e)}}catch(e){return{data:null,error:H1({error:e,options:t})}}}const eN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},tN={userVerification:"preferred",hints:["security-key"]};function Ql(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of t)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))a[l]=u;else if(r(u))a[l]=u;else if(e(u)){const h=a[l];e(h)?a[l]=Ql(h,u):a[l]=Ql(u)}else a[l]=u}return a}function nN(t,e){return Ql(eN,t,e||{})}function rN(t,e){return Ql(tN,t,e||{})}class sN{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:a,signal:o},l){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:h};const f=o??G1.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${a}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=nN(u.webauthn.credential_options.publicKey,l?.create),{data:x,error:g}=await X1({publicKey:p,signal:f});return x?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:x}},error:null}:{data:null,error:g}}case"request":{const p=rN(u.webauthn.credential_options.publicKey,l?.request),{data:x,error:g}=await Z1(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:f}));return x?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:x}},error:null}:{data:null,error:g}}}}catch(u){return Ee(u)?{data:null,error:u}:{data:null,error:new Os("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}},l){if(!r)return{data:null,error:new Ha("rpId is required for WebAuthn authentication")};try{if(!Fg())return{data:null,error:new Os("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:a},signal:o},{request:l});if(!u)return{data:null,error:h};const{webauthn:f}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:a,credential_response:f.credential_response}})}catch(u){return Ee(u)?{data:null,error:u}:{data:null,error:new Os("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o},l){if(!r)return{data:null,error:new Ha("rpId is required for WebAuthn registration")};try{if(!Fg())return{data:null,error:new Os("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(x=>{var g;return(g=x.data)===null||g===void 0?void 0:g.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x?.id}):void 0),{data:null,error:h};const{data:f,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:o},{create:l});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:a,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:p}}catch(u){return Ee(u)?{data:null,error:u}:{data:null,error:new Os("Unexpected error in register",u)}}}}z1();const iN={url:t1,storageKey:n1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:r1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function zg(t,e,r){return await r()}const wi={};class qa{get jwks(){var e,r;return(r=(e=wi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){wi[this.storageKey]=Object.assign(Object.assign({},wi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=wi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){wi[this.storageKey]=Object.assign(Object.assign({},wi[this.storageKey]),{cachedAt:e})}constructor(e){var r,a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},iN),e);if(this.storageKey=l.storageKey,this.instanceID=(r=qa.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,qa.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Ht()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new M1({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Ox(l.fetch),this.lock=l.lock||zg,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:Ht()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=F1:this.lock=zg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new sN(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Ix()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$g(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=$g(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Px}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},a="none";if(Ht()&&(r=v1(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),Ht()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),c1(l)){const f=(e=l.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ee(r)?this._returnResult({error:r}):this._returnResult({error:new Os("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,a,o;try{const l=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Dn}),{data:u,error:h}=l;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(l){if(Ee(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,a,o;try{let l;if("email"in e){const{email:x,password:g,options:b}=e;let w=null,C=null;this.flowType==="pkce"&&([w,C]=await vi(this.storage,this.storageKey)),l=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:x,password:g,data:(r=b?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:w,code_challenge_method:C},xform:Dn})}else if("phone"in e){const{phone:x,password:g,options:b}=e;l=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:g,data:(a=b?.data)!==null&&a!==void 0?a:{},channel:(o=b?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Dn})}else throw new Cl("You must provide either an email or phone number and a password");const{data:u,error:h}=l;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(l){if(Ee(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:u,options:h}=e;r=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Dg})}else if("phone"in e){const{phone:l,password:u,options:h}=e;r=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Dg})}else throw new Cl("You must provide either an email or phone number and a password");const{data:a,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){const l=new gi;return this._returnResult({data:{user:null,session:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(r){if(Ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,a,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,a,o,l,u,h,f,p,x,g,b;let w,C;if("message"in e)w=e.message,C=e.signature;else{const{chain:_,wallet:j,statement:E,options:S}=e;let N;if(Ht())if(typeof j=="object")N=j;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")N=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=j}const R=new URL((r=S?.url)!==null&&r!==void 0?r:window.location.href),A=await N.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const U=Dx(A[0]);let T=(a=S?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!T){const F=await N.request({method:"eth_chainId"});T=U1(F)}const O={domain:R.host,address:U,statement:E,uri:R.href,version:"1",chainId:T,nonce:(o=S?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=S?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=S?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=S?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(p=S?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(x=S?.signInWithEthereum)===null||x===void 0?void 0:x.resources};w=V1(O),C=await N.request({method:"personal_sign",params:[B1(w),U]})}try{const{data:_,error:j}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:C},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Dn});if(j)throw j;if(!_||!_.session||!_.user){const E=new gi;return this._returnResult({data:{user:null,session:null},error:E})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:j})}catch(_){if(Ee(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var r,a,o,l,u,h,f,p,x,g,b,w;let C,_;if("message"in e)C=e.message,_=e.signature;else{const{chain:j,wallet:E,statement:S,options:N}=e;let R;if(Ht())if(typeof E=="object")R=E;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))R=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=E}const A=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const U=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),S?{statement:S}:null));let T;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")T=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)T=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)C=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),_=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${A.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(o=(a=N?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=N?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((u=N?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((h=N?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((f=N?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((p=N?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((g=(x=N?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||g===void 0)&&g.length?["Resources",...N.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const U=await R.signMessage(new TextEncoder().encode(C),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=U}}try{const{data:j,error:E}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Ls(_)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Dn});if(E)throw E;if(!j||!j.session||!j.user){const S=new gi;return this._returnResult({data:{user:null,session:null},error:S})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:E})}catch(j){if(Ee(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(e){const r=await Ps(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(r??"").split("/");try{const{data:l,error:u}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:Dn});if(await Zr(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const h=new gi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(Ee(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:a,token:o,access_token:l,nonce:u}=e,h=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Dn}),{data:f,error:p}=h;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f||!f.session||!f.user){const x=new gi;return this._returnResult({data:{user:null,session:null},error:x})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:p})}catch(r){if(Ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,a,o,l,u;try{if("email"in e){const{email:h,options:f}=e;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await vi(this.storage,this.storageKey));const{error:g}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=f?.data)!==null&&r!==void 0?r:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:x},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in e){const{phone:h,options:f}=e,{data:p,error:x}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=f?.data)!==null&&o!==void 0?o:{},create_user:(l=f?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:x})}throw new Cl("You must provide either an email or phone number.")}catch(h){if(Ee(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var r,a;try{let o,l;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:h}=await Pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:Dn});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,p=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(o){if(Ee(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var r,a,o;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await vi(this.storage,this.storageKey));const h=await Pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:O1});return this._returnResult(h)}catch(l){if(Ee(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;if(a)throw a;if(!r)throw new Ln;const{error:o}=await Pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(Ee(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:a,type:o,options:l}=e,{error:u}=await Pe(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:a,type:o,options:l}=e,{data:u,error:h}=await Pe(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:h})}throw new Cl("You must provide either an email or phone number and a type")}catch(r){if(Ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ps(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<_d:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const u=await Ps(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=kd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=P1(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ns}):await this._useSession(async r=>{var a,o,l;const{data:u,error:h}=r;if(h)throw h;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ln}:await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:ns})})}catch(r){if(Ee(r))return l1(r)&&(await this._removeSession(),await Zr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async a=>{const{data:o,error:l}=a;if(l)throw l;if(!o.session)throw new Ln;const u=o.session;let h=null,f=null;this.flowType==="pkce"&&e.email!=null&&([h,f]=await vi(this.storage,this.storageKey));const{data:p,error:x}=await Pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:f}),jwt:u.access_token,xform:ns});if(x)throw x;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(a){if(Ee(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ln;const r=Date.now()/1e3;let a=r,o=!0,l=null;const{payload:u}=Ed(e.access_token);if(u.exp&&(a=u.exp,o=a<=r),o){const{data:h,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:f}=await this._getUser(e.access_token);if(f)throw f;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(Ee(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var a;if(!e){const{data:u,error:h}=r;if(h)throw h;e=(a=u.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new Ln;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ht())throw new Rl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Rl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Rg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Rg("No code detected.");const{data:S,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:h,expires_at:f,token_type:p}=e;if(!l||!h||!u||!p)throw new Rl("No session defined in URL");const x=Math.round(Date.now()/1e3),g=parseInt(h);let b=x+g;f&&(b=parseInt(f));const w=b-x;w*1e3<=Ni&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${g}s`);const C=b-g;x-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,b,x):x-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,b,x);const{data:_,error:j}=await this._getUser(l);if(j)throw j;const E={provider_token:a,provider_refresh_token:o,access_token:l,expires_in:g,expires_at:b,refresh_token:u,token_type:p,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:e.type},error:null})}catch(a){if(Ee(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ps(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:o,error:l}=r;if(l)return this._returnResult({error:l});const u=(a=o.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(o1(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await Zr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=g1(),a={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async r=>{var a,o;try{const{data:{session:l},error:u}=r;if(u)throw u;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await vi(this.storage,this.storageKey,!0));try{return await Pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(Ee(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:a,error:o}=await this._useSession(async l=>{var u,h,f,p,x;const{data:g,error:b}=l;if(b)throw b;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Pe(this.fetch,"GET",w,{headers:this.headers,jwt:(x=(p=g.session)===null||p===void 0?void 0:p.access_token)!==null&&x!==void 0?x:void 0})});if(o)throw o;return Ht()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(Ee(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var a;try{const{error:o,data:{session:l}}=r;if(o)throw o;const{options:u,provider:h,token:f,access_token:p,nonce:x}=e,g=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:h,id_token:f,access_token:p,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Dn}),{data:b,error:w}=g;return w?this._returnResult({data:{user:null,session:null},error:w}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new gi}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:w}))}catch(o){if(Ee(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var a,o;const{data:l,error:u}=r;if(u)throw u;return await Pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await w1(async o=>(o>0&&await y1(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await Pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Dn})),(o,l)=>{const u=200*Math.pow(2,o);return l&&Nd(l)&&Date.now()+u-a<Ni})}catch(a){if(this._debug(r,"error",a),Ee(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",a),Ht()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await Ps(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Ps(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Ei(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:kd()}else if(o&&!o.user&&!o.user){const u=await Ps(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await Zr(this.storage,this.storageKey+"-user"),await Ei(this.storage,this.storageKey,o)):o.user=kd()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const l=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<_d;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${_d}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Nd(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var r,a;if(!e)throw new Ln;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new pc;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new Ln;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(o,"error",l),Ee(l)){const u={data:null,error:l};return Nd(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,a=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,r)}catch(f){l.push(f)}});if(await Promise.all(u),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await Ei(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const l=Og(o);await Ei(this.storage,this.storageKey,l)}else{const o=Og(r);await Ei(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Zr(this.storage,this.storageKey),await Zr(this.storage,this.storageKey+"-code-verifier"),await Zr(this.storage,this.storageKey+"-user"),this.userStorage&&await Zr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ht()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ni);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-e)/Ni);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ni}ms, refresh threshold is ${nh} ticks`),o<=nh&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Lx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,a){const o=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,u]=await vi(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);o.push(l.toString())}return a?.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var a;const{data:o,error:l}=r;return l?this._returnResult({data:null,error:l}):await Pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var a,o;const{data:l,error:u}=r;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:p}=await Pe(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&f.type==="totp"&&(!((o=f?.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Y1(e.webauthn.credential_response):Q1(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:f}=await Pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:f}))})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=await Pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:K1(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:J1(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Ed(a.access_token);let u=null;l.aal&&(u=l.aal);let h=u;((r=(e=a.user.factors)===null||e===void 0?void 0:e.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:a},error:o}=r;return o?this._returnResult({data:null,error:o}):a?await Pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Ln})})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:o},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Ln});const u=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&Ht()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(Ee(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:o},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Ln});const u=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&Ht()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(Ee(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(e,r={keys:[]}){let a=r.keys.find(h=>h.kid===e);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(h=>h.kid===e),a&&this.jwks_cached_at+i1>o)return a;const{data:l,error:u}=await Pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,a=l.keys.find(h=>h.kid===e),!a)?null:a}async getClaims(e,r={}){try{let a=e;if(!a){const{data:w,error:C}=await this.getSession();if(C||!w.session)return this._returnResult({data:null,error:C});a=w.session.access_token}const{header:o,payload:l,signature:u,raw:{header:h,payload:f}}=Ed(a);r?.allowExpired||k1(l.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:w}=await this.getUser(a);if(w)throw w;return{data:{claims:l,header:o,signature:u},error:null}}const x=C1(o.alg),g=await crypto.subtle.importKey("jwk",p,x,!0,["verify"]);if(!await crypto.subtle.verify(x,g,u,p1(`${h}.${f}`)))throw new ih("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(a){if(Ee(a))return this._returnResult({data:null,error:a});throw a}}}qa.nextInstanceID={};const aN=qa;class oN extends aN{constructor(e){super(e)}}class lN{constructor(e,r,a){var o,l,u;this.supabaseUrl=e,this.supabaseKey=r;const h=e1(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:q_,realtime:K_,auth:Object.assign(Object.assign({},G_),{storageKey:f}),global:H_},x=Z_(a??{},p);this.storageKey=(o=x.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=x.global.headers)!==null&&l!==void 0?l:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(g,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=x.auth)!==null&&u!==void 0?u:{},this.headers,x.global.fetch),this.fetch=Q_(r,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new t_(new URL("rest/v1",h).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new B_(this.storageUrl.href,this.headers,this.fetch,a?.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new QS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,a)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(r=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:a,storage:o,userStorage:l,storageKey:u,flowType:h,lock:f,debug:p,throwOnError:x},g,b){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oN({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),g),storageKey:u,autoRefreshToken:e,persistSession:r,detectSessionInUrl:a,storage:o,userStorage:l,flowType:h,lock:f,debug:p,throwOnError:x,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new x_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a?.access_token)})}_handleTokenChanged(e,r,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cN=(t,e,r)=>new lN(t,e,r);function uN(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}uN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const dN="https://hfetigojhxfuoimgiunl.supabase.co",hN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhmZXRpZ29qaHhmdW9pbWdpdW5sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1NTk2ODIsImV4cCI6MjA3OTEzNTY4Mn0.aeGLHUOGbR3WJF748IV7yrIacxY8hC7wDRnr8WW32hc",it=cN(dN,hN,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),$e={users:"Users",students:"Students",teachers:"Teachers",parents:"Parents",courses:"Courses",lessons:"Lessons",grades:"Grades",attendance:"Attendance",announcements:"Announcements",events:"Events",finance:"Finance"};async function fN(t){const{data:e,error:r}=await t;if(r)throw r;if(e==null)throw new Error("No data");return e}async function st(t,e){let r=it.from(t).select(e?.select??"*");if(e?.eq)for(const[a,o]of e.eq)r=r.eq(a,o);return e?.order&&(r=r.order(e.order.column,{ascending:e.order.ascending??!0})),e?.limit&&(r=r.limit(e.limit)),fN(r)}async function pN(t){const{data:e,error:r}=await it.from($e.users).select("*").eq("email",t).maybeSingle();if(r)throw r;return e}async function Bi(){return st($e.students,{order:{column:"name"}})}async function $x(){const{count:t,error:e}=await it.from($e.students).select("*",{count:"exact",head:!0});if(e)throw e;return t??0}async function cs(t){if(!t||t.length===0)return[];const{data:e,error:r}=await it.from($e.students).select("*").in("id",t);if(r)throw r;return e??[]}async function Fx(t){const{data:e,error:r}=await it.from($e.students).select("*").eq("id",t).single();if(r)throw r;return e}async function mN(){return st($e.teachers,{order:{column:"name"}})}async function Uh(t){const{data:e,error:r}=await it.from($e.parents).select("*").eq("id",t).maybeSingle();if(r)throw r;return e}async function sr(){return st($e.courses,{order:{column:"code"}})}async function Bh(t){return st($e.grades,{eq:[["studentId",t]],order:{column:"date",ascending:!0}})}async function Vh(t){return{grades:await Bh(t)}}async function mc(t){if(!t||t.length===0)return[];const{data:e,error:r}=await it.from($e.grades).select("*").in("courseId",t);if(r)throw r;return e??[]}async function gN(){return st($e.grades,{order:{column:"date",ascending:!1}})}async function gc(t){return st($e.attendance,{eq:[["studentId",t]],order:{column:"date",ascending:!0}})}async function zx(t){return{attendance:await gc(t)}}async function Ux(){return st($e.attendance,{order:{column:"date",ascending:!1}})}async function ro(){return st($e.announcements,{order:{column:"date",ascending:!1}})}async function Bx(){return st($e.events,{order:{column:"date",ascending:!0}})}async function Vx(t){return st($e.finance,{eq:[["studentId",t]]}).then(e=>e[0]??null)}async function Wh(){return st($e.finance,{order:{column:"studentId"}})}async function vN(t){return{finance:await Vx(t)}}async function Wx(t){return t?{lessons:await st($e.lessons,{eq:[["teacherId",t]],order:{column:"date",ascending:!0}})}:{lessons:await st($e.lessons,{order:{column:"date",ascending:!0}})}}async function xN(t){const{id:e,courseId:r,courseName:a,title:o,date:l,teacherId:u,room:h,description:f}=t??{},p={id:e??to(),courseId:r,courseName:a,title:o,date:l,teacherId:u},{data:x,error:g}=await it.from($e.lessons).insert(p).select("*").single();if(g)throw g;return{lesson:{...x??p,...h?{room:h}:{},...f?{description:f}:{}}}}async function Hx(t){const e={id:t.id??to(),...t},{data:r,error:a}=await it.from($e.attendance).insert(e).select("*").single();if(a)throw a;return{attendance:r??e}}async function yN(t,e){const{data:r,error:a}=await it.from($e.attendance).update(e).eq("id",t).select("*").single();if(a)throw a;return r??null}async function wN(t){const e={id:to(),...t},{data:r,error:a}=await it.from($e.grades).insert(e).select("*").single();if(a)throw a;return r??e}async function bN(t,e){const{data:r,error:a}=await it.from($e.grades).update(e).eq("id",t).select("*").single();if(a)throw a;return r??null}const qx=v.createContext(void 0),jN="student";async function Ug(t,e,r){let a=await pN(t);if(a)return a;const o=to();a={id:o,name:e||t.split("@")[0],email:t,role:r||jN};const{error:l}=await it.from("Users").insert(a);if(l)throw l;return a.role==="student"&&await it.from("Students").insert({id:o,name:a.name,email:a.email,role:"student",gradeLevel:"Unassigned",gpa:0,attendance:0}),a}const SN=({children:t})=>{const[e,r]=v.useState(null),[a,o]=v.useState(!0),l=v.useCallback(async g=>{if(!g?.user?.email){r(null);return}try{const b=g.user.user_metadata?.name,w=g.user.user_metadata?.role,C=await Ug(g.user.email,b,w);r(C)}catch(b){console.error("Failed to sync user profile",b),r(null)}},[]),u=v.useCallback(async()=>{try{const{data:{session:g}}=await it.auth.getSession();await l(g)}finally{o(!1)}},[l]);v.useEffect(()=>{u();const{data:{subscription:g}}=it.auth.onAuthStateChange(async(b,w)=>{try{await l(w)}finally{o(!1)}});return()=>{g.unsubscribe()}},[u,l]);const h=v.useCallback(async()=>{const{data:{session:g}}=await it.auth.getSession();await l(g)},[l]),f=async(g,b)=>{try{const{error:w}=await it.auth.signInWithPassword({email:g,password:b});if(w)throw w;return await h(),!0}catch(w){return console.error("login error",w),!1}},p=async(g,b,w,C)=>{try{const{error:_}=await it.auth.signUp({email:g,password:b,options:{data:{name:w,role:C}}});if(_)throw _;const j=await Ug(g,w,C);return r(j),!0}catch(_){return console.error("register error",_),!1}},x=async()=>{try{await it.auth.signOut()}finally{r(null),o(!1)}};return i.jsx(qx.Provider,{value:{user:e,isAuthenticated:!!e,loading:a,login:f,register:p,logout:x},children:t})};function yt(){const t=v.useContext(qx);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}function Bg(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Vi(...t){return e=>{let r=!1;const a=t.map(o=>{const l=Bg(o,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<a.length;o++){const l=a[o];typeof l=="function"?l():Bg(t[o],null)}}}}function dt(...t){return v.useCallback(Vi(...t),t)}var _N=Symbol.for("react.lazy"),Xl=Sh[" use ".trim().toString()];function NN(t){return typeof t=="object"&&t!==null&&"then"in t}function Gx(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===_N&&"_payload"in t&&NN(t._payload)}function vc(t){const e=EN(t),r=v.forwardRef((a,o)=>{let{children:l,...u}=a;Gx(l)&&typeof Xl=="function"&&(l=Xl(l._payload));const h=v.Children.toArray(l),f=h.find(CN);if(f){const p=f.props.children,x=h.map(g=>g===f?v.Children.count(p)>1?v.Children.only(null):v.isValidElement(p)?p.props.children:null:g);return i.jsx(e,{...u,ref:o,children:v.isValidElement(p)?v.cloneElement(p,void 0,x):null})}return i.jsx(e,{...u,ref:o,children:l})});return r.displayName=`${t}.Slot`,r}var Kx=vc("Slot");function EN(t){const e=v.forwardRef((r,a)=>{let{children:o,...l}=r;if(Gx(o)&&typeof Xl=="function"&&(o=Xl(o._payload)),v.isValidElement(o)){const u=PN(o),h=RN(l,o.props);return o.type!==v.Fragment&&(h.ref=a?Vi(a,u):u),v.cloneElement(o,h)}return v.Children.count(o)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var kN=Symbol("radix.slottable");function CN(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===kN}function RN(t,e){const r={...e};for(const a in e){const o=t[a],l=e[a];/^on[A-Z]/.test(a)?o&&l?r[a]=(...h)=>{const f=l(...h);return o(...h),f}:o&&(r[a]=o):a==="style"?r[a]={...o,...l}:a==="className"&&(r[a]=[o,l].filter(Boolean).join(" "))}return{...t,...r}}function PN(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Jx(t){var e,r,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=Jx(t[e]))&&(a&&(a+=" "),a+=r)}else for(r in t)t[r]&&(a&&(a+=" "),a+=r);return a}function Yx(){for(var t,e,r=0,a="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=Jx(t))&&(a&&(a+=" "),a+=e);return a}const Vg=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Wg=Yx,Qx=(t,e)=>r=>{var a;if(e?.variants==null)return Wg(t,r?.class,r?.className);const{variants:o,defaultVariants:l}=e,u=Object.keys(o).map(p=>{const x=r?.[p],g=l?.[p];if(x===null)return null;const b=Vg(x)||Vg(g);return o[p][b]}),h=r&&Object.entries(r).reduce((p,x)=>{let[g,b]=x;return b===void 0||(p[g]=b),p},{}),f=e==null||(a=e.compoundVariants)===null||a===void 0?void 0:a.reduce((p,x)=>{let{class:g,className:b,...w}=x;return Object.entries(w).every(C=>{let[_,j]=C;return Array.isArray(j)?j.includes({...l,...h}[_]):{...l,...h}[_]===j})?[...p,g,b]:p},[]);return Wg(t,u,f,r?.class,r?.className)},Hh="-",TN=t=>{const e=IN(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:u=>{const h=u.split(Hh);return h[0]===""&&h.length!==1&&h.shift(),Xx(h,e)||AN(u)},getConflictingClassGroupIds:(u,h)=>{const f=r[u]||[];return h&&a[u]?[...f,...a[u]]:f}}},Xx=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],a=e.nextPart.get(r),o=a?Xx(t.slice(1),a):void 0;if(o)return o;if(e.validators.length===0)return;const l=t.join(Hh);return e.validators.find(({validator:u})=>u(l))?.classGroupId},Hg=/^\[(.+)\]$/,AN=t=>{if(Hg.test(t)){const e=Hg.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},IN=t=>{const{theme:e,classGroups:r}=t,a={nextPart:new Map,validators:[]};for(const o in r)ah(r[o],a,o,e);return a},ah=(t,e,r,a)=>{t.forEach(o=>{if(typeof o=="string"){const l=o===""?e:qg(e,o);l.classGroupId=r;return}if(typeof o=="function"){if(ON(o)){ah(o(a),e,r,a);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([l,u])=>{ah(u,qg(e,l),r,a)})})},qg=(t,e)=>{let r=t;return e.split(Hh).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},ON=t=>t.isThemeGetter,LN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,a=new Map;const o=(l,u)=>{r.set(l,u),e++,e>t&&(e=0,a=r,r=new Map)};return{get(l){let u=r.get(l);if(u!==void 0)return u;if((u=a.get(l))!==void 0)return o(l,u),u},set(l,u){r.has(l)?r.set(l,u):o(l,u)}}},oh="!",lh=":",DN=lh.length,MN=t=>{const{prefix:e,experimentalParseClassName:r}=t;let a=o=>{const l=[];let u=0,h=0,f=0,p;for(let C=0;C<o.length;C++){let _=o[C];if(u===0&&h===0){if(_===lh){l.push(o.slice(f,C)),f=C+DN;continue}if(_==="/"){p=C;continue}}_==="["?u++:_==="]"?u--:_==="("?h++:_===")"&&h--}const x=l.length===0?o:o.substring(f),g=$N(x),b=g!==x,w=p&&p>f?p-f:void 0;return{modifiers:l,hasImportantModifier:b,baseClassName:g,maybePostfixModifierPosition:w}};if(e){const o=e+lh,l=a;a=u=>u.startsWith(o)?l(u.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(r){const o=a;a=l=>r({className:l,parseClassName:o})}return a},$N=t=>t.endsWith(oh)?t.substring(0,t.length-1):t.startsWith(oh)?t.substring(1):t,FN=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const o=[];let l=[];return a.forEach(u=>{u[0]==="["||e[u]?(o.push(...l.sort(),u),l=[]):l.push(u)}),o.push(...l.sort()),o}},zN=t=>({cache:LN(t.cacheSize),parseClassName:MN(t),sortModifiers:FN(t),...TN(t)}),UN=/\s+/,BN=(t,e)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:o,sortModifiers:l}=e,u=[],h=t.trim().split(UN);let f="";for(let p=h.length-1;p>=0;p-=1){const x=h[p],{isExternal:g,modifiers:b,hasImportantModifier:w,baseClassName:C,maybePostfixModifierPosition:_}=r(x);if(g){f=x+(f.length>0?" "+f:f);continue}let j=!!_,E=a(j?C.substring(0,_):C);if(!E){if(!j){f=x+(f.length>0?" "+f:f);continue}if(E=a(C),!E){f=x+(f.length>0?" "+f:f);continue}j=!1}const S=l(b).join(":"),N=w?S+oh:S,R=N+E;if(u.includes(R))continue;u.push(R);const A=o(E,j);for(let U=0;U<A.length;++U){const T=A[U];u.push(N+T)}f=x+(f.length>0?" "+f:f)}return f};function VN(){let t=0,e,r,a="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Zx(e))&&(a&&(a+=" "),a+=r);return a}const Zx=t=>{if(typeof t=="string")return t;let e,r="";for(let a=0;a<t.length;a++)t[a]&&(e=Zx(t[a]))&&(r&&(r+=" "),r+=e);return r};function WN(t,...e){let r,a,o,l=u;function u(f){const p=e.reduce((x,g)=>g(x),t());return r=zN(p),a=r.cache.get,o=r.cache.set,l=h,h(f)}function h(f){const p=a(f);if(p)return p;const x=BN(f,r);return o(f,x),x}return function(){return l(VN.apply(null,arguments))}}const St=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},ey=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ty=/^\((?:(\w[\w-]*):)?(.+)\)$/i,HN=/^\d+\/\d+$/,qN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,JN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bi=t=>HN.test(t),Me=t=>!!t&&!Number.isNaN(Number(t)),es=t=>!!t&&Number.isInteger(Number(t)),Rd=t=>t.endsWith("%")&&Me(t.slice(0,-1)),gr=t=>qN.test(t),QN=()=>!0,XN=t=>GN.test(t)&&!KN.test(t),ny=()=>!1,ZN=t=>JN.test(t),eE=t=>YN.test(t),tE=t=>!ye(t)&&!we(t),nE=t=>Wi(t,iy,ny),ye=t=>ey.test(t),Ts=t=>Wi(t,ay,XN),Pd=t=>Wi(t,oE,Me),Gg=t=>Wi(t,ry,ny),rE=t=>Wi(t,sy,eE),Pl=t=>Wi(t,oy,ZN),we=t=>ty.test(t),Ma=t=>Hi(t,ay),sE=t=>Hi(t,lE),Kg=t=>Hi(t,ry),iE=t=>Hi(t,iy),aE=t=>Hi(t,sy),Tl=t=>Hi(t,oy,!0),Wi=(t,e,r)=>{const a=ey.exec(t);return a?a[1]?e(a[1]):r(a[2]):!1},Hi=(t,e,r=!1)=>{const a=ty.exec(t);return a?a[1]?e(a[1]):r:!1},ry=t=>t==="position"||t==="percentage",sy=t=>t==="image"||t==="url",iy=t=>t==="length"||t==="size"||t==="bg-size",ay=t=>t==="length",oE=t=>t==="number",lE=t=>t==="family-name",oy=t=>t==="shadow",cE=()=>{const t=St("color"),e=St("font"),r=St("text"),a=St("font-weight"),o=St("tracking"),l=St("leading"),u=St("breakpoint"),h=St("container"),f=St("spacing"),p=St("radius"),x=St("shadow"),g=St("inset-shadow"),b=St("text-shadow"),w=St("drop-shadow"),C=St("blur"),_=St("perspective"),j=St("aspect"),E=St("ease"),S=St("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...R(),we,ye],U=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],O=()=>[we,ye,f],F=()=>[bi,"full","auto",...O()],$=()=>[es,"none","subgrid",we,ye],Z=()=>["auto",{span:["full",es,we,ye]},es,we,ye],H=()=>[es,"auto",we,ye],re=()=>["auto","min","max","fr",we,ye],ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],me=()=>["start","end","center","stretch","center-safe","end-safe"],J=()=>["auto",...O()],ae=()=>[bi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],M=()=>[t,we,ye],X=()=>[...R(),Kg,Gg,{position:[we,ye]}],Y=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",iE,nE,{size:[we,ye]}],q=()=>[Rd,Ma,Ts],K=()=>["","none","full",p,we,ye],oe=()=>["",Me,Ma,Ts],G=()=>["solid","dashed","dotted","double"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>[Me,Rd,Kg,Gg],ie=()=>["","none",C,we,ye],be=()=>["none",Me,we,ye],Se=()=>["none",Me,we,ye],Ie=()=>[Me,we,ye],De=()=>[bi,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[gr],breakpoint:[gr],color:[QN],container:[gr],"drop-shadow":[gr],ease:["in","out","in-out"],font:[tE],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[gr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[gr],shadow:[gr],spacing:["px",Me],text:[gr],"text-shadow":[gr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",bi,ye,we,j]}],container:["container"],columns:[{columns:[Me,ye,we,h]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[es,"auto",we,ye]}],basis:[{basis:[bi,"full","auto",h,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Me,bi,"auto","initial","none",ye]}],grow:[{grow:["",Me,we,ye]}],shrink:[{shrink:["",Me,we,ye]}],order:[{order:[es,"first","last","none",we,ye]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:Z()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:Z()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":re()}],"auto-rows":[{"auto-rows":re()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...ce(),"normal"]}],"justify-items":[{"justify-items":[...me(),"normal"]}],"justify-self":[{"justify-self":["auto",...me()]}],"align-content":[{content:["normal",...ce()]}],"align-items":[{items:[...me(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...me(),{baseline:["","last"]}]}],"place-content":[{"place-content":ce()}],"place-items":[{"place-items":[...me(),"baseline"]}],"place-self":[{"place-self":["auto",...me()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],w:[{w:[h,"screen",...ae()]}],"min-w":[{"min-w":[h,"screen","none",...ae()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...ae()]}],h:[{h:["screen","lh",...ae()]}],"min-h":[{"min-h":["screen","lh","none",...ae()]}],"max-h":[{"max-h":["screen","lh",...ae()]}],"font-size":[{text:["base",r,Ma,Ts]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,we,Pd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Rd,ye]}],"font-family":[{font:[sE,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,we,ye]}],"line-clamp":[{"line-clamp":[Me,"none",we,Pd]}],leading:[{leading:[l,...O()]}],"list-image":[{"list-image":["none",we,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",we,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:[Me,"from-font","auto",we,Ts]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[Me,"auto",we,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:Y()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},es,we,ye],radial:["",we,ye],conic:[es,we,ye]},aE,rE]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...G(),"hidden","none"]}],"divide-style":[{divide:[...G(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...G(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Me,we,ye]}],"outline-w":[{outline:["",Me,Ma,Ts]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",x,Tl,Pl]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",g,Tl,Pl]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[Me,Ts]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",b,Tl,Pl]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[Me,we,ye]}],"mix-blend":[{"mix-blend":[...Q(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Q()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Me]}],"mask-image-linear-from-pos":[{"mask-linear-from":V()}],"mask-image-linear-to-pos":[{"mask-linear-to":V()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":V()}],"mask-image-t-to-pos":[{"mask-t-to":V()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":V()}],"mask-image-r-to-pos":[{"mask-r-to":V()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":V()}],"mask-image-b-to-pos":[{"mask-b-to":V()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":V()}],"mask-image-l-to-pos":[{"mask-l-to":V()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":V()}],"mask-image-x-to-pos":[{"mask-x-to":V()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":V()}],"mask-image-y-to-pos":[{"mask-y-to":V()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[we,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":V()}],"mask-image-radial-to-pos":[{"mask-radial-to":V()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[Me]}],"mask-image-conic-from-pos":[{"mask-conic-from":V()}],"mask-image-conic-to-pos":[{"mask-conic-to":V()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:Y()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",we,ye]}],filter:[{filter:["","none",we,ye]}],blur:[{blur:ie()}],brightness:[{brightness:[Me,we,ye]}],contrast:[{contrast:[Me,we,ye]}],"drop-shadow":[{"drop-shadow":["","none",w,Tl,Pl]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",Me,we,ye]}],"hue-rotate":[{"hue-rotate":[Me,we,ye]}],invert:[{invert:["",Me,we,ye]}],saturate:[{saturate:[Me,we,ye]}],sepia:[{sepia:["",Me,we,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",we,ye]}],"backdrop-blur":[{"backdrop-blur":ie()}],"backdrop-brightness":[{"backdrop-brightness":[Me,we,ye]}],"backdrop-contrast":[{"backdrop-contrast":[Me,we,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Me,we,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Me,we,ye]}],"backdrop-invert":[{"backdrop-invert":["",Me,we,ye]}],"backdrop-opacity":[{"backdrop-opacity":[Me,we,ye]}],"backdrop-saturate":[{"backdrop-saturate":[Me,we,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Me,we,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",we,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Me,"initial",we,ye]}],ease:[{ease:["linear","initial",E,we,ye]}],delay:[{delay:[Me,we,ye]}],animate:[{animate:["none",S,we,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,we,ye]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:be()}],"rotate-x":[{"rotate-x":be()}],"rotate-y":[{"rotate-y":be()}],"rotate-z":[{"rotate-z":be()}],scale:[{scale:Se()}],"scale-x":[{"scale-x":Se()}],"scale-y":[{"scale-y":Se()}],"scale-z":[{"scale-z":Se()}],"scale-3d":["scale-3d"],skew:[{skew:Ie()}],"skew-x":[{"skew-x":Ie()}],"skew-y":[{"skew-y":Ie()}],transform:[{transform:[we,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:De()}],"translate-x":[{"translate-x":De()}],"translate-y":[{"translate-y":De()}],"translate-z":[{"translate-z":De()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we,ye]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[Me,Ma,Ts,Pd]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},uE=WN(cE);function Ve(...t){return uE(Yx(t))}const dE=Qx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Ae=v.forwardRef(({className:t,variant:e,size:r,asChild:a=!1,...o},l)=>{const u=a?Kx:"button";return i.jsx(u,{ref:l,"data-slot":"button",className:Ve(dE({variant:e,size:r,className:t})),...o})});Ae.displayName="Button";function qe({className:t,type:e,...r}){return i.jsx("input",{type:e,"data-slot":"input",className:Ve("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var hE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fE=hE.reduce((t,e)=>{const r=vc(`Primitive.${e}`),a=v.forwardRef((o,l)=>{const{asChild:u,...h}=o,f=u?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(f,{...h,ref:l})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{}),pE="Label",ly=v.forwardRef((t,e)=>i.jsx(fE.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ly.displayName=pE;var mE=ly;function Ke({className:t,...e}){return i.jsx(mE,{"data-slot":"label",className:Ve("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function te({className:t,...e}){return i.jsx("div",{"data-slot":"card",className:Ve("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function he({className:t,...e}){return i.jsx("div",{"data-slot":"card-header",className:Ve("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function fe({className:t,...e}){return i.jsx("h4",{"data-slot":"card-title",className:Ve("leading-none",t),...e})}function cy({className:t,...e}){return i.jsx("p",{"data-slot":"card-description",className:Ve("text-muted-foreground",t),...e})}function ne({className:t,...e}){return i.jsx("div",{"data-slot":"card-content",className:Ve("px-6 [&:last-child]:pb-6",t),...e})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vE=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),Jg=t=>{const e=vE(t);return e.charAt(0).toUpperCase()+e.slice(1)},uy=(...t)=>t.filter((e,r,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:u,...h},f)=>v.createElement("svg",{ref:f,...xE,width:e,height:e,stroke:t,strokeWidth:a?Number(r)*24/Number(e):r,className:uy("lucide",o),...h},[...u.map(([p,x])=>v.createElement(p,x)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(t,e)=>{const r=v.forwardRef(({className:a,...o},l)=>v.createElement(yE,{ref:l,iconNode:e,className:uy(`lucide-${gE(Jg(t))}`,`lucide-${t}`,a),...o}));return r.displayName=Jg(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ci=Ue("award",wE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Bl=Ue("bell",bE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],br=Ue("book-open",jE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],dy=Ue("building",SE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tr=Ue("calendar",_E);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],EE=Ue("check",NE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],hy=Ue("chevron-down",kE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],RE=Ue("chevron-up",CE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fy=Ue("circle-alert",PE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ga=Ue("circle-check-big",TE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Yg=Ue("circle-x",AE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],OE=Ue("clipboard-check",IE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Vl=Ue("clipboard-list",LE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Fs=Ue("clock",DE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Qg=Ue("credit-card",ME);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Hs=Ue("dollar-sign",$E);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],zE=Ue("file-pen",FE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],BE=Ue("file-plus",UE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ds=Ue("file-text",VE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],jr=Ue("graduation-cap",WE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Al=Ue("layout-dashboard",HE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],GE=Ue("log-out",qE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],so=Ue("mail",KE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],qh=Ue("map-pin",JE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],QE=Ue("pencil",YE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Gh=Ue("phone",XE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Kh=Ue("plus",ZE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],tk=Ue("refresh-ccw",ek);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Jh=Ue("search",nk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],py=Ue("trending-down",rk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],ss=Ue("trending-up",sk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],ak=Ue("user-check",ik);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],lk=Ue("user",ok);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Xn=Ue("users",ck);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dk=Ue("x",uk);function hk(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const fk=t=>{switch(t){case"success":return gk;case"info":return xk;case"warning":return vk;case"error":return yk;default:return null}},pk=Array(12).fill(0),mk=({visible:t,className:e})=>de.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},de.createElement("div",{className:"sonner-spinner"},pk.map((r,a)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),gk=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),vk=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),xk=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),yk=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),wk=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),bk=()=>{const[t,e]=de.useState(document.hidden);return de.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let ch=1;class jk{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:a,...o}=e,l=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:ch++,u=this.toasts.find(f=>f.id===l),h=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),u?this.toasts=this.toasts.map(f=>f.id===l?(this.publish({...f,...e,id:l,title:a}),{...f,...e,id:l,dismissible:h,title:a}):f):this.addToast({title:a,...o,dismissible:h,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(a=>a({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let a;r.loading!==void 0&&(a=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let l=a!==void 0,u;const h=o.then(async p=>{if(u=["resolve",p],de.isValidElement(p))l=!1,this.create({id:a,type:"default",message:p});else if(_k(p)&&!p.ok){l=!1;const g=typeof r.error=="function"?await r.error(`HTTP error! status: ${p.status}`):r.error,b=typeof r.description=="function"?await r.description(`HTTP error! status: ${p.status}`):r.description,C=typeof g=="object"&&!de.isValidElement(g)?g:{message:g};this.create({id:a,type:"error",description:b,...C})}else if(p instanceof Error){l=!1;const g=typeof r.error=="function"?await r.error(p):r.error,b=typeof r.description=="function"?await r.description(p):r.description,C=typeof g=="object"&&!de.isValidElement(g)?g:{message:g};this.create({id:a,type:"error",description:b,...C})}else if(r.success!==void 0){l=!1;const g=typeof r.success=="function"?await r.success(p):r.success,b=typeof r.description=="function"?await r.description(p):r.description,C=typeof g=="object"&&!de.isValidElement(g)?g:{message:g};this.create({id:a,type:"success",description:b,...C})}}).catch(async p=>{if(u=["reject",p],r.error!==void 0){l=!1;const x=typeof r.error=="function"?await r.error(p):r.error,g=typeof r.description=="function"?await r.description(p):r.description,w=typeof x=="object"&&!de.isValidElement(x)?x:{message:x};this.create({id:a,type:"error",description:g,...w})}}).finally(()=>{l&&(this.dismiss(a),a=void 0),r.finally==null||r.finally.call(r)}),f=()=>new Promise((p,x)=>h.then(()=>u[0]==="reject"?x(u[1]):p(u[1])).catch(x));return typeof a!="string"&&typeof a!="number"?{unwrap:f}:Object.assign(a,{unwrap:f})},this.custom=(e,r)=>{const a=r?.id||ch++;return this.create({jsx:e(a),id:a,...r}),a},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const en=new jk,Sk=(t,e)=>{const r=e?.id||ch++;return en.addToast({title:t,...e,id:r}),r},_k=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Nk=Sk,Ek=()=>en.toasts,kk=()=>en.getActiveToasts(),Le=Object.assign(Nk,{success:en.success,info:en.info,warning:en.warning,error:en.error,custom:en.custom,message:en.message,promise:en.promise,dismiss:en.dismiss,loading:en.loading},{getHistory:Ek,getToasts:kk});hk("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Il(t){return t.label!==void 0}const Ck=3,Rk="24px",Pk="16px",Xg=4e3,Tk=356,Ak=14,Ik=45,Ok=200;function Yn(...t){return t.filter(Boolean).join(" ")}function Lk(t){const[e,r]=t.split("-"),a=[];return e&&a.push(e),r&&a.push(r),a}const Dk=t=>{var e,r,a,o,l,u,h,f,p;const{invert:x,toast:g,unstyled:b,interacting:w,setHeights:C,visibleToasts:_,heights:j,index:E,toasts:S,expanded:N,removeToast:R,defaultRichColors:A,closeButton:U,style:T,cancelButtonStyle:O,actionButtonStyle:F,className:$="",descriptionClassName:Z="",duration:H,position:re,gap:ce,expandByDefault:me,classNames:J,icons:ae,closeButtonAriaLabel:M="Close toast"}=t,[X,Y]=de.useState(null),[L,q]=de.useState(null),[K,oe]=de.useState(!1),[G,Q]=de.useState(!1),[V,ie]=de.useState(!1),[be,Se]=de.useState(!1),[Ie,De]=de.useState(!1),[ge,Ze]=de.useState(0),[mn,tn]=de.useState(0),nn=de.useRef(g.duration||H||Xg),Yi=de.useRef(null),rn=de.useRef(null),hs=E===0,kr=E+1<=_,Ot=g.type,ar=g.dismissible!==!1,lo=g.className||"",co=g.descriptionClassName||"",fs=de.useMemo(()=>j.findIndex(Oe=>Oe.toastId===g.id)||0,[j,g.id]),Qi=de.useMemo(()=>{var Oe;return(Oe=g.closeButton)!=null?Oe:U},[g.closeButton,U]),ps=de.useMemo(()=>g.duration||H||Xg,[g.duration,H]),qs=de.useRef(0),gn=de.useRef(0),Cr=de.useRef(0),Rr=de.useRef(null),[uo,ho]=re.split("-"),fo=de.useMemo(()=>j.reduce((Oe,ht,wt)=>wt>=fs?Oe:Oe+ht.height,0),[j,fs]),Gs=bk(),Xi=g.invert||x,ms=Ot==="loading";gn.current=de.useMemo(()=>fs*ce+fo,[fs,fo]),de.useEffect(()=>{nn.current=ps},[ps]),de.useEffect(()=>{oe(!0)},[]),de.useEffect(()=>{const Oe=rn.current;if(Oe){const ht=Oe.getBoundingClientRect().height;return tn(ht),C(wt=>[{toastId:g.id,height:ht,position:g.position},...wt]),()=>C(wt=>wt.filter(Ft=>Ft.toastId!==g.id))}},[C,g.id]),de.useLayoutEffect(()=>{if(!K)return;const Oe=rn.current,ht=Oe.style.height;Oe.style.height="auto";const wt=Oe.getBoundingClientRect().height;Oe.style.height=ht,tn(wt),C(Ft=>Ft.find(mt=>mt.toastId===g.id)?Ft.map(mt=>mt.toastId===g.id?{...mt,height:wt}:mt):[{toastId:g.id,height:wt,position:g.position},...Ft])},[K,g.title,g.description,C,g.id,g.jsx,g.action,g.cancel]);const vn=de.useCallback(()=>{Q(!0),Ze(gn.current),C(Oe=>Oe.filter(ht=>ht.toastId!==g.id)),setTimeout(()=>{R(g)},Ok)},[g,R,C,gn]);de.useEffect(()=>{if(g.promise&&Ot==="loading"||g.duration===1/0||g.type==="loading")return;let Oe;return N||w||Gs?(()=>{if(Cr.current<qs.current){const Ft=new Date().getTime()-qs.current;nn.current=nn.current-Ft}Cr.current=new Date().getTime()})():(()=>{nn.current!==1/0&&(qs.current=new Date().getTime(),Oe=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),vn()},nn.current))})(),()=>clearTimeout(Oe)},[N,w,g,Ot,Gs,vn]),de.useEffect(()=>{g.delete&&(vn(),g.onDismiss==null||g.onDismiss.call(g,g))},[vn,g.delete]);function Zi(){var Oe;if(ae?.loading){var ht;return de.createElement("div",{className:Yn(J?.loader,g==null||(ht=g.classNames)==null?void 0:ht.loader,"sonner-loader"),"data-visible":Ot==="loading"},ae.loading)}return de.createElement(mk,{className:Yn(J?.loader,g==null||(Oe=g.classNames)==null?void 0:Oe.loader),visible:Ot==="loading"})}const Pr=g.icon||ae?.[Ot]||fk(Ot);var or,ea;return de.createElement("li",{tabIndex:0,ref:rn,className:Yn($,lo,J?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,J?.default,J?.[Ot],g==null||(r=g.classNames)==null?void 0:r[Ot]),"data-sonner-toast":"","data-rich-colors":(or=g.richColors)!=null?or:A,"data-styled":!(g.jsx||g.unstyled||b),"data-mounted":K,"data-promise":!!g.promise,"data-swiped":Ie,"data-removed":G,"data-visible":kr,"data-y-position":uo,"data-x-position":ho,"data-index":E,"data-front":hs,"data-swiping":V,"data-dismissible":ar,"data-type":Ot,"data-invert":Xi,"data-swipe-out":be,"data-swipe-direction":L,"data-expanded":!!(N||me&&K),"data-testid":g.testId,style:{"--index":E,"--toasts-before":E,"--z-index":S.length-E,"--offset":`${G?ge:gn.current}px`,"--initial-height":me?"auto":`${mn}px`,...T,...g.style},onDragEnd:()=>{ie(!1),Y(null),Rr.current=null},onPointerDown:Oe=>{Oe.button!==2&&(ms||!ar||(Yi.current=new Date,Ze(gn.current),Oe.target.setPointerCapture(Oe.pointerId),Oe.target.tagName!=="BUTTON"&&(ie(!0),Rr.current={x:Oe.clientX,y:Oe.clientY})))},onPointerUp:()=>{var Oe,ht,wt;if(be||!ar)return;Rr.current=null;const Ft=Number(((Oe=rn.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Tr=Number(((ht=rn.current)==null?void 0:ht.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),mt=new Date().getTime()-((wt=Yi.current)==null?void 0:wt.getTime()),Et=X==="x"?Ft:Tr,Ar=Math.abs(Et)/mt;if(Math.abs(Et)>=Ik||Ar>.11){Ze(gn.current),g.onDismiss==null||g.onDismiss.call(g,g),q(X==="x"?Ft>0?"right":"left":Tr>0?"down":"up"),vn(),Se(!0);return}else{var Lt,sn;(Lt=rn.current)==null||Lt.style.setProperty("--swipe-amount-x","0px"),(sn=rn.current)==null||sn.style.setProperty("--swipe-amount-y","0px")}De(!1),ie(!1),Y(null)},onPointerMove:Oe=>{var ht,wt,Ft;if(!Rr.current||!ar||((ht=window.getSelection())==null?void 0:ht.toString().length)>0)return;const mt=Oe.clientY-Rr.current.y,Et=Oe.clientX-Rr.current.x;var Ar;const Lt=(Ar=t.swipeDirections)!=null?Ar:Lk(re);!X&&(Math.abs(Et)>1||Math.abs(mt)>1)&&Y(Math.abs(Et)>Math.abs(mt)?"x":"y");let sn={x:0,y:0};const Ir=xn=>1/(1.5+Math.abs(xn)/20);if(X==="y"){if(Lt.includes("top")||Lt.includes("bottom"))if(Lt.includes("top")&&mt<0||Lt.includes("bottom")&&mt>0)sn.y=mt;else{const xn=mt*Ir(mt);sn.y=Math.abs(xn)<Math.abs(mt)?xn:mt}}else if(X==="x"&&(Lt.includes("left")||Lt.includes("right")))if(Lt.includes("left")&&Et<0||Lt.includes("right")&&Et>0)sn.x=Et;else{const xn=Et*Ir(Et);sn.x=Math.abs(xn)<Math.abs(Et)?xn:Et}(Math.abs(sn.x)>0||Math.abs(sn.y)>0)&&De(!0),(wt=rn.current)==null||wt.style.setProperty("--swipe-amount-x",`${sn.x}px`),(Ft=rn.current)==null||Ft.style.setProperty("--swipe-amount-y",`${sn.y}px`)}},Qi&&!g.jsx&&Ot!=="loading"?de.createElement("button",{"aria-label":M,"data-disabled":ms,"data-close-button":!0,onClick:ms||!ar?()=>{}:()=>{vn(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Yn(J?.closeButton,g==null||(a=g.classNames)==null?void 0:a.closeButton)},(ea=ae?.close)!=null?ea:wk):null,(Ot||g.icon||g.promise)&&g.icon!==null&&(ae?.[Ot]!==null||g.icon)?de.createElement("div",{"data-icon":"",className:Yn(J?.icon,g==null||(o=g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Zi():null,g.type!=="loading"?Pr:null):null,de.createElement("div",{"data-content":"",className:Yn(J?.content,g==null||(l=g.classNames)==null?void 0:l.content)},de.createElement("div",{"data-title":"",className:Yn(J?.title,g==null||(u=g.classNames)==null?void 0:u.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?de.createElement("div",{"data-description":"",className:Yn(Z,co,J?.description,g==null||(h=g.classNames)==null?void 0:h.description)},typeof g.description=="function"?g.description():g.description):null),de.isValidElement(g.cancel)?g.cancel:g.cancel&&Il(g.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||O,onClick:Oe=>{Il(g.cancel)&&ar&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Oe),vn())},className:Yn(J?.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,de.isValidElement(g.action)?g.action:g.action&&Il(g.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||F,onClick:Oe=>{Il(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Oe),!Oe.defaultPrevented&&vn())},className:Yn(J?.actionButton,g==null||(p=g.classNames)==null?void 0:p.actionButton)},g.action.label):null)};function Zg(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Mk(t,e){const r={};return[t,e].forEach((a,o)=>{const l=o===1,u=l?"--mobile-offset":"--offset",h=l?Pk:Rk;function f(p){["top","right","bottom","left"].forEach(x=>{r[`${u}-${x}`]=typeof p=="number"?`${p}px`:p})}typeof a=="number"||typeof a=="string"?f(a):typeof a=="object"?["top","right","bottom","left"].forEach(p=>{a[p]===void 0?r[`${u}-${p}`]=h:r[`${u}-${p}`]=typeof a[p]=="number"?`${a[p]}px`:a[p]}):f(h)}),r}const $k=de.forwardRef(function(e,r){const{id:a,invert:o,position:l="bottom-right",hotkey:u=["altKey","KeyT"],expand:h,closeButton:f,className:p,offset:x,mobileOffset:g,theme:b="light",richColors:w,duration:C,style:_,visibleToasts:j=Ck,toastOptions:E,dir:S=Zg(),gap:N=Ak,icons:R,containerAriaLabel:A="Notifications"}=e,[U,T]=de.useState([]),O=de.useMemo(()=>a?U.filter(K=>K.toasterId===a):U.filter(K=>!K.toasterId),[U,a]),F=de.useMemo(()=>Array.from(new Set([l].concat(O.filter(K=>K.position).map(K=>K.position)))),[O,l]),[$,Z]=de.useState([]),[H,re]=de.useState(!1),[ce,me]=de.useState(!1),[J,ae]=de.useState(b!=="system"?b:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=de.useRef(null),X=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),Y=de.useRef(null),L=de.useRef(!1),q=de.useCallback(K=>{T(oe=>{var G;return(G=oe.find(Q=>Q.id===K.id))!=null&&G.delete||en.dismiss(K.id),oe.filter(({id:Q})=>Q!==K.id)})},[]);return de.useEffect(()=>en.subscribe(K=>{if(K.dismiss){requestAnimationFrame(()=>{T(oe=>oe.map(G=>G.id===K.id?{...G,delete:!0}:G))});return}setTimeout(()=>{qv.flushSync(()=>{T(oe=>{const G=oe.findIndex(Q=>Q.id===K.id);return G!==-1?[...oe.slice(0,G),{...oe[G],...K},...oe.slice(G+1)]:[K,...oe]})})})}),[U]),de.useEffect(()=>{if(b!=="system"){ae(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ae("dark"):ae("light")),typeof window>"u")return;const K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:oe})=>{ae(oe?"dark":"light")})}catch{K.addListener(({matches:G})=>{try{ae(G?"dark":"light")}catch(Q){console.error(Q)}})}},[b]),de.useEffect(()=>{U.length<=1&&re(!1)},[U]),de.useEffect(()=>{const K=oe=>{var G;if(u.every(ie=>oe[ie]||oe.code===ie)){var V;re(!0),(V=M.current)==null||V.focus()}oe.code==="Escape"&&(document.activeElement===M.current||(G=M.current)!=null&&G.contains(document.activeElement))&&re(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[u]),de.useEffect(()=>{if(M.current)return()=>{Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null,L.current=!1)}},[M.current]),de.createElement("section",{ref:r,"aria-label":`${A} ${X}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((K,oe)=>{var G;const[Q,V]=K.split("-");return O.length?de.createElement("ol",{key:K,dir:S==="auto"?Zg():S,tabIndex:-1,ref:M,className:p,"data-sonner-toaster":!0,"data-sonner-theme":J,"data-y-position":Q,"data-x-position":V,style:{"--front-toast-height":`${((G=$[0])==null?void 0:G.height)||0}px`,"--width":`${Tk}px`,"--gap":`${N}px`,..._,...Mk(x,g)},onBlur:ie=>{L.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(L.current=!1,Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||L.current||(L.current=!0,Y.current=ie.relatedTarget)},onMouseEnter:()=>re(!0),onMouseMove:()=>re(!0),onMouseLeave:()=>{ce||re(!1)},onDragEnd:()=>re(!1),onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||me(!0)},onPointerUp:()=>me(!1)},O.filter(ie=>!ie.position&&oe===0||ie.position===K).map((ie,be)=>{var Se,Ie;return de.createElement(Dk,{key:ie.id,icons:R,index:be,toast:ie,defaultRichColors:w,duration:(Se=E?.duration)!=null?Se:C,className:E?.className,descriptionClassName:E?.descriptionClassName,invert:o,visibleToasts:j,closeButton:(Ie=E?.closeButton)!=null?Ie:f,interacting:ce,position:K,style:E?.style,unstyled:E?.unstyled,classNames:E?.classNames,cancelButtonStyle:E?.cancelButtonStyle,actionButtonStyle:E?.actionButtonStyle,closeButtonAriaLabel:E?.closeButtonAriaLabel,removeToast:q,toasts:O.filter(De=>De.position==ie.position),heights:$.filter(De=>De.position==ie.position),setHeights:Z,expandByDefault:h,gap:N,expanded:H,swipeDirections:e.swipeDirections})})):null}))});function Fk(){const[t,e]=v.useState(""),[r,a]=v.useState(""),{login:o}=yt(),l=dc(),u=async f=>{f.preventDefault(),await o(t,r)?(Le.success("Login successful!"),l("/dashboard")):Le.error("Invalid credentials. Please check your email and password.")},h=async(f,p="password123")=>{e(f),a(p),await o(f,p)?(Le.success("Login successful!"),l("/dashboard")):Le.error("Demo user not found. Please register first.")};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:i.jsxs(te,{className:"w-full max-w-md",children:[i.jsxs(he,{className:"space-y-1 text-center",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:i.jsx(jr,{className:"size-10 text-blue-600"})})}),i.jsx(fe,{children:"Welcome to HSU Portal"}),i.jsx(cy,{children:"Sign in to access your dashboard"})]}),i.jsxs(ne,{children:[i.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"email",children:"Email"}),i.jsx(qe,{id:"email",type:"email",placeholder:"your.email@university.edu",value:t,onChange:f=>e(f.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"password",children:"Password"}),i.jsx(qe,{id:"password",type:"password",placeholder:"Enter your password",value:r,onChange:f=>a(f.target.value),required:!0})]}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsx($s,{to:"/forgot-password",className:"text-sm text-blue-600 hover:underline",children:"Forgot password?"})}),i.jsx(Ae,{type:"submit",className:"w-full",children:"Sign In"})]}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Quick Login (Demo)"})})]}),i.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2",children:[i.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>h("amysmith@example.com"),children:"Student"}),i.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>h("hayesstacie@example.net"),children:"Teacher"}),i.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>h("jimmyjohnson@example.com"),children:"Parent"}),i.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>h("admin@example.com"),children:"Admin"})]})]})]})]})})}function ev(t,[e,r]){return Math.min(r,Math.max(e,t))}function Be(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return e?.(o)}}function zk(t,e){const r=v.createContext(e),a=l=>{const{children:u,...h}=l,f=v.useMemo(()=>h,Object.values(h));return i.jsx(r.Provider,{value:f,children:u})};a.displayName=t+"Provider";function o(l){const u=v.useContext(r);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[a,o]}function qi(t,e=[]){let r=[];function a(l,u){const h=v.createContext(u),f=r.length;r=[...r,u];const p=g=>{const{scope:b,children:w,...C}=g,_=b?.[t]?.[f]||h,j=v.useMemo(()=>C,Object.values(C));return i.jsx(_.Provider,{value:j,children:w})};p.displayName=l+"Provider";function x(g,b){const w=b?.[t]?.[f]||h,C=v.useContext(w);if(C)return C;if(u!==void 0)return u;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[p,x]}const o=()=>{const l=r.map(u=>v.createContext(u));return function(h){const f=h?.[t]||l;return v.useMemo(()=>({[`__scope${t}`]:{...h,[t]:f}}),[h,f])}};return o.scopeName=t,[a,Uk(o,...e)]}function Uk(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const a=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const u=a.reduce((h,{useScope:f,scopeName:p})=>{const g=f(l)[`__scope${p}`];return{...h,...g}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return r.scopeName=e.scopeName,r}function tv(t){const e=Bk(t),r=v.forwardRef((a,o)=>{const{children:l,...u}=a,h=v.Children.toArray(l),f=h.find(Wk);if(f){const p=f.props.children,x=h.map(g=>g===f?v.Children.count(p)>1?v.Children.only(null):v.isValidElement(p)?p.props.children:null:g);return i.jsx(e,{...u,ref:o,children:v.isValidElement(p)?v.cloneElement(p,void 0,x):null})}return i.jsx(e,{...u,ref:o,children:l})});return r.displayName=`${t}.Slot`,r}function Bk(t){const e=v.forwardRef((r,a)=>{const{children:o,...l}=r;if(v.isValidElement(o)){const u=qk(o),h=Hk(l,o.props);return o.type!==v.Fragment&&(h.ref=a?Vi(a,u):u),v.cloneElement(o,h)}return v.Children.count(o)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Vk=Symbol("radix.slottable");function Wk(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Vk}function Hk(t,e){const r={...e};for(const a in e){const o=t[a],l=e[a];/^on[A-Z]/.test(a)?o&&l?r[a]=(...h)=>{const f=l(...h);return o(...h),f}:o&&(r[a]=o):a==="style"?r[a]={...o,...l}:a==="className"&&(r[a]=[o,l].filter(Boolean).join(" "))}return{...t,...r}}function qk(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function my(t){const e=t+"CollectionProvider",[r,a]=qi(e),[o,l]=r(e,{collectionRef:{current:null},itemMap:new Map}),u=_=>{const{scope:j,children:E}=_,S=de.useRef(null),N=de.useRef(new Map).current;return i.jsx(o,{scope:j,itemMap:N,collectionRef:S,children:E})};u.displayName=e;const h=t+"CollectionSlot",f=tv(h),p=de.forwardRef((_,j)=>{const{scope:E,children:S}=_,N=l(h,E),R=dt(j,N.collectionRef);return i.jsx(f,{ref:R,children:S})});p.displayName=h;const x=t+"CollectionItemSlot",g="data-radix-collection-item",b=tv(x),w=de.forwardRef((_,j)=>{const{scope:E,children:S,...N}=_,R=de.useRef(null),A=dt(j,R),U=l(x,E);return de.useEffect(()=>(U.itemMap.set(R,{ref:R,...N}),()=>void U.itemMap.delete(R))),i.jsx(b,{[g]:"",ref:A,children:S})});w.displayName=x;function C(_){const j=l(t+"CollectionConsumer",_);return de.useCallback(()=>{const S=j.collectionRef.current;if(!S)return[];const N=Array.from(S.querySelectorAll(`[${g}]`));return Array.from(j.itemMap.values()).sort((U,T)=>N.indexOf(U.ref.current)-N.indexOf(T.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:u,Slot:p,ItemSlot:w},C,a]}var Gk=v.createContext(void 0);function Yh(t){const e=v.useContext(Gk);return t||e||"ltr"}function Kk(t){const e=Jk(t),r=v.forwardRef((a,o)=>{const{children:l,...u}=a,h=v.Children.toArray(l),f=h.find(Qk);if(f){const p=f.props.children,x=h.map(g=>g===f?v.Children.count(p)>1?v.Children.only(null):v.isValidElement(p)?p.props.children:null:g);return i.jsx(e,{...u,ref:o,children:v.isValidElement(p)?v.cloneElement(p,void 0,x):null})}return i.jsx(e,{...u,ref:o,children:l})});return r.displayName=`${t}.Slot`,r}function Jk(t){const e=v.forwardRef((r,a)=>{const{children:o,...l}=r;if(v.isValidElement(o)){const u=Zk(o),h=Xk(l,o.props);return o.type!==v.Fragment&&(h.ref=a?Vi(a,u):u),v.cloneElement(o,h)}return v.Children.count(o)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Yk=Symbol("radix.slottable");function Qk(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Yk}function Xk(t,e){const r={...e};for(const a in e){const o=t[a],l=e[a];/^on[A-Z]/.test(a)?o&&l?r[a]=(...h)=>{const f=l(...h);return o(...h),f}:o&&(r[a]=o):a==="style"?r[a]={...o,...l}:a==="className"&&(r[a]=[o,l].filter(Boolean).join(" "))}return{...t,...r}}function Zk(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var eC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ge=eC.reduce((t,e)=>{const r=Kk(`Primitive.${e}`),a=v.forwardRef((o,l)=>{const{asChild:u,...h}=o,f=u?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(f,{...h,ref:l})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{});function tC(t,e){t&&eo.flushSync(()=>t.dispatchEvent(e))}function Sr(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...r)=>e.current?.(...r),[])}function nC(t,e=globalThis?.document){const r=Sr(t);v.useEffect(()=>{const a=o=>{o.key==="Escape"&&r(o)};return e.addEventListener("keydown",a,{capture:!0}),()=>e.removeEventListener("keydown",a,{capture:!0})},[r,e])}var rC="DismissableLayer",uh="dismissableLayer.update",sC="dismissableLayer.pointerDownOutside",iC="dismissableLayer.focusOutside",nv,gy=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qh=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:u,onDismiss:h,...f}=t,p=v.useContext(gy),[x,g]=v.useState(null),b=x?.ownerDocument??globalThis?.document,[,w]=v.useState({}),C=dt(e,T=>g(T)),_=Array.from(p.layers),[j]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),E=_.indexOf(j),S=x?_.indexOf(x):-1,N=p.layersWithOutsidePointerEventsDisabled.size>0,R=S>=E,A=lC(T=>{const O=T.target,F=[...p.branches].some($=>$.contains(O));!R||F||(o?.(T),u?.(T),T.defaultPrevented||h?.())},b),U=cC(T=>{const O=T.target;[...p.branches].some($=>$.contains(O))||(l?.(T),u?.(T),T.defaultPrevented||h?.())},b);return nC(T=>{S===p.layers.size-1&&(a?.(T),!T.defaultPrevented&&h&&(T.preventDefault(),h()))},b),v.useEffect(()=>{if(x)return r&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(nv=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(x)),p.layers.add(x),rv(),()=>{r&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=nv)}},[x,b,r,p]),v.useEffect(()=>()=>{x&&(p.layers.delete(x),p.layersWithOutsidePointerEventsDisabled.delete(x),rv())},[x,p]),v.useEffect(()=>{const T=()=>w({});return document.addEventListener(uh,T),()=>document.removeEventListener(uh,T)},[]),i.jsx(Ge.div,{...f,ref:C,style:{pointerEvents:N?R?"auto":"none":void 0,...t.style},onFocusCapture:Be(t.onFocusCapture,U.onFocusCapture),onBlurCapture:Be(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:Be(t.onPointerDownCapture,A.onPointerDownCapture)})});Qh.displayName=rC;var aC="DismissableLayerBranch",oC=v.forwardRef((t,e)=>{const r=v.useContext(gy),a=v.useRef(null),o=dt(e,a);return v.useEffect(()=>{const l=a.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),i.jsx(Ge.div,{...t,ref:o})});oC.displayName=aC;function lC(t,e=globalThis?.document){const r=Sr(t),a=v.useRef(!1),o=v.useRef(()=>{});return v.useEffect(()=>{const l=h=>{if(h.target&&!a.current){let f=function(){vy(sC,r,p,{discrete:!0})};const p={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);a.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",o.current)}},[e,r]),{onPointerDownCapture:()=>a.current=!0}}function cC(t,e=globalThis?.document){const r=Sr(t),a=v.useRef(!1);return v.useEffect(()=>{const o=l=>{l.target&&!a.current&&vy(iC,r,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function rv(){const t=new CustomEvent(uh);document.dispatchEvent(t)}function vy(t,e,r,{discrete:a}){const o=r.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),a?tC(o,l):o.dispatchEvent(l)}var Td=0;function xy(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??sv()),document.body.insertAdjacentElement("beforeend",t[1]??sv()),Td++,()=>{Td===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Td--}},[])}function sv(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ad="focusScope.autoFocusOnMount",Id="focusScope.autoFocusOnUnmount",iv={bubbles:!1,cancelable:!0},uC="FocusScope",Xh=v.forwardRef((t,e)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...u}=t,[h,f]=v.useState(null),p=Sr(o),x=Sr(l),g=v.useRef(null),b=dt(e,_=>f(_)),w=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(a){let _=function(N){if(w.paused||!h)return;const R=N.target;h.contains(R)?g.current=R:ts(g.current,{select:!0})},j=function(N){if(w.paused||!h)return;const R=N.relatedTarget;R!==null&&(h.contains(R)||ts(g.current,{select:!0}))},E=function(N){if(document.activeElement===document.body)for(const A of N)A.removedNodes.length>0&&ts(h)};document.addEventListener("focusin",_),document.addEventListener("focusout",j);const S=new MutationObserver(E);return h&&S.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",j),S.disconnect()}}},[a,h,w.paused]),v.useEffect(()=>{if(h){ov.add(w);const _=document.activeElement;if(!h.contains(_)){const E=new CustomEvent(Ad,iv);h.addEventListener(Ad,p),h.dispatchEvent(E),E.defaultPrevented||(dC(gC(yy(h)),{select:!0}),document.activeElement===_&&ts(h))}return()=>{h.removeEventListener(Ad,p),setTimeout(()=>{const E=new CustomEvent(Id,iv);h.addEventListener(Id,x),h.dispatchEvent(E),E.defaultPrevented||ts(_??document.body,{select:!0}),h.removeEventListener(Id,x),ov.remove(w)},0)}}},[h,p,x,w]);const C=v.useCallback(_=>{if(!r&&!a||w.paused)return;const j=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,E=document.activeElement;if(j&&E){const S=_.currentTarget,[N,R]=hC(S);N&&R?!_.shiftKey&&E===R?(_.preventDefault(),r&&ts(N,{select:!0})):_.shiftKey&&E===N&&(_.preventDefault(),r&&ts(R,{select:!0})):E===S&&_.preventDefault()}},[r,a,w.paused]);return i.jsx(Ge.div,{tabIndex:-1,...u,ref:b,onKeyDown:C})});Xh.displayName=uC;function dC(t,{select:e=!1}={}){const r=document.activeElement;for(const a of t)if(ts(a,{select:e}),document.activeElement!==r)return}function hC(t){const e=yy(t),r=av(e,t),a=av(e.reverse(),t);return[r,a]}function yy(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const o=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||o?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function av(t,e){for(const r of t)if(!fC(r,{upTo:e}))return r}function fC(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function pC(t){return t instanceof HTMLInputElement&&"select"in t}function ts(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&pC(t)&&e&&t.select()}}var ov=mC();function mC(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=lv(t,e),t.unshift(e)},remove(e){t=lv(t,e),t[0]?.resume()}}}function lv(t,e){const r=[...t],a=r.indexOf(e);return a!==-1&&r.splice(a,1),r}function gC(t){return t.filter(e=>e.tagName!=="A")}var Nt=globalThis?.document?v.useLayoutEffect:()=>{},vC=Sh[" useId ".trim().toString()]||(()=>{}),xC=0;function rs(t){const[e,r]=v.useState(vC());return Nt(()=>{r(a=>a??String(xC++))},[t]),t||(e?`radix-${e}`:"")}const yC=["top","right","bottom","left"],is=Math.min,un=Math.max,Zl=Math.round,Ol=Math.floor,er=t=>({x:t,y:t}),wC={left:"right",right:"left",bottom:"top",top:"bottom"},bC={start:"end",end:"start"};function dh(t,e,r){return un(t,is(e,r))}function _r(t,e){return typeof t=="function"?t(e):t}function Nr(t){return t.split("-")[0]}function Gi(t){return t.split("-")[1]}function Zh(t){return t==="x"?"y":"x"}function ef(t){return t==="y"?"height":"width"}const jC=new Set(["top","bottom"]);function Zn(t){return jC.has(Nr(t))?"y":"x"}function tf(t){return Zh(Zn(t))}function SC(t,e,r){r===void 0&&(r=!1);const a=Gi(t),o=tf(t),l=ef(o);let u=o==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=ec(u)),[u,ec(u)]}function _C(t){const e=ec(t);return[hh(t),e,hh(e)]}function hh(t){return t.replace(/start|end/g,e=>bC[e])}const cv=["left","right"],uv=["right","left"],NC=["top","bottom"],EC=["bottom","top"];function kC(t,e,r){switch(t){case"top":case"bottom":return r?e?uv:cv:e?cv:uv;case"left":case"right":return e?NC:EC;default:return[]}}function CC(t,e,r,a){const o=Gi(t);let l=kC(Nr(t),r==="start",a);return o&&(l=l.map(u=>u+"-"+o),e&&(l=l.concat(l.map(hh)))),l}function ec(t){return t.replace(/left|right|bottom|top/g,e=>wC[e])}function RC(t){return{top:0,right:0,bottom:0,left:0,...t}}function wy(t){return typeof t!="number"?RC(t):{top:t,right:t,bottom:t,left:t}}function tc(t){const{x:e,y:r,width:a,height:o}=t;return{width:a,height:o,top:r,left:e,right:e+a,bottom:r+o,x:e,y:r}}function dv(t,e,r){let{reference:a,floating:o}=t;const l=Zn(e),u=tf(e),h=ef(u),f=Nr(e),p=l==="y",x=a.x+a.width/2-o.width/2,g=a.y+a.height/2-o.height/2,b=a[h]/2-o[h]/2;let w;switch(f){case"top":w={x,y:a.y-o.height};break;case"bottom":w={x,y:a.y+a.height};break;case"right":w={x:a.x+a.width,y:g};break;case"left":w={x:a.x-o.width,y:g};break;default:w={x:a.x,y:a.y}}switch(Gi(e)){case"start":w[u]-=b*(r&&p?-1:1);break;case"end":w[u]+=b*(r&&p?-1:1);break}return w}const PC=async(t,e,r)=>{const{placement:a="bottom",strategy:o="absolute",middleware:l=[],platform:u}=r,h=l.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:t,floating:e,strategy:o}),{x,y:g}=dv(p,a,f),b=a,w={},C=0;for(let _=0;_<h.length;_++){const{name:j,fn:E}=h[_],{x:S,y:N,data:R,reset:A}=await E({x,y:g,initialPlacement:a,placement:b,strategy:o,middlewareData:w,rects:p,platform:u,elements:{reference:t,floating:e}});x=S??x,g=N??g,w={...w,[j]:{...w[j],...R}},A&&C<=50&&(C++,typeof A=="object"&&(A.placement&&(b=A.placement),A.rects&&(p=A.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:o}):A.rects),{x,y:g}=dv(p,b,f)),_=-1)}return{x,y:g,placement:b,strategy:o,middlewareData:w}};async function Ka(t,e){var r;e===void 0&&(e={});const{x:a,y:o,platform:l,rects:u,elements:h,strategy:f}=t,{boundary:p="clippingAncestors",rootBoundary:x="viewport",elementContext:g="floating",altBoundary:b=!1,padding:w=0}=_r(e,t),C=wy(w),j=h[b?g==="floating"?"reference":"floating":g],E=tc(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(j)))==null||r?j:j.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(h.floating)),boundary:p,rootBoundary:x,strategy:f})),S=g==="floating"?{x:a,y:o,width:u.floating.width,height:u.floating.height}:u.reference,N=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h.floating)),R=await(l.isElement==null?void 0:l.isElement(N))?await(l.getScale==null?void 0:l.getScale(N))||{x:1,y:1}:{x:1,y:1},A=tc(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:S,offsetParent:N,strategy:f}):S);return{top:(E.top-A.top+C.top)/R.y,bottom:(A.bottom-E.bottom+C.bottom)/R.y,left:(E.left-A.left+C.left)/R.x,right:(A.right-E.right+C.right)/R.x}}const TC=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:a,placement:o,rects:l,platform:u,elements:h,middlewareData:f}=e,{element:p,padding:x=0}=_r(t,e)||{};if(p==null)return{};const g=wy(x),b={x:r,y:a},w=tf(o),C=ef(w),_=await u.getDimensions(p),j=w==="y",E=j?"top":"left",S=j?"bottom":"right",N=j?"clientHeight":"clientWidth",R=l.reference[C]+l.reference[w]-b[w]-l.floating[C],A=b[w]-l.reference[w],U=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let T=U?U[N]:0;(!T||!await(u.isElement==null?void 0:u.isElement(U)))&&(T=h.floating[N]||l.floating[C]);const O=R/2-A/2,F=T/2-_[C]/2-1,$=is(g[E],F),Z=is(g[S],F),H=$,re=T-_[C]-Z,ce=T/2-_[C]/2+O,me=dh(H,ce,re),J=!f.arrow&&Gi(o)!=null&&ce!==me&&l.reference[C]/2-(ce<H?$:Z)-_[C]/2<0,ae=J?ce<H?ce-H:ce-re:0;return{[w]:b[w]+ae,data:{[w]:me,centerOffset:ce-me-ae,...J&&{alignmentOffset:ae}},reset:J}}}),AC=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,a;const{placement:o,middlewareData:l,rects:u,initialPlacement:h,platform:f,elements:p}=e,{mainAxis:x=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:_=!0,...j}=_r(t,e);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const E=Nr(o),S=Zn(h),N=Nr(h)===h,R=await(f.isRTL==null?void 0:f.isRTL(p.floating)),A=b||(N||!_?[ec(h)]:_C(h)),U=C!=="none";!b&&U&&A.push(...CC(h,_,C,R));const T=[h,...A],O=await Ka(e,j),F=[];let $=((a=l.flip)==null?void 0:a.overflows)||[];if(x&&F.push(O[E]),g){const ce=SC(o,u,R);F.push(O[ce[0]],O[ce[1]])}if($=[...$,{placement:o,overflows:F}],!F.every(ce=>ce<=0)){var Z,H;const ce=(((Z=l.flip)==null?void 0:Z.index)||0)+1,me=T[ce];if(me&&(!(g==="alignment"?S!==Zn(me):!1)||$.every(M=>Zn(M.placement)===S?M.overflows[0]>0:!0)))return{data:{index:ce,overflows:$},reset:{placement:me}};let J=(H=$.filter(ae=>ae.overflows[0]<=0).sort((ae,M)=>ae.overflows[1]-M.overflows[1])[0])==null?void 0:H.placement;if(!J)switch(w){case"bestFit":{var re;const ae=(re=$.filter(M=>{if(U){const X=Zn(M.placement);return X===S||X==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(X=>X>0).reduce((X,Y)=>X+Y,0)]).sort((M,X)=>M[1]-X[1])[0])==null?void 0:re[0];ae&&(J=ae);break}case"initialPlacement":J=h;break}if(o!==J)return{reset:{placement:J}}}return{}}}};function hv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function fv(t){return yC.some(e=>t[e]>=0)}const IC=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:a="referenceHidden",...o}=_r(t,e);switch(a){case"referenceHidden":{const l=await Ka(e,{...o,elementContext:"reference"}),u=hv(l,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:fv(u)}}}case"escaped":{const l=await Ka(e,{...o,altBoundary:!0}),u=hv(l,r.floating);return{data:{escapedOffsets:u,escaped:fv(u)}}}default:return{}}}}},by=new Set(["left","top"]);async function OC(t,e){const{placement:r,platform:a,elements:o}=t,l=await(a.isRTL==null?void 0:a.isRTL(o.floating)),u=Nr(r),h=Gi(r),f=Zn(r)==="y",p=by.has(u)?-1:1,x=l&&f?-1:1,g=_r(e,t);let{mainAxis:b,crossAxis:w,alignmentAxis:C}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return h&&typeof C=="number"&&(w=h==="end"?C*-1:C),f?{x:w*x,y:b*p}:{x:b*p,y:w*x}}const LC=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,a;const{x:o,y:l,placement:u,middlewareData:h}=e,f=await OC(e,t);return u===((r=h.offset)==null?void 0:r.placement)&&(a=h.arrow)!=null&&a.alignmentOffset?{}:{x:o+f.x,y:l+f.y,data:{...f,placement:u}}}}},DC=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:a,placement:o}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:h={fn:j=>{let{x:E,y:S}=j;return{x:E,y:S}}},...f}=_r(t,e),p={x:r,y:a},x=await Ka(e,f),g=Zn(Nr(o)),b=Zh(g);let w=p[b],C=p[g];if(l){const j=b==="y"?"top":"left",E=b==="y"?"bottom":"right",S=w+x[j],N=w-x[E];w=dh(S,w,N)}if(u){const j=g==="y"?"top":"left",E=g==="y"?"bottom":"right",S=C+x[j],N=C-x[E];C=dh(S,C,N)}const _=h.fn({...e,[b]:w,[g]:C});return{..._,data:{x:_.x-r,y:_.y-a,enabled:{[b]:l,[g]:u}}}}}},MC=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:a,placement:o,rects:l,middlewareData:u}=e,{offset:h=0,mainAxis:f=!0,crossAxis:p=!0}=_r(t,e),x={x:r,y:a},g=Zn(o),b=Zh(g);let w=x[b],C=x[g];const _=_r(h,e),j=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(f){const N=b==="y"?"height":"width",R=l.reference[b]-l.floating[N]+j.mainAxis,A=l.reference[b]+l.reference[N]-j.mainAxis;w<R?w=R:w>A&&(w=A)}if(p){var E,S;const N=b==="y"?"width":"height",R=by.has(Nr(o)),A=l.reference[g]-l.floating[N]+(R&&((E=u.offset)==null?void 0:E[g])||0)+(R?0:j.crossAxis),U=l.reference[g]+l.reference[N]+(R?0:((S=u.offset)==null?void 0:S[g])||0)-(R?j.crossAxis:0);C<A?C=A:C>U&&(C=U)}return{[b]:w,[g]:C}}}},$C=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,a;const{placement:o,rects:l,platform:u,elements:h}=e,{apply:f=()=>{},...p}=_r(t,e),x=await Ka(e,p),g=Nr(o),b=Gi(o),w=Zn(o)==="y",{width:C,height:_}=l.floating;let j,E;g==="top"||g==="bottom"?(j=g,E=b===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(E=g,j=b==="end"?"top":"bottom");const S=_-x.top-x.bottom,N=C-x.left-x.right,R=is(_-x[j],S),A=is(C-x[E],N),U=!e.middlewareData.shift;let T=R,O=A;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(O=N),(a=e.middlewareData.shift)!=null&&a.enabled.y&&(T=S),U&&!b){const $=un(x.left,0),Z=un(x.right,0),H=un(x.top,0),re=un(x.bottom,0);w?O=C-2*($!==0||Z!==0?$+Z:un(x.left,x.right)):T=_-2*(H!==0||re!==0?H+re:un(x.top,x.bottom))}await f({...e,availableWidth:O,availableHeight:T});const F=await u.getDimensions(h.floating);return C!==F.width||_!==F.height?{reset:{rects:!0}}:{}}}};function xc(){return typeof window<"u"}function Ki(t){return jy(t)?(t.nodeName||"").toLowerCase():"#document"}function pn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ir(t){var e;return(e=(jy(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jy(t){return xc()?t instanceof Node||t instanceof pn(t).Node:!1}function Un(t){return xc()?t instanceof Element||t instanceof pn(t).Element:!1}function nr(t){return xc()?t instanceof HTMLElement||t instanceof pn(t).HTMLElement:!1}function pv(t){return!xc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof pn(t).ShadowRoot}const FC=new Set(["inline","contents"]);function io(t){const{overflow:e,overflowX:r,overflowY:a,display:o}=Bn(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+r)&&!FC.has(o)}const zC=new Set(["table","td","th"]);function UC(t){return zC.has(Ki(t))}const BC=[":popover-open",":modal"];function yc(t){return BC.some(e=>{try{return t.matches(e)}catch{return!1}})}const VC=["transform","translate","scale","rotate","perspective"],WC=["transform","translate","scale","rotate","perspective","filter"],HC=["paint","layout","strict","content"];function nf(t){const e=rf(),r=Un(t)?Bn(t):t;return VC.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||WC.some(a=>(r.willChange||"").includes(a))||HC.some(a=>(r.contain||"").includes(a))}function qC(t){let e=as(t);for(;nr(e)&&!Ii(e);){if(nf(e))return e;if(yc(e))return null;e=as(e)}return null}function rf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GC=new Set(["html","body","#document"]);function Ii(t){return GC.has(Ki(t))}function Bn(t){return pn(t).getComputedStyle(t)}function wc(t){return Un(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function as(t){if(Ki(t)==="html")return t;const e=t.assignedSlot||t.parentNode||pv(t)&&t.host||ir(t);return pv(e)?e.host:e}function Sy(t){const e=as(t);return Ii(e)?t.ownerDocument?t.ownerDocument.body:t.body:nr(e)&&io(e)?e:Sy(e)}function Ja(t,e,r){var a;e===void 0&&(e=[]),r===void 0&&(r=!0);const o=Sy(t),l=o===((a=t.ownerDocument)==null?void 0:a.body),u=pn(o);if(l){const h=fh(u);return e.concat(u,u.visualViewport||[],io(o)?o:[],h&&r?Ja(h):[])}return e.concat(o,Ja(o,[],r))}function fh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _y(t){const e=Bn(t);let r=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const o=nr(t),l=o?t.offsetWidth:r,u=o?t.offsetHeight:a,h=Zl(r)!==l||Zl(a)!==u;return h&&(r=l,a=u),{width:r,height:a,$:h}}function sf(t){return Un(t)?t:t.contextElement}function Ri(t){const e=sf(t);if(!nr(e))return er(1);const r=e.getBoundingClientRect(),{width:a,height:o,$:l}=_y(e);let u=(l?Zl(r.width):r.width)/a,h=(l?Zl(r.height):r.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const KC=er(0);function Ny(t){const e=pn(t);return!rf()||!e.visualViewport?KC:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function JC(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==pn(t)?!1:e}function zs(t,e,r,a){e===void 0&&(e=!1),r===void 0&&(r=!1);const o=t.getBoundingClientRect(),l=sf(t);let u=er(1);e&&(a?Un(a)&&(u=Ri(a)):u=Ri(t));const h=JC(l,r,a)?Ny(l):er(0);let f=(o.left+h.x)/u.x,p=(o.top+h.y)/u.y,x=o.width/u.x,g=o.height/u.y;if(l){const b=pn(l),w=a&&Un(a)?pn(a):a;let C=b,_=fh(C);for(;_&&a&&w!==C;){const j=Ri(_),E=_.getBoundingClientRect(),S=Bn(_),N=E.left+(_.clientLeft+parseFloat(S.paddingLeft))*j.x,R=E.top+(_.clientTop+parseFloat(S.paddingTop))*j.y;f*=j.x,p*=j.y,x*=j.x,g*=j.y,f+=N,p+=R,C=pn(_),_=fh(C)}}return tc({width:x,height:g,x:f,y:p})}function bc(t,e){const r=wc(t).scrollLeft;return e?e.left+r:zs(ir(t)).left+r}function Ey(t,e){const r=t.getBoundingClientRect(),a=r.left+e.scrollLeft-bc(t,r),o=r.top+e.scrollTop;return{x:a,y:o}}function YC(t){let{elements:e,rect:r,offsetParent:a,strategy:o}=t;const l=o==="fixed",u=ir(a),h=e?yc(e.floating):!1;if(a===u||h&&l)return r;let f={scrollLeft:0,scrollTop:0},p=er(1);const x=er(0),g=nr(a);if((g||!g&&!l)&&((Ki(a)!=="body"||io(u))&&(f=wc(a)),nr(a))){const w=zs(a);p=Ri(a),x.x=w.x+a.clientLeft,x.y=w.y+a.clientTop}const b=u&&!g&&!l?Ey(u,f):er(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-f.scrollLeft*p.x+x.x+b.x,y:r.y*p.y-f.scrollTop*p.y+x.y+b.y}}function QC(t){return Array.from(t.getClientRects())}function XC(t){const e=ir(t),r=wc(t),a=t.ownerDocument.body,o=un(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),l=un(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let u=-r.scrollLeft+bc(t);const h=-r.scrollTop;return Bn(a).direction==="rtl"&&(u+=un(e.clientWidth,a.clientWidth)-o),{width:o,height:l,x:u,y:h}}const mv=25;function ZC(t,e){const r=pn(t),a=ir(t),o=r.visualViewport;let l=a.clientWidth,u=a.clientHeight,h=0,f=0;if(o){l=o.width,u=o.height;const x=rf();(!x||x&&e==="fixed")&&(h=o.offsetLeft,f=o.offsetTop)}const p=bc(a);if(p<=0){const x=a.ownerDocument,g=x.body,b=getComputedStyle(g),w=x.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,C=Math.abs(a.clientWidth-g.clientWidth-w);C<=mv&&(l-=C)}else p<=mv&&(l+=p);return{width:l,height:u,x:h,y:f}}const eR=new Set(["absolute","fixed"]);function tR(t,e){const r=zs(t,!0,e==="fixed"),a=r.top+t.clientTop,o=r.left+t.clientLeft,l=nr(t)?Ri(t):er(1),u=t.clientWidth*l.x,h=t.clientHeight*l.y,f=o*l.x,p=a*l.y;return{width:u,height:h,x:f,y:p}}function gv(t,e,r){let a;if(e==="viewport")a=ZC(t,r);else if(e==="document")a=XC(ir(t));else if(Un(e))a=tR(e,r);else{const o=Ny(t);a={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return tc(a)}function ky(t,e){const r=as(t);return r===e||!Un(r)||Ii(r)?!1:Bn(r).position==="fixed"||ky(r,e)}function nR(t,e){const r=e.get(t);if(r)return r;let a=Ja(t,[],!1).filter(h=>Un(h)&&Ki(h)!=="body"),o=null;const l=Bn(t).position==="fixed";let u=l?as(t):t;for(;Un(u)&&!Ii(u);){const h=Bn(u),f=nf(u);!f&&h.position==="fixed"&&(o=null),(l?!f&&!o:!f&&h.position==="static"&&!!o&&eR.has(o.position)||io(u)&&!f&&ky(t,u))?a=a.filter(x=>x!==u):o=h,u=as(u)}return e.set(t,a),a}function rR(t){let{element:e,boundary:r,rootBoundary:a,strategy:o}=t;const u=[...r==="clippingAncestors"?yc(e)?[]:nR(e,this._c):[].concat(r),a],h=u[0],f=u.reduce((p,x)=>{const g=gv(e,x,o);return p.top=un(g.top,p.top),p.right=is(g.right,p.right),p.bottom=is(g.bottom,p.bottom),p.left=un(g.left,p.left),p},gv(e,h,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function sR(t){const{width:e,height:r}=_y(t);return{width:e,height:r}}function iR(t,e,r){const a=nr(e),o=ir(e),l=r==="fixed",u=zs(t,!0,l,e);let h={scrollLeft:0,scrollTop:0};const f=er(0);function p(){f.x=bc(o)}if(a||!a&&!l)if((Ki(e)!=="body"||io(o))&&(h=wc(e)),a){const w=zs(e,!0,l,e);f.x=w.x+e.clientLeft,f.y=w.y+e.clientTop}else o&&p();l&&!a&&o&&p();const x=o&&!a&&!l?Ey(o,h):er(0),g=u.left+h.scrollLeft-f.x-x.x,b=u.top+h.scrollTop-f.y-x.y;return{x:g,y:b,width:u.width,height:u.height}}function Od(t){return Bn(t).position==="static"}function vv(t,e){if(!nr(t)||Bn(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ir(t)===r&&(r=r.ownerDocument.body),r}function Cy(t,e){const r=pn(t);if(yc(t))return r;if(!nr(t)){let o=as(t);for(;o&&!Ii(o);){if(Un(o)&&!Od(o))return o;o=as(o)}return r}let a=vv(t,e);for(;a&&UC(a)&&Od(a);)a=vv(a,e);return a&&Ii(a)&&Od(a)&&!nf(a)?r:a||qC(t)||r}const aR=async function(t){const e=this.getOffsetParent||Cy,r=this.getDimensions,a=await r(t.floating);return{reference:iR(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function oR(t){return Bn(t).direction==="rtl"}const lR={convertOffsetParentRelativeRectToViewportRelativeRect:YC,getDocumentElement:ir,getClippingRect:rR,getOffsetParent:Cy,getElementRects:aR,getClientRects:QC,getDimensions:sR,getScale:Ri,isElement:Un,isRTL:oR};function Ry(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function cR(t,e){let r=null,a;const o=ir(t);function l(){var h;clearTimeout(a),(h=r)==null||h.disconnect(),r=null}function u(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),l();const p=t.getBoundingClientRect(),{left:x,top:g,width:b,height:w}=p;if(h||e(),!b||!w)return;const C=Ol(g),_=Ol(o.clientWidth-(x+b)),j=Ol(o.clientHeight-(g+w)),E=Ol(x),N={rootMargin:-C+"px "+-_+"px "+-j+"px "+-E+"px",threshold:un(0,is(1,f))||1};let R=!0;function A(U){const T=U[0].intersectionRatio;if(T!==f){if(!R)return u();T?u(!1,T):a=setTimeout(()=>{u(!1,1e-7)},1e3)}T===1&&!Ry(p,t.getBoundingClientRect())&&u(),R=!1}try{r=new IntersectionObserver(A,{...N,root:o.ownerDocument})}catch{r=new IntersectionObserver(A,N)}r.observe(t)}return u(!0),l}function uR(t,e,r,a){a===void 0&&(a={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=a,p=sf(t),x=o||l?[...p?Ja(p):[],...Ja(e)]:[];x.forEach(E=>{o&&E.addEventListener("scroll",r,{passive:!0}),l&&E.addEventListener("resize",r)});const g=p&&h?cR(p,r):null;let b=-1,w=null;u&&(w=new ResizeObserver(E=>{let[S]=E;S&&S.target===p&&w&&(w.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var N;(N=w)==null||N.observe(e)})),r()}),p&&!f&&w.observe(p),w.observe(e));let C,_=f?zs(t):null;f&&j();function j(){const E=zs(t);_&&!Ry(_,E)&&r(),_=E,C=requestAnimationFrame(j)}return r(),()=>{var E;x.forEach(S=>{o&&S.removeEventListener("scroll",r),l&&S.removeEventListener("resize",r)}),g?.(),(E=w)==null||E.disconnect(),w=null,f&&cancelAnimationFrame(C)}}const dR=LC,hR=DC,fR=AC,pR=$C,mR=IC,xv=TC,gR=MC,vR=(t,e,r)=>{const a=new Map,o={platform:lR,...r},l={...o.platform,_c:a};return PC(t,e,{...o,platform:l})};var xR=typeof document<"u",yR=function(){},Wl=xR?v.useLayoutEffect:yR;function nc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,a,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(a=r;a--!==0;)if(!nc(t[a],e[a]))return!1;return!0}if(o=Object.keys(t),r=o.length,r!==Object.keys(e).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(e,o[a]))return!1;for(a=r;a--!==0;){const l=o[a];if(!(l==="_owner"&&t.$$typeof)&&!nc(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function Py(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function yv(t,e){const r=Py(t);return Math.round(e*r)/r}function Ld(t){const e=v.useRef(t);return Wl(()=>{e.current=t}),e}function wR(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:a=[],platform:o,elements:{reference:l,floating:u}={},transform:h=!0,whileElementsMounted:f,open:p}=t,[x,g]=v.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[b,w]=v.useState(a);nc(b,a)||w(a);const[C,_]=v.useState(null),[j,E]=v.useState(null),S=v.useCallback(M=>{M!==U.current&&(U.current=M,_(M))},[]),N=v.useCallback(M=>{M!==T.current&&(T.current=M,E(M))},[]),R=l||C,A=u||j,U=v.useRef(null),T=v.useRef(null),O=v.useRef(x),F=f!=null,$=Ld(f),Z=Ld(o),H=Ld(p),re=v.useCallback(()=>{if(!U.current||!T.current)return;const M={placement:e,strategy:r,middleware:b};Z.current&&(M.platform=Z.current),vR(U.current,T.current,M).then(X=>{const Y={...X,isPositioned:H.current!==!1};ce.current&&!nc(O.current,Y)&&(O.current=Y,eo.flushSync(()=>{g(Y)}))})},[b,e,r,Z,H]);Wl(()=>{p===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,g(M=>({...M,isPositioned:!1})))},[p]);const ce=v.useRef(!1);Wl(()=>(ce.current=!0,()=>{ce.current=!1}),[]),Wl(()=>{if(R&&(U.current=R),A&&(T.current=A),R&&A){if($.current)return $.current(R,A,re);re()}},[R,A,re,$,F]);const me=v.useMemo(()=>({reference:U,floating:T,setReference:S,setFloating:N}),[S,N]),J=v.useMemo(()=>({reference:R,floating:A}),[R,A]),ae=v.useMemo(()=>{const M={position:r,left:0,top:0};if(!J.floating)return M;const X=yv(J.floating,x.x),Y=yv(J.floating,x.y);return h?{...M,transform:"translate("+X+"px, "+Y+"px)",...Py(J.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:X,top:Y}},[r,h,J.floating,x.x,x.y]);return v.useMemo(()=>({...x,update:re,refs:me,elements:J,floatingStyles:ae}),[x,re,me,J,ae])}const bR=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:a,padding:o}=typeof t=="function"?t(r):t;return a&&e(a)?a.current!=null?xv({element:a.current,padding:o}).fn(r):{}:a?xv({element:a,padding:o}).fn(r):{}}}},jR=(t,e)=>({...dR(t),options:[t,e]}),SR=(t,e)=>({...hR(t),options:[t,e]}),_R=(t,e)=>({...gR(t),options:[t,e]}),NR=(t,e)=>({...fR(t),options:[t,e]}),ER=(t,e)=>({...pR(t),options:[t,e]}),kR=(t,e)=>({...mR(t),options:[t,e]}),CR=(t,e)=>({...bR(t),options:[t,e]});var RR="Arrow",Ty=v.forwardRef((t,e)=>{const{children:r,width:a=10,height:o=5,...l}=t;return i.jsx(Ge.svg,{...l,ref:e,width:a,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ty.displayName=RR;var PR=Ty;function TR(t){const[e,r]=v.useState(void 0);return Nt(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let u,h;if("borderBoxSize"in l){const f=l.borderBoxSize,p=Array.isArray(f)?f[0]:f;u=p.inlineSize,h=p.blockSize}else u=t.offsetWidth,h=t.offsetHeight;r({width:u,height:h})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else r(void 0)},[t]),e}var af="Popper",[Ay,Iy]=qi(af),[AR,Oy]=Ay(af),Ly=t=>{const{__scopePopper:e,children:r}=t,[a,o]=v.useState(null);return i.jsx(AR,{scope:e,anchor:a,onAnchorChange:o,children:r})};Ly.displayName=af;var Dy="PopperAnchor",My=v.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:a,...o}=t,l=Oy(Dy,r),u=v.useRef(null),h=dt(e,u),f=v.useRef(null);return v.useEffect(()=>{const p=f.current;f.current=a?.current||u.current,p!==f.current&&l.onAnchorChange(f.current)}),a?null:i.jsx(Ge.div,{...o,ref:h})});My.displayName=Dy;var of="PopperContent",[IR,OR]=Ay(of),$y=v.forwardRef((t,e)=>{const{__scopePopper:r,side:a="bottom",sideOffset:o=0,align:l="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:x=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:w="optimized",onPlaced:C,..._}=t,j=Oy(of,r),[E,S]=v.useState(null),N=dt(e,V=>S(V)),[R,A]=v.useState(null),U=TR(R),T=U?.width??0,O=U?.height??0,F=a+(l!=="center"?"-"+l:""),$=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},Z=Array.isArray(p)?p:[p],H=Z.length>0,re={padding:$,boundary:Z.filter(DR),altBoundary:H},{refs:ce,floatingStyles:me,placement:J,isPositioned:ae,middlewareData:M}=wR({strategy:"fixed",placement:F,whileElementsMounted:(...V)=>uR(...V,{animationFrame:w==="always"}),elements:{reference:j.anchor},middleware:[jR({mainAxis:o+O,alignmentAxis:u}),f&&SR({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?_R():void 0,...re}),f&&NR({...re}),ER({...re,apply:({elements:V,rects:ie,availableWidth:be,availableHeight:Se})=>{const{width:Ie,height:De}=ie.reference,ge=V.floating.style;ge.setProperty("--radix-popper-available-width",`${be}px`),ge.setProperty("--radix-popper-available-height",`${Se}px`),ge.setProperty("--radix-popper-anchor-width",`${Ie}px`),ge.setProperty("--radix-popper-anchor-height",`${De}px`)}}),R&&CR({element:R,padding:h}),MR({arrowWidth:T,arrowHeight:O}),b&&kR({strategy:"referenceHidden",...re})]}),[X,Y]=Uy(J),L=Sr(C);Nt(()=>{ae&&L?.()},[ae,L]);const q=M.arrow?.x,K=M.arrow?.y,oe=M.arrow?.centerOffset!==0,[G,Q]=v.useState();return Nt(()=>{E&&Q(window.getComputedStyle(E).zIndex)},[E]),i.jsx("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...me,transform:ae?me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[M.transformOrigin?.x,M.transformOrigin?.y].join(" "),...M.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(IR,{scope:r,placedSide:X,onArrowChange:A,arrowX:q,arrowY:K,shouldHideArrow:oe,children:i.jsx(Ge.div,{"data-side":X,"data-align":Y,..._,ref:N,style:{..._.style,animation:ae?void 0:"none"}})})})});$y.displayName=of;var Fy="PopperArrow",LR={top:"bottom",right:"left",bottom:"top",left:"right"},zy=v.forwardRef(function(e,r){const{__scopePopper:a,...o}=e,l=OR(Fy,a),u=LR[l.placedSide];return i.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:i.jsx(PR,{...o,ref:r,style:{...o.style,display:"block"}})})});zy.displayName=Fy;function DR(t){return t!==null}var MR=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:a,middlewareData:o}=e,u=o.arrow?.centerOffset!==0,h=u?0:t.arrowWidth,f=u?0:t.arrowHeight,[p,x]=Uy(r),g={start:"0%",center:"50%",end:"100%"}[x],b=(o.arrow?.x??0)+h/2,w=(o.arrow?.y??0)+f/2;let C="",_="";return p==="bottom"?(C=u?g:`${b}px`,_=`${-f}px`):p==="top"?(C=u?g:`${b}px`,_=`${a.floating.height+f}px`):p==="right"?(C=`${-f}px`,_=u?g:`${w}px`):p==="left"&&(C=`${a.floating.width+f}px`,_=u?g:`${w}px`),{data:{x:C,y:_}}}});function Uy(t){const[e,r="center"]=t.split("-");return[e,r]}var $R=Ly,FR=My,zR=$y,UR=zy,BR="Portal",lf=v.forwardRef((t,e)=>{const{container:r,...a}=t,[o,l]=v.useState(!1);Nt(()=>l(!0),[]);const u=r||o&&globalThis?.document?.body;return u?qv.createPortal(i.jsx(Ge.div,{...a,ref:e}),u):null});lf.displayName=BR;function VR(t){const e=WR(t),r=v.forwardRef((a,o)=>{const{children:l,...u}=a,h=v.Children.toArray(l),f=h.find(qR);if(f){const p=f.props.children,x=h.map(g=>g===f?v.Children.count(p)>1?v.Children.only(null):v.isValidElement(p)?p.props.children:null:g);return i.jsx(e,{...u,ref:o,children:v.isValidElement(p)?v.cloneElement(p,void 0,x):null})}return i.jsx(e,{...u,ref:o,children:l})});return r.displayName=`${t}.Slot`,r}function WR(t){const e=v.forwardRef((r,a)=>{const{children:o,...l}=r;if(v.isValidElement(o)){const u=KR(o),h=GR(l,o.props);return o.type!==v.Fragment&&(h.ref=a?Vi(a,u):u),v.cloneElement(o,h)}return v.Children.count(o)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var HR=Symbol("radix.slottable");function qR(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===HR}function GR(t,e){const r={...e};for(const a in e){const o=t[a],l=e[a];/^on[A-Z]/.test(a)?o&&l?r[a]=(...h)=>{const f=l(...h);return o(...h),f}:o&&(r[a]=o):a==="style"?r[a]={...o,...l}:a==="className"&&(r[a]=[o,l].filter(Boolean).join(" "))}return{...t,...r}}function KR(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var JR=Sh[" useInsertionEffect ".trim().toString()]||Nt;function Ya({prop:t,defaultProp:e,onChange:r=()=>{},caller:a}){const[o,l,u]=YR({defaultProp:e,onChange:r}),h=t!==void 0,f=h?t:o;{const x=v.useRef(t!==void 0);v.useEffect(()=>{const g=x.current;g!==h&&console.warn(`${a} is changing from ${g?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=h},[h,a])}const p=v.useCallback(x=>{if(h){const g=QR(x)?x(t):x;g!==t&&u.current?.(g)}else l(x)},[h,t,l,u]);return[f,p]}function YR({defaultProp:t,onChange:e}){const[r,a]=v.useState(t),o=v.useRef(r),l=v.useRef(e);return JR(()=>{l.current=e},[e]),v.useEffect(()=>{o.current!==r&&(l.current?.(r),o.current=r)},[r,o]),[r,a,l]}function QR(t){return typeof t=="function"}function XR(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var By=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ZR="VisuallyHidden",eP=v.forwardRef((t,e)=>i.jsx(Ge.span,{...t,ref:e,style:{...By,...t.style}}));eP.displayName=ZR;var tP=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ji=new WeakMap,Ll=new WeakMap,Dl={},Dd=0,Vy=function(t){return t&&(t.host||Vy(t.parentNode))},nP=function(t,e){return e.map(function(r){if(t.contains(r))return r;var a=Vy(r);return a&&t.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},rP=function(t,e,r,a){var o=nP(e,Array.isArray(t)?t:[t]);Dl[r]||(Dl[r]=new WeakMap);var l=Dl[r],u=[],h=new Set,f=new Set(o),p=function(g){!g||h.has(g)||(h.add(g),p(g.parentNode))};o.forEach(p);var x=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(b){if(h.has(b))x(b);else try{var w=b.getAttribute(a),C=w!==null&&w!=="false",_=(ji.get(b)||0)+1,j=(l.get(b)||0)+1;ji.set(b,_),l.set(b,j),u.push(b),_===1&&C&&Ll.set(b,!0),j===1&&b.setAttribute(r,"true"),C||b.setAttribute(a,"true")}catch(E){console.error("aria-hidden: cannot operate on ",b,E)}})};return x(e),h.clear(),Dd++,function(){u.forEach(function(g){var b=ji.get(g)-1,w=l.get(g)-1;ji.set(g,b),l.set(g,w),b||(Ll.has(g)||g.removeAttribute(a),Ll.delete(g)),w||g.removeAttribute(r)}),Dd--,Dd||(ji=new WeakMap,ji=new WeakMap,Ll=new WeakMap,Dl={})}},Wy=function(t,e,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),o=tP(t);return o?(a.push.apply(a,Array.from(o.querySelectorAll("[aria-live], script"))),rP(a,o,r,"aria-hidden")):function(){return null}},Hl="right-scroll-bar-position",ql="width-before-scroll-bar",sP="with-scroll-bars-hidden",iP="--removed-body-scroll-bar-size";function Md(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function aP(t,e){var r=v.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(a){var o=r.value;o!==a&&(r.value=a,r.callback(a,o))}}}})[0];return r.callback=e,r.facade}var oP=typeof window<"u"?v.useLayoutEffect:v.useEffect,wv=new WeakMap;function lP(t,e){var r=aP(null,function(a){return t.forEach(function(o){return Md(o,a)})});return oP(function(){var a=wv.get(r);if(a){var o=new Set(a),l=new Set(t),u=r.current;o.forEach(function(h){l.has(h)||Md(h,null)}),l.forEach(function(h){o.has(h)||Md(h,u)})}wv.set(r,t)},[t]),r}function cP(t){return t}function uP(t,e){e===void 0&&(e=cP);var r=[],a=!1,o={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(l){var u=e(l,a);return r.push(u),function(){r=r.filter(function(h){return h!==u})}},assignSyncMedium:function(l){for(a=!0;r.length;){var u=r;r=[],u.forEach(l)}r={push:function(h){return l(h)},filter:function(){return r}}},assignMedium:function(l){a=!0;var u=[];if(r.length){var h=r;r=[],h.forEach(l),u=r}var f=function(){var x=u;u=[],x.forEach(l)},p=function(){return Promise.resolve().then(f)};p(),r={push:function(x){u.push(x),p()},filter:function(x){return u=u.filter(x),r}}}};return o}function dP(t){t===void 0&&(t={});var e=uP(null);return e.options=En({async:!0,ssr:!1},t),e}var Hy=function(t){var e=t.sideCar,r=os(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=e.read();if(!a)throw new Error("Sidecar medium not found");return v.createElement(a,En({},r))};Hy.isSideCarExport=!0;function hP(t,e){return t.useMedium(e),Hy}var qy=dP(),$d=function(){},jc=v.forwardRef(function(t,e){var r=v.useRef(null),a=v.useState({onScrollCapture:$d,onWheelCapture:$d,onTouchMoveCapture:$d}),o=a[0],l=a[1],u=t.forwardProps,h=t.children,f=t.className,p=t.removeScrollBar,x=t.enabled,g=t.shards,b=t.sideCar,w=t.noRelative,C=t.noIsolation,_=t.inert,j=t.allowPinchZoom,E=t.as,S=E===void 0?"div":E,N=t.gapMode,R=os(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=b,U=lP([r,e]),T=En(En({},R),o);return v.createElement(v.Fragment,null,x&&v.createElement(A,{sideCar:qy,removeScrollBar:p,shards:g,noRelative:w,noIsolation:C,inert:_,setCallbacks:l,allowPinchZoom:!!j,lockRef:r,gapMode:N}),u?v.cloneElement(v.Children.only(h),En(En({},T),{ref:U})):v.createElement(S,En({},T,{className:f,ref:U}),h))});jc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jc.classNames={fullWidth:ql,zeroRight:Hl};var fP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pP(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=fP();return e&&t.setAttribute("nonce",e),t}function mP(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function gP(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var vP=function(){var t=0,e=null;return{add:function(r){t==0&&(e=pP())&&(mP(e,r),gP(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},xP=function(){var t=vP();return function(e,r){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Gy=function(){var t=xP(),e=function(r){var a=r.styles,o=r.dynamic;return t(a,o),null};return e},yP={left:0,top:0,right:0,gap:0},Fd=function(t){return parseInt(t||"",10)||0},wP=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],a=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[Fd(r),Fd(a),Fd(o)]},bP=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return yP;var e=wP(t),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,a-r+e[2]-e[0])}},jP=Gy(),Pi="data-scroll-locked",SP=function(t,e,r,a){var o=t.left,l=t.top,u=t.right,h=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(sP,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(h,"px ").concat(a,`;
  }
  body[`).concat(Pi,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(h,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hl,` {
    right: `).concat(h,"px ").concat(a,`;
  }
  
  .`).concat(ql,` {
    margin-right: `).concat(h,"px ").concat(a,`;
  }
  
  .`).concat(Hl," .").concat(Hl,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(ql," .").concat(ql,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Pi,`] {
    `).concat(iP,": ").concat(h,`px;
  }
`)},bv=function(){var t=parseInt(document.body.getAttribute(Pi)||"0",10);return isFinite(t)?t:0},_P=function(){v.useEffect(function(){return document.body.setAttribute(Pi,(bv()+1).toString()),function(){var t=bv()-1;t<=0?document.body.removeAttribute(Pi):document.body.setAttribute(Pi,t.toString())}},[])},NP=function(t){var e=t.noRelative,r=t.noImportant,a=t.gapMode,o=a===void 0?"margin":a;_P();var l=v.useMemo(function(){return bP(o)},[o]);return v.createElement(jP,{styles:SP(l,!e,o,r?"":"!important")})},ph=!1;if(typeof window<"u")try{var Ml=Object.defineProperty({},"passive",{get:function(){return ph=!0,!0}});window.addEventListener("test",Ml,Ml),window.removeEventListener("test",Ml,Ml)}catch{ph=!1}var Si=ph?{passive:!1}:!1,EP=function(t){return t.tagName==="TEXTAREA"},Ky=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!EP(t)&&r[e]==="visible")},kP=function(t){return Ky(t,"overflowY")},CP=function(t){return Ky(t,"overflowX")},jv=function(t,e){var r=e.ownerDocument,a=e;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var o=Jy(t,a);if(o){var l=Yy(t,a),u=l[1],h=l[2];if(u>h)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},RP=function(t){var e=t.scrollTop,r=t.scrollHeight,a=t.clientHeight;return[e,r,a]},PP=function(t){var e=t.scrollLeft,r=t.scrollWidth,a=t.clientWidth;return[e,r,a]},Jy=function(t,e){return t==="v"?kP(e):CP(e)},Yy=function(t,e){return t==="v"?RP(e):PP(e)},TP=function(t,e){return t==="h"&&e==="rtl"?-1:1},AP=function(t,e,r,a,o){var l=TP(t,window.getComputedStyle(e).direction),u=l*a,h=r.target,f=e.contains(h),p=!1,x=u>0,g=0,b=0;do{if(!h)break;var w=Yy(t,h),C=w[0],_=w[1],j=w[2],E=_-j-l*C;(C||E)&&Jy(t,h)&&(g+=E,b+=C);var S=h.parentNode;h=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!f&&h!==document.body||f&&(e.contains(h)||e===h));return(x&&Math.abs(g)<1||!x&&Math.abs(b)<1)&&(p=!0),p},$l=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Sv=function(t){return[t.deltaX,t.deltaY]},_v=function(t){return t&&"current"in t?t.current:t},IP=function(t,e){return t[0]===e[0]&&t[1]===e[1]},OP=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},LP=0,_i=[];function DP(t){var e=v.useRef([]),r=v.useRef([0,0]),a=v.useRef(),o=v.useState(LP++)[0],l=v.useState(Gy)[0],u=v.useRef(t);v.useEffect(function(){u.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var _=Ah([t.lockRef.current],(t.shards||[]).map(_v),!0).filter(Boolean);return _.forEach(function(j){return j.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),_.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var h=v.useCallback(function(_,j){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!u.current.allowPinchZoom;var E=$l(_),S=r.current,N="deltaX"in _?_.deltaX:S[0]-E[0],R="deltaY"in _?_.deltaY:S[1]-E[1],A,U=_.target,T=Math.abs(N)>Math.abs(R)?"h":"v";if("touches"in _&&T==="h"&&U.type==="range")return!1;var O=jv(T,U);if(!O)return!0;if(O?A=T:(A=T==="v"?"h":"v",O=jv(T,U)),!O)return!1;if(!a.current&&"changedTouches"in _&&(N||R)&&(a.current=A),!A)return!0;var F=a.current||A;return AP(F,j,_,F==="h"?N:R)},[]),f=v.useCallback(function(_){var j=_;if(!(!_i.length||_i[_i.length-1]!==l)){var E="deltaY"in j?Sv(j):$l(j),S=e.current.filter(function(A){return A.name===j.type&&(A.target===j.target||j.target===A.shadowParent)&&IP(A.delta,E)})[0];if(S&&S.should){j.cancelable&&j.preventDefault();return}if(!S){var N=(u.current.shards||[]).map(_v).filter(Boolean).filter(function(A){return A.contains(j.target)}),R=N.length>0?h(j,N[0]):!u.current.noIsolation;R&&j.cancelable&&j.preventDefault()}}},[]),p=v.useCallback(function(_,j,E,S){var N={name:_,delta:j,target:E,should:S,shadowParent:MP(E)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(R){return R!==N})},1)},[]),x=v.useCallback(function(_){r.current=$l(_),a.current=void 0},[]),g=v.useCallback(function(_){p(_.type,Sv(_),_.target,h(_,t.lockRef.current))},[]),b=v.useCallback(function(_){p(_.type,$l(_),_.target,h(_,t.lockRef.current))},[]);v.useEffect(function(){return _i.push(l),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:b}),document.addEventListener("wheel",f,Si),document.addEventListener("touchmove",f,Si),document.addEventListener("touchstart",x,Si),function(){_i=_i.filter(function(_){return _!==l}),document.removeEventListener("wheel",f,Si),document.removeEventListener("touchmove",f,Si),document.removeEventListener("touchstart",x,Si)}},[]);var w=t.removeScrollBar,C=t.inert;return v.createElement(v.Fragment,null,C?v.createElement(l,{styles:OP(o)}):null,w?v.createElement(NP,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function MP(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const $P=hP(qy,DP);var cf=v.forwardRef(function(t,e){return v.createElement(jc,En({},t,{ref:e,sideCar:$P}))});cf.classNames=jc.classNames;var FP=[" ","Enter","ArrowUp","ArrowDown"],zP=[" ","Enter"],Us="Select",[Sc,_c,UP]=my(Us),[Ji]=qi(Us,[UP,Iy]),Nc=Iy(),[BP,us]=Ji(Us),[VP,WP]=Ji(Us),Qy=t=>{const{__scopeSelect:e,children:r,open:a,defaultOpen:o,onOpenChange:l,value:u,defaultValue:h,onValueChange:f,dir:p,name:x,autoComplete:g,disabled:b,required:w,form:C}=t,_=Nc(e),[j,E]=v.useState(null),[S,N]=v.useState(null),[R,A]=v.useState(!1),U=Yh(p),[T,O]=Ya({prop:a,defaultProp:o??!1,onChange:l,caller:Us}),[F,$]=Ya({prop:u,defaultProp:h,onChange:f,caller:Us}),Z=v.useRef(null),H=j?C||!!j.closest("form"):!0,[re,ce]=v.useState(new Set),me=Array.from(re).map(J=>J.props.value).join(";");return i.jsx($R,{..._,children:i.jsxs(BP,{required:w,scope:e,trigger:j,onTriggerChange:E,valueNode:S,onValueNodeChange:N,valueNodeHasChildren:R,onValueNodeHasChildrenChange:A,contentId:rs(),value:F,onValueChange:$,open:T,onOpenChange:O,dir:U,triggerPointerDownPosRef:Z,disabled:b,children:[i.jsx(Sc.Provider,{scope:e,children:i.jsx(VP,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(J=>{ce(ae=>new Set(ae).add(J))},[]),onNativeOptionRemove:v.useCallback(J=>{ce(ae=>{const M=new Set(ae);return M.delete(J),M})},[]),children:r})}),H?i.jsxs(y0,{"aria-hidden":!0,required:w,tabIndex:-1,name:x,autoComplete:g,value:F,onChange:J=>$(J.target.value),disabled:b,form:C,children:[F===void 0?i.jsx("option",{value:""}):null,Array.from(re)]},me):null]})})};Qy.displayName=Us;var Xy="SelectTrigger",Zy=v.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:a=!1,...o}=t,l=Nc(r),u=us(Xy,r),h=u.disabled||a,f=dt(e,u.onTriggerChange),p=_c(r),x=v.useRef("touch"),[g,b,w]=b0(_=>{const j=p().filter(N=>!N.disabled),E=j.find(N=>N.value===u.value),S=j0(j,_,E);S!==void 0&&u.onValueChange(S.value)}),C=_=>{h||(u.onOpenChange(!0),w()),_&&(u.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return i.jsx(FR,{asChild:!0,...l,children:i.jsx(Ge.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":w0(u.value)?"":void 0,...o,ref:f,onClick:Be(o.onClick,_=>{_.currentTarget.focus(),x.current!=="mouse"&&C(_)}),onPointerDown:Be(o.onPointerDown,_=>{x.current=_.pointerType;const j=_.target;j.hasPointerCapture(_.pointerId)&&j.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(C(_),_.preventDefault())}),onKeyDown:Be(o.onKeyDown,_=>{const j=g.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&b(_.key),!(j&&_.key===" ")&&FP.includes(_.key)&&(C(),_.preventDefault())})})})});Zy.displayName=Xy;var e0="SelectValue",t0=v.forwardRef((t,e)=>{const{__scopeSelect:r,className:a,style:o,children:l,placeholder:u="",...h}=t,f=us(e0,r),{onValueNodeHasChildrenChange:p}=f,x=l!==void 0,g=dt(e,f.onValueNodeChange);return Nt(()=>{p(x)},[p,x]),i.jsx(Ge.span,{...h,ref:g,style:{pointerEvents:"none"},children:w0(f.value)?i.jsx(i.Fragment,{children:u}):l})});t0.displayName=e0;var HP="SelectIcon",n0=v.forwardRef((t,e)=>{const{__scopeSelect:r,children:a,...o}=t;return i.jsx(Ge.span,{"aria-hidden":!0,...o,ref:e,children:a||""})});n0.displayName=HP;var qP="SelectPortal",r0=t=>i.jsx(lf,{asChild:!0,...t});r0.displayName=qP;var Bs="SelectContent",s0=v.forwardRef((t,e)=>{const r=us(Bs,t.__scopeSelect),[a,o]=v.useState();if(Nt(()=>{o(new DocumentFragment)},[]),!r.open){const l=a;return l?eo.createPortal(i.jsx(i0,{scope:t.__scopeSelect,children:i.jsx(Sc.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),l):null}return i.jsx(a0,{...t,ref:e})});s0.displayName=Bs;var Mn=10,[i0,ds]=Ji(Bs),GP="SelectContentImpl",KP=VR("SelectContent.RemoveScroll"),a0=v.forwardRef((t,e)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:u,side:h,sideOffset:f,align:p,alignOffset:x,arrowPadding:g,collisionBoundary:b,collisionPadding:w,sticky:C,hideWhenDetached:_,avoidCollisions:j,...E}=t,S=us(Bs,r),[N,R]=v.useState(null),[A,U]=v.useState(null),T=dt(e,V=>R(V)),[O,F]=v.useState(null),[$,Z]=v.useState(null),H=_c(r),[re,ce]=v.useState(!1),me=v.useRef(!1);v.useEffect(()=>{if(N)return Wy(N)},[N]),xy();const J=v.useCallback(V=>{const[ie,...be]=H().map(De=>De.ref.current),[Se]=be.slice(-1),Ie=document.activeElement;for(const De of V)if(De===Ie||(De?.scrollIntoView({block:"nearest"}),De===ie&&A&&(A.scrollTop=0),De===Se&&A&&(A.scrollTop=A.scrollHeight),De?.focus(),document.activeElement!==Ie))return},[H,A]),ae=v.useCallback(()=>J([O,N]),[J,O,N]);v.useEffect(()=>{re&&ae()},[re,ae]);const{onOpenChange:M,triggerPointerDownPosRef:X}=S;v.useEffect(()=>{if(N){let V={x:0,y:0};const ie=Se=>{V={x:Math.abs(Math.round(Se.pageX)-(X.current?.x??0)),y:Math.abs(Math.round(Se.pageY)-(X.current?.y??0))}},be=Se=>{V.x<=10&&V.y<=10?Se.preventDefault():N.contains(Se.target)||M(!1),document.removeEventListener("pointermove",ie),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",be,{capture:!0})}}},[N,M,X]),v.useEffect(()=>{const V=()=>M(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[M]);const[Y,L]=b0(V=>{const ie=H().filter(Ie=>!Ie.disabled),be=ie.find(Ie=>Ie.ref.current===document.activeElement),Se=j0(ie,V,be);Se&&setTimeout(()=>Se.ref.current.focus())}),q=v.useCallback((V,ie,be)=>{const Se=!me.current&&!be;(S.value!==void 0&&S.value===ie||Se)&&(F(V),Se&&(me.current=!0))},[S.value]),K=v.useCallback(()=>N?.focus(),[N]),oe=v.useCallback((V,ie,be)=>{const Se=!me.current&&!be;(S.value!==void 0&&S.value===ie||Se)&&Z(V)},[S.value]),G=a==="popper"?mh:o0,Q=G===mh?{side:h,sideOffset:f,align:p,alignOffset:x,arrowPadding:g,collisionBoundary:b,collisionPadding:w,sticky:C,hideWhenDetached:_,avoidCollisions:j}:{};return i.jsx(i0,{scope:r,content:N,viewport:A,onViewportChange:U,itemRefCallback:q,selectedItem:O,onItemLeave:K,itemTextRefCallback:oe,focusSelectedItem:ae,selectedItemText:$,position:a,isPositioned:re,searchRef:Y,children:i.jsx(cf,{as:KP,allowPinchZoom:!0,children:i.jsx(Xh,{asChild:!0,trapped:S.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:Be(o,V=>{S.trigger?.focus({preventScroll:!0}),V.preventDefault()}),children:i.jsx(Qh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:i.jsx(G,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:V=>V.preventDefault(),...E,...Q,onPlaced:()=>ce(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Be(E.onKeyDown,V=>{const ie=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!ie&&V.key.length===1&&L(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let Se=H().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);if(["ArrowUp","End"].includes(V.key)&&(Se=Se.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const Ie=V.target,De=Se.indexOf(Ie);Se=Se.slice(De+1)}setTimeout(()=>J(Se)),V.preventDefault()}})})})})})})});a0.displayName=GP;var JP="SelectItemAlignedPosition",o0=v.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:a,...o}=t,l=us(Bs,r),u=ds(Bs,r),[h,f]=v.useState(null),[p,x]=v.useState(null),g=dt(e,T=>x(T)),b=_c(r),w=v.useRef(!1),C=v.useRef(!0),{viewport:_,selectedItem:j,selectedItemText:E,focusSelectedItem:S}=u,N=v.useCallback(()=>{if(l.trigger&&l.valueNode&&h&&p&&_&&j&&E){const T=l.trigger.getBoundingClientRect(),O=p.getBoundingClientRect(),F=l.valueNode.getBoundingClientRect(),$=E.getBoundingClientRect();if(l.dir!=="rtl"){const Ie=$.left-O.left,De=F.left-Ie,ge=T.left-De,Ze=T.width+ge,mn=Math.max(Ze,O.width),tn=window.innerWidth-Mn,nn=ev(De,[Mn,Math.max(Mn,tn-mn)]);h.style.minWidth=Ze+"px",h.style.left=nn+"px"}else{const Ie=O.right-$.right,De=window.innerWidth-F.right-Ie,ge=window.innerWidth-T.right-De,Ze=T.width+ge,mn=Math.max(Ze,O.width),tn=window.innerWidth-Mn,nn=ev(De,[Mn,Math.max(Mn,tn-mn)]);h.style.minWidth=Ze+"px",h.style.right=nn+"px"}const Z=b(),H=window.innerHeight-Mn*2,re=_.scrollHeight,ce=window.getComputedStyle(p),me=parseInt(ce.borderTopWidth,10),J=parseInt(ce.paddingTop,10),ae=parseInt(ce.borderBottomWidth,10),M=parseInt(ce.paddingBottom,10),X=me+J+re+M+ae,Y=Math.min(j.offsetHeight*5,X),L=window.getComputedStyle(_),q=parseInt(L.paddingTop,10),K=parseInt(L.paddingBottom,10),oe=T.top+T.height/2-Mn,G=H-oe,Q=j.offsetHeight/2,V=j.offsetTop+Q,ie=me+J+V,be=X-ie;if(ie<=oe){const Ie=Z.length>0&&j===Z[Z.length-1].ref.current;h.style.bottom="0px";const De=p.clientHeight-_.offsetTop-_.offsetHeight,ge=Math.max(G,Q+(Ie?K:0)+De+ae),Ze=ie+ge;h.style.height=Ze+"px"}else{const Ie=Z.length>0&&j===Z[0].ref.current;h.style.top="0px";const ge=Math.max(oe,me+_.offsetTop+(Ie?q:0)+Q)+be;h.style.height=ge+"px",_.scrollTop=ie-oe+_.offsetTop}h.style.margin=`${Mn}px 0`,h.style.minHeight=Y+"px",h.style.maxHeight=H+"px",a?.(),requestAnimationFrame(()=>w.current=!0)}},[b,l.trigger,l.valueNode,h,p,_,j,E,l.dir,a]);Nt(()=>N(),[N]);const[R,A]=v.useState();Nt(()=>{p&&A(window.getComputedStyle(p).zIndex)},[p]);const U=v.useCallback(T=>{T&&C.current===!0&&(N(),S?.(),C.current=!1)},[N,S]);return i.jsx(QP,{scope:r,contentWrapper:h,shouldExpandOnScrollRef:w,onScrollButtonChange:U,children:i.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:i.jsx(Ge.div,{...o,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});o0.displayName=JP;var YP="SelectPopperPosition",mh=v.forwardRef((t,e)=>{const{__scopeSelect:r,align:a="start",collisionPadding:o=Mn,...l}=t,u=Nc(r);return i.jsx(zR,{...u,...l,ref:e,align:a,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});mh.displayName=YP;var[QP,uf]=Ji(Bs,{}),gh="SelectViewport",l0=v.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:a,...o}=t,l=ds(gh,r),u=uf(gh,r),h=dt(e,l.onViewportChange),f=v.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),i.jsx(Sc.Slot,{scope:r,children:i.jsx(Ge.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Be(o.onScroll,p=>{const x=p.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:b}=u;if(b?.current&&g){const w=Math.abs(f.current-x.scrollTop);if(w>0){const C=window.innerHeight-Mn*2,_=parseFloat(g.style.minHeight),j=parseFloat(g.style.height),E=Math.max(_,j);if(E<C){const S=E+w,N=Math.min(C,S),R=S-N;g.style.height=N+"px",g.style.bottom==="0px"&&(x.scrollTop=R>0?R:0,g.style.justifyContent="flex-end")}}}f.current=x.scrollTop})})})]})});l0.displayName=gh;var c0="SelectGroup",[XP,ZP]=Ji(c0),e2=v.forwardRef((t,e)=>{const{__scopeSelect:r,...a}=t,o=rs();return i.jsx(XP,{scope:r,id:o,children:i.jsx(Ge.div,{role:"group","aria-labelledby":o,...a,ref:e})})});e2.displayName=c0;var u0="SelectLabel",t2=v.forwardRef((t,e)=>{const{__scopeSelect:r,...a}=t,o=ZP(u0,r);return i.jsx(Ge.div,{id:o.id,...a,ref:e})});t2.displayName=u0;var rc="SelectItem",[n2,d0]=Ji(rc),h0=v.forwardRef((t,e)=>{const{__scopeSelect:r,value:a,disabled:o=!1,textValue:l,...u}=t,h=us(rc,r),f=ds(rc,r),p=h.value===a,[x,g]=v.useState(l??""),[b,w]=v.useState(!1),C=dt(e,S=>f.itemRefCallback?.(S,a,o)),_=rs(),j=v.useRef("touch"),E=()=>{o||(h.onValueChange(a),h.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(n2,{scope:r,value:a,disabled:o,textId:_,isSelected:p,onItemTextChange:v.useCallback(S=>{g(N=>N||(S?.textContent??"").trim())},[]),children:i.jsx(Sc.ItemSlot,{scope:r,value:a,disabled:o,textValue:x,children:i.jsx(Ge.div,{role:"option","aria-labelledby":_,"data-highlighted":b?"":void 0,"aria-selected":p&&b,"data-state":p?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:C,onFocus:Be(u.onFocus,()=>w(!0)),onBlur:Be(u.onBlur,()=>w(!1)),onClick:Be(u.onClick,()=>{j.current!=="mouse"&&E()}),onPointerUp:Be(u.onPointerUp,()=>{j.current==="mouse"&&E()}),onPointerDown:Be(u.onPointerDown,S=>{j.current=S.pointerType}),onPointerMove:Be(u.onPointerMove,S=>{j.current=S.pointerType,o?f.onItemLeave?.():j.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Be(u.onPointerLeave,S=>{S.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:Be(u.onKeyDown,S=>{f.searchRef?.current!==""&&S.key===" "||(zP.includes(S.key)&&E(),S.key===" "&&S.preventDefault())})})})})});h0.displayName=rc;var Fa="SelectItemText",f0=v.forwardRef((t,e)=>{const{__scopeSelect:r,className:a,style:o,...l}=t,u=us(Fa,r),h=ds(Fa,r),f=d0(Fa,r),p=WP(Fa,r),[x,g]=v.useState(null),b=dt(e,E=>g(E),f.onItemTextChange,E=>h.itemTextRefCallback?.(E,f.value,f.disabled)),w=x?.textContent,C=v.useMemo(()=>i.jsx("option",{value:f.value,disabled:f.disabled,children:w},f.value),[f.disabled,f.value,w]),{onNativeOptionAdd:_,onNativeOptionRemove:j}=p;return Nt(()=>(_(C),()=>j(C)),[_,j,C]),i.jsxs(i.Fragment,{children:[i.jsx(Ge.span,{id:f.textId,...l,ref:b}),f.isSelected&&u.valueNode&&!u.valueNodeHasChildren?eo.createPortal(l.children,u.valueNode):null]})});f0.displayName=Fa;var p0="SelectItemIndicator",m0=v.forwardRef((t,e)=>{const{__scopeSelect:r,...a}=t;return d0(p0,r).isSelected?i.jsx(Ge.span,{"aria-hidden":!0,...a,ref:e}):null});m0.displayName=p0;var vh="SelectScrollUpButton",g0=v.forwardRef((t,e)=>{const r=ds(vh,t.__scopeSelect),a=uf(vh,t.__scopeSelect),[o,l]=v.useState(!1),u=dt(e,a.onScrollButtonChange);return Nt(()=>{if(r.viewport&&r.isPositioned){let h=function(){const p=f.scrollTop>0;l(p)};const f=r.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[r.viewport,r.isPositioned]),o?i.jsx(x0,{...t,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=r;h&&f&&(h.scrollTop=h.scrollTop-f.offsetHeight)}}):null});g0.displayName=vh;var xh="SelectScrollDownButton",v0=v.forwardRef((t,e)=>{const r=ds(xh,t.__scopeSelect),a=uf(xh,t.__scopeSelect),[o,l]=v.useState(!1),u=dt(e,a.onScrollButtonChange);return Nt(()=>{if(r.viewport&&r.isPositioned){let h=function(){const p=f.scrollHeight-f.clientHeight,x=Math.ceil(f.scrollTop)<p;l(x)};const f=r.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[r.viewport,r.isPositioned]),o?i.jsx(x0,{...t,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=r;h&&f&&(h.scrollTop=h.scrollTop+f.offsetHeight)}}):null});v0.displayName=xh;var x0=v.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:a,...o}=t,l=ds("SelectScrollButton",r),u=v.useRef(null),h=_c(r),f=v.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return v.useEffect(()=>()=>f(),[f]),Nt(()=>{h().find(x=>x.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[h]),i.jsx(Ge.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Be(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(a,50))}),onPointerMove:Be(o.onPointerMove,()=>{l.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(a,50))}),onPointerLeave:Be(o.onPointerLeave,()=>{f()})})}),r2="SelectSeparator",s2=v.forwardRef((t,e)=>{const{__scopeSelect:r,...a}=t;return i.jsx(Ge.div,{"aria-hidden":!0,...a,ref:e})});s2.displayName=r2;var yh="SelectArrow",i2=v.forwardRef((t,e)=>{const{__scopeSelect:r,...a}=t,o=Nc(r),l=us(yh,r),u=ds(yh,r);return l.open&&u.position==="popper"?i.jsx(UR,{...o,...a,ref:e}):null});i2.displayName=yh;var a2="SelectBubbleInput",y0=v.forwardRef(({__scopeSelect:t,value:e,...r},a)=>{const o=v.useRef(null),l=dt(a,o),u=XR(e);return v.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(f,"value").set;if(u!==e&&x){const g=new Event("change",{bubbles:!0});x.call(h,e),h.dispatchEvent(g)}},[u,e]),i.jsx(Ge.select,{...r,style:{...By,...r.style},ref:l,defaultValue:e})});y0.displayName=a2;function w0(t){return t===""||t===void 0}function b0(t){const e=Sr(t),r=v.useRef(""),a=v.useRef(0),o=v.useCallback(u=>{const h=r.current+u;e(h),(function f(p){r.current=p,window.clearTimeout(a.current),p!==""&&(a.current=window.setTimeout(()=>f(""),1e3))})(h)},[e]),l=v.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,o,l]}function j0(t,e,r){const o=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,l=r?t.indexOf(r):-1;let u=o2(t,Math.max(l,0));o.length===1&&(u=u.filter(p=>p!==r));const f=u.find(p=>p.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==r?f:void 0}function o2(t,e){return t.map((r,a)=>t[(e+a)%t.length])}var l2=Qy,c2=Zy,u2=t0,d2=n0,h2=r0,f2=s0,p2=l0,m2=h0,g2=f0,v2=m0,x2=g0,y2=v0;function Pt({...t}){return i.jsx(l2,{"data-slot":"select",...t})}function Tt({...t}){return i.jsx(u2,{"data-slot":"select-value",...t})}function At({className:t,size:e="default",children:r,...a}){return i.jsxs(c2,{"data-slot":"select-trigger","data-size":e,className:Ve("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a,children:[r,i.jsx(d2,{asChild:!0,children:i.jsx(hy,{className:"size-4 opacity-50"})})]})}function It({className:t,children:e,position:r="popper",...a}){return i.jsx(h2,{children:i.jsxs(f2,{"data-slot":"select-content",className:Ve("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...a,children:[i.jsx(w2,{}),i.jsx(p2,{className:Ve("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),i.jsx(b2,{})]})})}function Re({className:t,children:e,...r}){return i.jsxs(m2,{"data-slot":"select-item",className:Ve("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[i.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:i.jsx(v2,{children:i.jsx(EE,{className:"size-4"})})}),i.jsx(g2,{children:e})]})}function w2({className:t,...e}){return i.jsx(x2,{"data-slot":"select-scroll-up-button",className:Ve("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(RE,{className:"size-4"})})}function b2({className:t,...e}){return i.jsx(y2,{"data-slot":"select-scroll-down-button",className:Ve("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(hy,{className:"size-4"})})}function j2(){const[t,e]=v.useState(""),[r,a]=v.useState(""),[o,l]=v.useState(""),[u,h]=v.useState("student"),{register:f}=yt(),p=dc(),x=async g=>{g.preventDefault(),await f(r,o,t,u)?(Le.success("Registration successful!"),p("/dashboard")):Le.error("Registration failed. Please try again.")};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:i.jsxs(te,{className:"w-full max-w-md",children:[i.jsxs(he,{className:"space-y-1 text-center",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:i.jsx(jr,{className:"size-10 text-blue-600"})})}),i.jsx(fe,{children:"Create an Account"}),i.jsx(cy,{children:"Join HSU Portal to get started"})]}),i.jsxs(ne,{children:[i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"name",children:"Full Name"}),i.jsx(qe,{id:"name",type:"text",placeholder:"John Doe",value:t,onChange:g=>e(g.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"email",children:"Email"}),i.jsx(qe,{id:"email",type:"email",placeholder:"your.email@university.edu",value:r,onChange:g=>a(g.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"password",children:"Password"}),i.jsx(qe,{id:"password",type:"password",placeholder:"Create a password",value:o,onChange:g=>l(g.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"role",children:"Role"}),i.jsxs(Pt,{value:u,onValueChange:h,children:[i.jsx(At,{children:i.jsx(Tt,{placeholder:"Select your role"})}),i.jsxs(It,{children:[i.jsx(Re,{value:"student",children:"Student"}),i.jsx(Re,{value:"teacher",children:"Teacher"}),i.jsx(Re,{value:"parent",children:"Parent"}),i.jsx(Re,{value:"admin",children:"Admin"})]})]})]}),i.jsx(Ae,{type:"submit",className:"w-full",children:"Create Account"})]}),i.jsxs("div",{className:"mt-6 text-center text-sm",children:["Already have an account?"," ",i.jsx($s,{to:"/login",className:"text-blue-600 hover:underline",children:"Sign in"})]})]})]})})}function S2(t,e=[]){let r=[];function a(l,u){const h=v.createContext(u);h.displayName=l+"Context";const f=r.length;r=[...r,u];const p=g=>{const{scope:b,children:w,...C}=g,_=b?.[t]?.[f]||h,j=v.useMemo(()=>C,Object.values(C));return i.jsx(_.Provider,{value:j,children:w})};p.displayName=l+"Provider";function x(g,b){const w=b?.[t]?.[f]||h,C=v.useContext(w);if(C)return C;if(u!==void 0)return u;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[p,x]}const o=()=>{const l=r.map(u=>v.createContext(u));return function(h){const f=h?.[t]||l;return v.useMemo(()=>({[`__scope${t}`]:{...h,[t]:f}}),[h,f])}};return o.scopeName=t,[a,_2(o,...e)]}function _2(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const a=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const u=a.reduce((h,{useScope:f,scopeName:p})=>{const g=f(l)[`__scope${p}`];return{...h,...g}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return r.scopeName=e.scopeName,r}var N2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],df=N2.reduce((t,e)=>{const r=vc(`Primitive.${e}`),a=v.forwardRef((o,l)=>{const{asChild:u,...h}=o,f=u?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(f,{...h,ref:l})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{}),zd={exports:{}},Ud={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function E2(){if(Nv)return Ud;Nv=1;var t=cc();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var r=typeof Object.is=="function"?Object.is:e,a=t.useState,o=t.useEffect,l=t.useLayoutEffect,u=t.useDebugValue;function h(g,b){var w=b(),C=a({inst:{value:w,getSnapshot:b}}),_=C[0].inst,j=C[1];return l(function(){_.value=w,_.getSnapshot=b,f(_)&&j({inst:_})},[g,w,b]),o(function(){return f(_)&&j({inst:_}),g(function(){f(_)&&j({inst:_})})},[g]),u(w),w}function f(g){var b=g.getSnapshot;g=g.value;try{var w=b();return!r(g,w)}catch{return!0}}function p(g,b){return b()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:h;return Ud.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:x,Ud}var Ev;function k2(){return Ev||(Ev=1,zd.exports=E2()),zd.exports}var C2=k2();function R2(){return C2.useSyncExternalStore(P2,()=>!0,()=>!1)}function P2(){return()=>{}}var hf="Avatar",[T2]=S2(hf),[A2,S0]=T2(hf),_0=v.forwardRef((t,e)=>{const{__scopeAvatar:r,...a}=t,[o,l]=v.useState("idle");return i.jsx(A2,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:i.jsx(df.span,{...a,ref:e})})});_0.displayName=hf;var N0="AvatarImage",E0=v.forwardRef((t,e)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:o=()=>{},...l}=t,u=S0(N0,r),h=I2(a,l),f=Sr(p=>{o(p),u.onImageLoadingStatusChange(p)});return Nt(()=>{h!=="idle"&&f(h)},[h,f]),h==="loaded"?i.jsx(df.img,{...l,ref:e,src:a}):null});E0.displayName=N0;var k0="AvatarFallback",C0=v.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:a,...o}=t,l=S0(k0,r),[u,h]=v.useState(a===void 0);return v.useEffect(()=>{if(a!==void 0){const f=window.setTimeout(()=>h(!0),a);return()=>window.clearTimeout(f)}},[a]),u&&l.imageLoadingStatus!=="loaded"?i.jsx(df.span,{...o,ref:e}):null});C0.displayName=k0;function kv(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function I2(t,{referrerPolicy:e,crossOrigin:r}){const a=R2(),o=v.useRef(null),l=a?(o.current||(o.current=new window.Image),o.current):null,[u,h]=v.useState(()=>kv(l,t));return Nt(()=>{h(kv(l,t))},[l,t]),Nt(()=>{const f=g=>()=>{h(g)};if(!l)return;const p=f("loaded"),x=f("error");return l.addEventListener("load",p),l.addEventListener("error",x),e&&(l.referrerPolicy=e),typeof r=="string"&&(l.crossOrigin=r),()=>{l.removeEventListener("load",p),l.removeEventListener("error",x)}},[l,r,e]),u}var O2=_0,L2=E0,D2=C0;function Oi({className:t,...e}){return i.jsx(O2,{"data-slot":"avatar",className:Ve("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function Li({className:t,...e}){return i.jsx(L2,{"data-slot":"avatar-image",className:Ve("aspect-square size-full",t),...e})}function Di({className:t,...e}){return i.jsx(D2,{"data-slot":"avatar-fallback",className:Ve("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}const M2={student:[{icon:Al,label:"Dashboard",path:"/dashboard"},{icon:br,label:"Courses",path:"/courses"},{icon:Ds,label:"Results",path:"/results"},{icon:Vl,label:"Attendance",path:"/attendance"},{icon:Hs,label:"Finance",path:"/finance"},{icon:tr,label:"Events",path:"/events"},{icon:Bl,label:"Announcements",path:"/announcements"}],teacher:[{icon:Al,label:"Dashboard",path:"/dashboard"},{icon:br,label:"Lessons",path:"/lessons"},{icon:Ds,label:"Exams & Assignments",path:"/exams"},{icon:Vl,label:"Grades",path:"/grades"},{icon:Vl,label:"Attendance Manager",path:"/teacher-attendance"},{icon:Xn,label:"Students",path:"/students"},{icon:Bl,label:"Announcements",path:"/announcements"}],parent:[{icon:Al,label:"Dashboard",path:"/dashboard"},{icon:jr,label:"Children",path:"/children"},{icon:Ds,label:"Performance",path:"/performance"},{icon:tr,label:"Events",path:"/events"},{icon:Bl,label:"Announcements",path:"/announcements"}],admin:[{icon:Al,label:"Dashboard",path:"/dashboard"},{icon:dy,label:"Classes & Grades",path:"/classes"},{icon:Ds,label:"Reports",path:"/reports"}]};function $2(){const{user:t,logout:e}=yt(),r=Er();if(!t)return null;const a=M2[t.role]||[];return i.jsxs("div",{className:"flex flex-col h-screen w-64 bg-white border-r",children:[i.jsx("div",{className:"p-6 border-b",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(jr,{className:"size-8 text-blue-600"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-blue-600",children:"HSU Portal"}),i.jsxs("p",{className:"text-sm text-gray-500",children:[t.role.charAt(0).toUpperCase()+t.role.slice(1)," Portal"]})]})]})}),i.jsx("div",{className:"p-4 border-b",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(Oi,{children:[i.jsx(Li,{src:t.avatar}),i.jsx(Di,{children:t.name.charAt(0)})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"truncate",children:t.name}),i.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.email})]})]})}),i.jsxs("nav",{className:"flex-1 overflow-y-auto p-4",children:[i.jsx("div",{className:"space-y-1",children:a.map(o=>{const l=o.icon,u=r.pathname===o.path;return i.jsx($s,{to:o.path,children:i.jsxs(Ae,{variant:u?"default":"ghost",className:"w-full justify-start",children:[i.jsx(l,{className:"mr-2 size-4"}),o.label]})},o.path)})}),t?.role==="admin"&&i.jsxs(i.Fragment,{children:[i.jsx($s,{to:"/admin/courses",children:i.jsxs(Ae,{variant:"ghost",className:"w-full justify-start",children:[i.jsx(br,{className:"mr-2 size-4"})," Courses"]})}),i.jsx($s,{to:"/admin/finance",children:i.jsxs(Ae,{variant:"ghost",className:"w-full justify-start",children:[i.jsx(Hs,{className:"mr-2 size-4"})," Finance"]})})]})]}),i.jsx("div",{className:"p-4 border-t space-y-1",children:i.jsxs(Ae,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",onClick:e,children:[i.jsx(GE,{className:"mr-2 size-4"}),"Logout"]})})]})}function ze({children:t}){return i.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i.jsx($2,{}),i.jsx("main",{className:"flex-1 overflow-y-auto",children:t})]})}const F2=Qx("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ye({className:t,variant:e,asChild:r=!1,...a}){const o=r?Kx:"span";return i.jsx(o,{"data-slot":"badge",className:Ve(F2({variant:e}),t),...a})}function z2(t,e=[]){let r=[];function a(l,u){const h=v.createContext(u);h.displayName=l+"Context";const f=r.length;r=[...r,u];const p=g=>{const{scope:b,children:w,...C}=g,_=b?.[t]?.[f]||h,j=v.useMemo(()=>C,Object.values(C));return i.jsx(_.Provider,{value:j,children:w})};p.displayName=l+"Provider";function x(g,b){const w=b?.[t]?.[f]||h,C=v.useContext(w);if(C)return C;if(u!==void 0)return u;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[p,x]}const o=()=>{const l=r.map(u=>v.createContext(u));return function(h){const f=h?.[t]||l;return v.useMemo(()=>({[`__scope${t}`]:{...h,[t]:f}}),[h,f])}};return o.scopeName=t,[a,U2(o,...e)]}function U2(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const a=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const u=a.reduce((h,{useScope:f,scopeName:p})=>{const g=f(l)[`__scope${p}`];return{...h,...g}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return r.scopeName=e.scopeName,r}var B2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],R0=B2.reduce((t,e)=>{const r=vc(`Primitive.${e}`),a=v.forwardRef((o,l)=>{const{asChild:u,...h}=o,f=u?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(f,{...h,ref:l})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{}),ff="Progress",pf=100,[V2]=z2(ff),[W2,H2]=V2(ff),P0=v.forwardRef((t,e)=>{const{__scopeProgress:r,value:a=null,max:o,getValueLabel:l=q2,...u}=t;(o||o===0)&&!Cv(o)&&console.error(G2(`${o}`,"Progress"));const h=Cv(o)?o:pf;a!==null&&!Rv(a,h)&&console.error(K2(`${a}`,"Progress"));const f=Rv(a,h)?a:null,p=sc(f)?l(f,h):void 0;return i.jsx(W2,{scope:r,value:f,max:h,children:i.jsx(R0.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":sc(f)?f:void 0,"aria-valuetext":p,role:"progressbar","data-state":I0(f,h),"data-value":f??void 0,"data-max":h,...u,ref:e})})});P0.displayName=ff;var T0="ProgressIndicator",A0=v.forwardRef((t,e)=>{const{__scopeProgress:r,...a}=t,o=H2(T0,r);return i.jsx(R0.div,{"data-state":I0(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...a,ref:e})});A0.displayName=T0;function q2(t,e){return`${Math.round(t/e*100)}%`}function I0(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function sc(t){return typeof t=="number"}function Cv(t){return sc(t)&&!isNaN(t)&&t>0}function Rv(t,e){return sc(t)&&!isNaN(t)&&t<=e&&t>=0}function G2(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${pf}\`.`}function K2(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${pf} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var J2=P0,Y2=A0;function Mi({className:t,value:e,...r}){return i.jsx(J2,{"data-slot":"progress",className:Ve("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...r,children:i.jsx(Y2,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}const Q2={present:"present",attended:"present","on-time":"present",ontime:"present",p:"present",1:"present",true:"present",late:"late",tardy:"late",l:"late",absent:"absent",missed:"absent",excused:"absent",a:"absent",0:"absent",false:"absent"};function wh(t){if(t==null)return null;const e=`${t}`.trim().toLowerCase();return e?Q2[e]??null:null}function Vs(t){if(!t||t.length===0)return{total:0,present:0,late:0,absent:0,percentage:0,rate:0};const e={total:0,present:0,late:0,absent:0};for(const o of t){const l=wh(o.status);l&&(e.total++,l==="present"?e.present++:l==="late"?e.late++:l==="absent"&&e.absent++)}if(!e.total)return{...e,percentage:0,rate:0};const r=e.present*1+e.late*.75+e.absent*0,a=Math.round(r/e.total*100);return{...e,percentage:a,rate:a}}function X2(){const{user:t}=yt(),[e,r]=v.useState([]),[a,o]=v.useState([]),[l,u]=v.useState([]),[h,f]=v.useState(null),[p,x]=v.useState(!0),[g,b]=v.useState(0),[w,C]=v.useState(null),_=w?.gpa??0,j=g||w?.attendance||0;if(v.useEffect(()=>{(async()=>{if(t)try{const[A,U,T,O,F,$]=await Promise.all([Vh(t.id),Bx(),ro(),vN(t.id),zx(t.id),Fx?.(t.id)??Promise.resolve(null)]);r(A.grades||[]),o(Array.isArray(U)?U:U?.events||[]),u(Array.isArray(T)?T:T?.announcements||[]),f(O.finance),b(Vs(F.attendance||[]).rate),C($)}catch(A){console.error("Error fetching dashboard data:",A)}finally{x(!1)}})()},[t]),p)return i.jsx(ze,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("p",{children:"Loading..."})})});const E=a.slice(0,3),S=e.slice(0,3),N=l.slice(0,2);return i.jsx(ze,{children:i.jsxs("div",{className:"p-8 space-y-8",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{children:"Student Dashboard"}),i.jsx("p",{className:"text-gray-600",children:"Welcome back! Here's your academic overview."})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Current GPA"}),i.jsx(jr,{className:"size-4 text-blue-600"})]}),i.jsxs(ne,{children:[i.jsx("div",{className:"text-2xl",children:_.toFixed(2)}),i.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[i.jsx(ss,{className:"inline size-3 text-green-600"})," +0.2 from last semester"]})]})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Attendance Rate"}),i.jsx(Ga,{className:"size-4 text-green-600"})]}),i.jsxs(ne,{children:[i.jsxs("div",{className:"text-2xl",children:[j,"%"]}),i.jsx(Mi,{value:j,className:"mt-2"})]})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Upcoming Events"}),i.jsx(tr,{className:"size-4 text-orange-600"})]}),i.jsxs(ne,{children:[i.jsx("div",{className:"text-2xl",children:a.length}),i.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Next: ",a[0]?.title||"None"]})]})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Outstanding Balance"}),i.jsx(Hs,{className:"size-4 text-red-600"})]}),i.jsxs(ne,{children:[i.jsxs("div",{className:"text-2xl",children:["$",h?.due?.toLocaleString()||"0"]}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Due by Dec 15, 2025"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Recent Grades"})}),i.jsx(ne,{children:i.jsx("div",{className:"space-y-4",children:S.map(R=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"truncate",children:R.courseName}),i.jsx("p",{className:"text-sm text-gray-600",children:R.examType})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs(Ye,{variant:R.score>=90?"default":R.score>=80?"secondary":"outline",children:[R.score,"/",R.maxScore]}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:R.date})]})]},R.id))})})]}),i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Upcoming Events"})}),i.jsx(ne,{children:i.jsx("div",{className:"space-y-4",children:E.map(R=>i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center bg-blue-100 rounded-lg p-3 min-w-16",children:[i.jsx("div",{className:"text-blue-600",children:new Date(R.date).getDate()}),i.jsx("div",{className:"text-xs text-blue-600",children:new Date(R.date).toLocaleDateString("en-US",{month:"short"})})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"truncate",children:R.title}),i.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[i.jsx(Fs,{className:"size-3"}),R.time,"  ",R.location]})]}),i.jsx(Ye,{variant:R.type==="exam"?"destructive":R.type==="assignment"?"default":"secondary",children:R.type})]},R.id))})})]})]}),i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Recent Announcements"})}),i.jsx(ne,{children:i.jsx("div",{className:"space-y-4",children:N.map(R=>i.jsxs("div",{className:"flex gap-4 p-4 border rounded-lg",children:[i.jsx(fy,{className:`size-5 flex-shrink-0 ${R.priority==="high"?"text-red-600":R.priority==="medium"?"text-orange-600":"text-blue-600"}`}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("p",{children:R.title}),i.jsx(Ye,{variant:R.priority==="high"?"destructive":R.priority==="medium"?"default":"secondary",children:R.priority})]}),i.jsx("p",{className:"text-sm text-gray-600",children:R.content}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[R.author,"  ",R.date]})]})]},R.id))})})]})]})})}function Z2(){const{user:t}=yt(),[e,r]=v.useState([]),[a,o]=v.useState(!0),[l,u]=v.useState([]);v.useEffect(()=>{(async()=>{if(!t?.id){o(!1);return}try{const[p,{grades:x}]=await Promise.all([sr(),Vh(t.id)]),g=Array.isArray(p)?p:p?.courses??[];u(g);const b=new Set((x||[]).map(C=>C.courseId)),w=g.filter(C=>b.has(C.id));r(w.length?w:g)}catch(p){console.error("Error fetching courses:",p)}finally{o(!1)}})()},[t?.id]);const h=v.useMemo(()=>t?.id?e.length===0&&l.length?"No enrolled courses found yet. Showing catalog instead.":"View your enrolled courses and schedules.":"Log in to view your course list.",[e.length,l.length,t?.id]);return a?i.jsx(ze,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("p",{children:"Loading..."})})}):i.jsx(ze,{children:i.jsxs("div",{className:"p-8 space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"My Courses"}),i.jsx("p",{className:"text-gray-600",children:h})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(f=>i.jsxs(te,{className:"hover:shadow-lg transition-shadow",children:[i.jsx(he,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx(fe,{children:f.name}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.code})]}),i.jsxs(Ye,{children:[f.credits," Credits"]})]})}),i.jsxs(ne,{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx(lk,{className:"size-4"}),i.jsx("span",{children:f.teacherName})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx(Fs,{className:"size-4"}),i.jsx("span",{children:f.schedule})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx(br,{className:"size-4"}),i.jsx("span",{children:"Computer Science Department"})]})]})]},f.id))})]})})}function O0({className:t,...e}){return i.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:i.jsx("table",{"data-slot":"table",className:Ve("w-full caption-bottom text-sm",t),...e})})}function L0({className:t,...e}){return i.jsx("thead",{"data-slot":"table-header",className:Ve("[&_tr]:border-b",t),...e})}function D0({className:t,...e}){return i.jsx("tbody",{"data-slot":"table-body",className:Ve("[&_tr:last-child]:border-0",t),...e})}function Ms({className:t,...e}){return i.jsx("tr",{"data-slot":"table-row",className:Ve("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function xr({className:t,...e}){return i.jsx("th",{"data-slot":"table-head",className:Ve("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function Nn({className:t,...e}){return i.jsx("td",{"data-slot":"table-cell",className:Ve("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function eT(){const{user:t}=yt(),[e,r]=v.useState([]),[a,o]=v.useState(!0);v.useEffect(()=>{(async()=>{if(!t?.id){o(!1);return}try{const{grades:h}=await Vh(t.id);r(h||[])}catch(h){console.error("Failed to load grades",h)}finally{o(!1)}})()},[t?.id]);const l=v.useMemo(()=>e.length?e.reduce((h,f)=>h+f.score/f.maxScore*100,0)/e.length:0,[e]);return a?i.jsx(ze,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("p",{children:"Loading results..."})})}):i.jsx(ze,{children:i.jsxs("div",{className:"p-8 space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"Results & Exams"}),i.jsx("p",{className:"text-gray-600",children:"View your grades and exam results."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Overall Average"}),i.jsx(Ci,{className:"size-4 text-yellow-600"})]}),i.jsxs(ne,{children:[i.jsxs("div",{className:"text-2xl",children:[l.toFixed(1),"%"]}),i.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[i.jsx(ss,{className:"inline size-3 text-green-600"})," Excellent performance"]})]})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Total Assessments"}),i.jsx(Ci,{className:"size-4 text-blue-600"})]}),i.jsxs(ne,{children:[i.jsx("div",{className:"text-2xl",children:e.length}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Completed this semester"})]})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Grade Distribution"}),i.jsx(Ci,{className:"size-4 text-green-600"})]}),i.jsxs(ne,{children:[i.jsx("div",{className:"text-2xl",children:l>=90?"A":l>=80?"B":l>=70?"C":l>=60?"D":"F"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Current grade average"})]})]})]}),i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"All Results"})}),i.jsx(ne,{children:i.jsxs(O0,{children:[i.jsx(L0,{children:i.jsxs(Ms,{children:[i.jsx(xr,{children:"Course"}),i.jsx(xr,{children:"Assessment Type"}),i.jsx(xr,{children:"Date"}),i.jsx(xr,{className:"text-right",children:"Score"}),i.jsx(xr,{className:"text-right",children:"Percentage"}),i.jsx(xr,{className:"text-right",children:"Grade"})]})}),i.jsx(D0,{children:e.length===0?i.jsx(Ms,{children:i.jsx(Nn,{colSpan:6,className:"text-center text-gray-500",children:"No assessments recorded yet."})}):e.map(u=>{const h=u.score/u.maxScore*100,f=h>=90?"A":h>=80?"B":h>=70?"C":h>=60?"D":"F";return i.jsxs(Ms,{children:[i.jsx(Nn,{children:u.courseName}),i.jsx(Nn,{children:u.examType}),i.jsx(Nn,{children:u.date}),i.jsxs(Nn,{className:"text-right",children:[u.score,"/",u.maxScore]}),i.jsxs(Nn,{className:"text-right",children:[h.toFixed(1),"%"]}),i.jsx(Nn,{className:"text-right",children:i.jsx(Ye,{variant:f==="A"?"default":f==="B"?"secondary":"outline",children:f})})]},u.id)})})]})})]})]})})}async function tT(){const[t,e,r,a,o,l,u,h,f,p,x]=await Promise.all([st($e.users),st($e.students),st($e.teachers),st($e.parents),st($e.courses),st($e.grades),st($e.attendance),st($e.announcements),st($e.events),st($e.finance),st($e.lessons)]);return{users:Object.fromEntries(t.map(b=>[b.id,b])),students:e,teachers:r,parents:a,courses:o,grades:l,attendance:u,announcements:h,events:f,finances:p,lessons:x}}const nT=await tT(),Qn={...nT};async function rT(t){const e=await it.from($e.finance).select("*").eq("studentId",t).maybeSingle();if(e.error)throw e.error;return e.data??null}async function sT(t,e){const r=Qn.finances.find(o=>o.studentId===t);if(!r)throw new Error("Finance record not found");const a=Math.min(e,r.due);return r.paid+=a,r.due=Math.max(0,r.totalFee-r.scholarship-r.paid),await it.from($e.finance).update({paid:r.paid,due:r.due}).eq("id",r.id),{...r}}async function iT(t){const e=to(),r={id:e,...t};if(await it.from($e.users).insert(r),Qn.users[e]=r,r.role==="student"){const a={id:e,name:r.name,email:r.email,role:"student",gradeLevel:"Unassigned",gpa:0,attendance:0};await it.from($e.students).insert(a),Qn.students.push(a)}return r}function aT(){const{user:t}=yt(),[e,r]=v.useState(null),[a,o]=v.useState(!1),l=v.useCallback(async f=>{try{const p=await rT(f);r(p?{...p}:null)}catch(p){console.error("Failed to load finance record",p),r(null)}},[]);v.useEffect(()=>{if(!t?.id){r(null);return}l(t.id)},[t?.id,l]);const u=e?e.paid/e.totalFee*100:0,h=async f=>{if(!e){Le.error("No finance record found");return}if(!a)try{o(!0);let p=0;if(f==="full")p=e.totalFee-e.scholarship-e.paid;else{const x=window.prompt("Enter amount to pay",String(e.due)),g=e.totalFee-e.scholarship-e.paid;p=Math.max(0,Math.min(Number(x||0),g))}if(!p||Number.isNaN(p)){Le.error("Please enter a valid amount");return}await sT(e.studentId,p),await l(e.studentId),Le.success("Payment recorded successfully")}catch(p){Le.error(p?.message||"Payment failed")}finally{o(!1)}};return e?i.jsx(ze,{children:i.jsxs("div",{className:"p-8 space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"Finance & Payments"}),i.jsx("p",{className:"text-gray-600",children:"Manage your tuition fees and payments."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Total Fee"}),i.jsx(Hs,{className:"size-4 text-blue-600"})]}),i.jsxs(ne,{children:[i.jsxs("div",{className:"text-2xl",children:["$",e?.totalFee?.toLocaleString?.()??0]}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:e?.semester??""})]})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Scholarship"}),i.jsx(Ci,{className:"size-4 text-yellow-600"})]}),i.jsxs(ne,{children:[i.jsxs("div",{className:"text-2xl text-green-600",children:["-$",e?.scholarship?.toLocaleString?.()??0]}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Merit-based award"})]})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Amount Paid"}),i.jsx(Qg,{className:"size-4 text-green-600"})]}),i.jsxs(ne,{children:[i.jsxs("div",{className:"text-2xl",children:["$",e?.paid?.toLocaleString?.()??0]}),i.jsx(Mi,{value:u,className:"mt-2"})]})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Balance Due"}),i.jsx(py,{className:"size-4 text-red-600"})]}),i.jsxs(ne,{children:[i.jsxs("div",{className:"text-2xl text-red-600",children:["$",e?.due?.toLocaleString?.()??0]}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Due by Dec 15, 2025"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Fee Breakdown"})}),i.jsxs(ne,{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center pb-3 border-b",children:[i.jsx("span",{className:"text-gray-600",children:"Tuition Fee"}),i.jsxs("span",{children:["$",e?.totalFee?.toLocaleString?.()??0]})]}),i.jsxs("div",{className:"flex justify-between items-center pb-3 border-b",children:[i.jsx("span",{className:"text-gray-600",children:"Scholarship Applied"}),i.jsxs("span",{className:"text-green-600",children:["-$",e?.scholarship?.toLocaleString?.()??0]})]}),i.jsxs("div",{className:"flex justify-between items-center pb-3 border-b",children:[i.jsx("span",{className:"text-gray-600",children:"Net Payable"}),i.jsxs("span",{children:["$",((e?.totalFee??0)-(e?.scholarship??0)).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between items-center pb-3 border-b",children:[i.jsx("span",{className:"text-gray-600",children:"Already Paid"}),i.jsxs("span",{className:"text-green-600",children:["$",e?.paid?.toLocaleString?.()??0]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2",children:[i.jsx("span",{children:"Outstanding Balance"}),i.jsxs("span",{className:"text-red-600",children:["$",e?.due?.toLocaleString?.()??0]})]})]})]}),i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Make a Payment"})}),i.jsxs(ne,{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsx("p",{className:"text-sm text-blue-900 mb-2",children:"Outstanding Balance"}),i.jsxs("p",{className:"text-2xl text-blue-900",children:["$",e?.due?.toLocaleString?.()??0]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ae,{className:"w-full",size:"lg",onClick:()=>h("full"),disabled:a,children:[i.jsx(Qg,{className:"mr-2 size-4"}),"Pay Full Amount"]}),i.jsx(Ae,{variant:"outline",className:"w-full",size:"lg",onClick:()=>h("custom"),disabled:a,children:"Pay Custom Amount"})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Payment Methods Accepted"}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsx(Ye,{variant:"outline",children:"Credit Card"}),i.jsx(Ye,{variant:"outline",children:"Debit Card"}),i.jsx(Ye,{variant:"outline",children:"Bank Transfer"}),i.jsx(Ye,{variant:"outline",children:"PayPal"})]})]})]})]})]})]})}):i.jsx(ze,{children:i.jsxs("div",{className:"p-8 space-y-4",children:[i.jsx("h1",{children:"Finance & Payments"}),i.jsx("p",{className:"text-gray-600",children:"No finance records are available for your account."})]})})}function oT(){const{user:t}=yt(),e=t?.role==="teacher"?t.id:null,[r,a]=v.useState([]),[o,l]=v.useState([]),[u,h]=v.useState([]),[f,p]=v.useState([]),[x,g]=v.useState(!0);v.useEffect(()=>{(async()=>{if(!e){a([]),l([]),h([]),p([]),g(!1);return}try{g(!0);const[E,S,N]=await Promise.all([sr(),Wx(e),ro()]),A=(Array.isArray(E)?E:E?.courses??[]).filter(T=>T.teacherId===e);a(A),l(S?.lessons??[]);const U=Array.isArray(N)?N:N?.announcements??[];if(h(U),A.length){const T=A.map(F=>F.id),O=await mc(T);p(O??[])}else p([])}catch(E){console.error("Failed to load teacher dashboard data:",E),a([]),l([]),h([]),p([])}finally{g(!1)}})()},[e]);const{totalStudents:b,upcomingLessons:w,pendingGrades:C}=v.useMemo(()=>{const j=new Set;r.forEach(R=>(R.studentIds||[]).forEach(A=>j.add(A)));const E=o.filter(R=>R.teacherId===e).filter(R=>new Date(R.date)>=new Date).sort((R,A)=>+new Date(R.date)-+new Date(A.date)).slice(0,4),S=f.reduce((R,A)=>{const U=R.get(A.courseId)??new Set;return U.add(A.studentId),R.set(A.courseId,U),R},new Map),N=r.reduce((R,A)=>{const U=A.studentIds||[];if(!U.length)return R;const T=S.get(A.id)??new Set,O=U.filter(F=>!T.has(F)).length;return R+O},0);return{totalStudents:j.size,upcomingLessons:E,pendingGrades:N}},[r,f,o,e]),_=u.slice(0,2);return x?i.jsx(ze,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("p",{children:"Loading teacher dashboard..."})})}):i.jsx(ze,{children:i.jsxs("div",{className:"p-8 space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"Teacher Dashboard"}),i.jsx("p",{className:"text-gray-600",children:"Manage your classes and track student progress."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Total Classes"}),i.jsx(br,{className:"size-4 text-blue-600"})]}),i.jsxs(ne,{children:[i.jsx("div",{className:"text-2xl",children:r.length}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Active courses"})]})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Total Students"}),i.jsx(Xn,{className:"size-4 text-green-600"})]}),i.jsxs(ne,{children:[i.jsx("div",{className:"text-2xl",children:b}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Across your classes"})]})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Pending Grading"}),i.jsx(OE,{className:"size-4 text-orange-600"})]}),i.jsxs(ne,{children:[i.jsx("div",{className:"text-2xl",children:C}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Student submissions pending"})]})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Upcoming Lessons"}),i.jsx(tr,{className:"size-4 text-purple-600"})]}),i.jsxs(ne,{children:[i.jsx("div",{className:"text-2xl",children:w.length}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Upcoming lessons"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"My Courses"})}),i.jsx(ne,{children:i.jsx("div",{className:"space-y-4",children:r.map(j=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{children:j.name}),i.jsxs("p",{className:"text-sm text-gray-600",children:[j.code,"  ",j.schedule]})]}),i.jsxs(Ye,{children:[j.credits," credits"]})]},j.id))})})]}),i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Upcoming Lessons"})}),i.jsx(ne,{children:i.jsx("div",{className:"space-y-4",children:w.map(j=>i.jsxs("div",{className:"flex gap-4 p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center bg-blue-100 rounded-lg p-3 min-w-16",children:[i.jsx("div",{className:"text-blue-600",children:new Date(j.date).getDate()}),i.jsx("div",{className:"text-xs text-blue-600",children:new Date(j.date).toLocaleDateString("en-US",{month:"short"})})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"truncate",children:j.title}),i.jsx("p",{className:"text-sm text-gray-600",children:j.courseName}),i.jsxs("p",{className:"text-sm text-gray-600",children:[j.time,"  Room ",j.room]})]})]},j.id))})})]})]}),i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Recent Announcements"})}),i.jsx(ne,{children:i.jsx("div",{className:"space-y-3",children:_.map(j=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("p",{children:j.title}),i.jsx(Ye,{children:j.priority})]}),i.jsx("p",{className:"text-sm text-gray-600",children:j.content}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:j.date})]},j.id))})})]})]})})}function lT(t,e){return v.useReducer((r,a)=>e[r][a]??r,t)}var ao=t=>{const{present:e,children:r}=t,a=cT(e),o=typeof r=="function"?r({present:a.isPresent}):v.Children.only(r),l=dt(a.ref,uT(o));return typeof r=="function"||a.isPresent?v.cloneElement(o,{ref:l}):null};ao.displayName="Presence";function cT(t){const[e,r]=v.useState(),a=v.useRef(null),o=v.useRef(t),l=v.useRef("none"),u=t?"mounted":"unmounted",[h,f]=lT(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const p=Fl(a.current);l.current=h==="mounted"?p:"none"},[h]),Nt(()=>{const p=a.current,x=o.current;if(x!==t){const b=l.current,w=Fl(p);t?f("MOUNT"):w==="none"||p?.display==="none"?f("UNMOUNT"):f(x&&b!==w?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,f]),Nt(()=>{if(e){let p;const x=e.ownerDocument.defaultView??window,g=w=>{const _=Fl(a.current).includes(CSS.escape(w.animationName));if(w.target===e&&_&&(f("ANIMATION_END"),!o.current)){const j=e.style.animationFillMode;e.style.animationFillMode="forwards",p=x.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=j)})}},b=w=>{w.target===e&&(l.current=Fl(a.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{x.clearTimeout(p),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:v.useCallback(p=>{a.current=p?getComputedStyle(p):null,r(p)},[])}}function Fl(t){return t?.animationName||"none"}function uT(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function dT(t){const e=hT(t),r=v.forwardRef((a,o)=>{const{children:l,...u}=a,h=v.Children.toArray(l),f=h.find(pT);if(f){const p=f.props.children,x=h.map(g=>g===f?v.Children.count(p)>1?v.Children.only(null):v.isValidElement(p)?p.props.children:null:g);return i.jsx(e,{...u,ref:o,children:v.isValidElement(p)?v.cloneElement(p,void 0,x):null})}return i.jsx(e,{...u,ref:o,children:l})});return r.displayName=`${t}.Slot`,r}function hT(t){const e=v.forwardRef((r,a)=>{const{children:o,...l}=r;if(v.isValidElement(o)){const u=gT(o),h=mT(l,o.props);return o.type!==v.Fragment&&(h.ref=a?Vi(a,u):u),v.cloneElement(o,h)}return v.Children.count(o)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var fT=Symbol("radix.slottable");function pT(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===fT}function mT(t,e){const r={...e};for(const a in e){const o=t[a],l=e[a];/^on[A-Z]/.test(a)?o&&l?r[a]=(...h)=>{const f=l(...h);return o(...h),f}:o&&(r[a]=o):a==="style"?r[a]={...o,...l}:a==="className"&&(r[a]=[o,l].filter(Boolean).join(" "))}return{...t,...r}}function gT(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Ec="Dialog",[M0]=qi(Ec),[vT,Wn]=M0(Ec),$0=t=>{const{__scopeDialog:e,children:r,open:a,defaultOpen:o,onOpenChange:l,modal:u=!0}=t,h=v.useRef(null),f=v.useRef(null),[p,x]=Ya({prop:a,defaultProp:o??!1,onChange:l,caller:Ec});return i.jsx(vT,{scope:e,triggerRef:h,contentRef:f,contentId:rs(),titleId:rs(),descriptionId:rs(),open:p,onOpenChange:x,onOpenToggle:v.useCallback(()=>x(g=>!g),[x]),modal:u,children:r})};$0.displayName=Ec;var F0="DialogTrigger",z0=v.forwardRef((t,e)=>{const{__scopeDialog:r,...a}=t,o=Wn(F0,r),l=dt(e,o.triggerRef);return i.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":vf(o.open),...a,ref:l,onClick:Be(t.onClick,o.onOpenToggle)})});z0.displayName=F0;var mf="DialogPortal",[xT,U0]=M0(mf,{forceMount:void 0}),B0=t=>{const{__scopeDialog:e,forceMount:r,children:a,container:o}=t,l=Wn(mf,e);return i.jsx(xT,{scope:e,forceMount:r,children:v.Children.map(a,u=>i.jsx(ao,{present:r||l.open,children:i.jsx(lf,{asChild:!0,container:o,children:u})}))})};B0.displayName=mf;var ic="DialogOverlay",V0=v.forwardRef((t,e)=>{const r=U0(ic,t.__scopeDialog),{forceMount:a=r.forceMount,...o}=t,l=Wn(ic,t.__scopeDialog);return l.modal?i.jsx(ao,{present:a||l.open,children:i.jsx(wT,{...o,ref:e})}):null});V0.displayName=ic;var yT=dT("DialogOverlay.RemoveScroll"),wT=v.forwardRef((t,e)=>{const{__scopeDialog:r,...a}=t,o=Wn(ic,r);return i.jsx(cf,{as:yT,allowPinchZoom:!0,shards:[o.contentRef],children:i.jsx(Ge.div,{"data-state":vf(o.open),...a,ref:e,style:{pointerEvents:"auto",...a.style}})})}),Ws="DialogContent",W0=v.forwardRef((t,e)=>{const r=U0(Ws,t.__scopeDialog),{forceMount:a=r.forceMount,...o}=t,l=Wn(Ws,t.__scopeDialog);return i.jsx(ao,{present:a||l.open,children:l.modal?i.jsx(bT,{...o,ref:e}):i.jsx(jT,{...o,ref:e})})});W0.displayName=Ws;var bT=v.forwardRef((t,e)=>{const r=Wn(Ws,t.__scopeDialog),a=v.useRef(null),o=dt(e,r.contentRef,a);return v.useEffect(()=>{const l=a.current;if(l)return Wy(l)},[]),i.jsx(H0,{...t,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Be(t.onCloseAutoFocus,l=>{l.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Be(t.onPointerDownOutside,l=>{const u=l.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0;(u.button===2||h)&&l.preventDefault()}),onFocusOutside:Be(t.onFocusOutside,l=>l.preventDefault())})}),jT=v.forwardRef((t,e)=>{const r=Wn(Ws,t.__scopeDialog),a=v.useRef(!1),o=v.useRef(!1);return i.jsx(H0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||r.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=l.target;r.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),H0=v.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:l,...u}=t,h=Wn(Ws,r),f=v.useRef(null),p=dt(e,f);return xy(),i.jsxs(i.Fragment,{children:[i.jsx(Xh,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:l,children:i.jsx(Qh,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":vf(h.open),...u,ref:p,onDismiss:()=>h.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(_T,{titleId:h.titleId}),i.jsx(ET,{contentRef:f,descriptionId:h.descriptionId})]})]})}),gf="DialogTitle",q0=v.forwardRef((t,e)=>{const{__scopeDialog:r,...a}=t,o=Wn(gf,r);return i.jsx(Ge.h2,{id:o.titleId,...a,ref:e})});q0.displayName=gf;var G0="DialogDescription",ST=v.forwardRef((t,e)=>{const{__scopeDialog:r,...a}=t,o=Wn(G0,r);return i.jsx(Ge.p,{id:o.descriptionId,...a,ref:e})});ST.displayName=G0;var K0="DialogClose",J0=v.forwardRef((t,e)=>{const{__scopeDialog:r,...a}=t,o=Wn(K0,r);return i.jsx(Ge.button,{type:"button",...a,ref:e,onClick:Be(t.onClick,()=>o.onOpenChange(!1))})});J0.displayName=K0;function vf(t){return t?"open":"closed"}var Y0="DialogTitleWarning",[CA,Q0]=zk(Y0,{contentName:Ws,titleName:gf,docsSlug:"dialog"}),_T=({titleId:t})=>{const e=Q0(Y0),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},NT="DialogDescriptionWarning",ET=({contentRef:t,descriptionId:e})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Q0(NT).contentName}}.`;return v.useEffect(()=>{const o=t.current?.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(a))},[a,t,e]),null},kT=$0,CT=z0,RT=B0,X0=V0,Z0=W0,PT=q0,TT=J0;function ac({...t}){return i.jsx(kT,{"data-slot":"dialog",...t})}function xf({...t}){return i.jsx(CT,{"data-slot":"dialog-trigger",...t})}function AT({...t}){return i.jsx(RT,{"data-slot":"dialog-portal",...t})}const ew=v.forwardRef(({className:t,...e},r)=>i.jsx(X0,{ref:r,"data-slot":"dialog-overlay",className:Ve("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));ew.displayName=X0.displayName;const Qa=v.forwardRef(({className:t,children:e,...r},a)=>{const{["aria-describedby"]:o,...l}=r;return i.jsxs(AT,{"data-slot":"dialog-portal",children:[i.jsx(ew,{}),i.jsxs(Z0,{ref:a,"data-slot":"dialog-content",className:Ve("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),"aria-describedby":o??void 0,...l,children:[e,i.jsxs(TT,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[i.jsx(dk,{}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]})});Qa.displayName=Z0.displayName;function oc({className:t,...e}){return i.jsx("div",{"data-slot":"dialog-header",className:Ve("flex flex-col gap-2 text-center sm:text-left",t),...e})}function lc({className:t,...e}){return i.jsx(PT,{"data-slot":"dialog-title",className:Ve("text-lg leading-none font-semibold",t),...e})}function kc({className:t,...e}){return i.jsx("textarea",{"data-slot":"textarea",className:Ve("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function IT(){const{user:t}=yt(),[e,r]=v.useState([]),[a,o]=v.useState([]),[l,u]=v.useState(!0),[h,f]=v.useState(!1),[p,x]=v.useState({courseId:"",title:"",description:"",date:"",time:"",room:""});v.useEffect(()=>{if(!t?.id){r([]);return}g(),b(t.id)},[t?.id]);const g=async()=>{try{const E=await sr();o(Array.isArray(E)?E:E?.courses??[])}catch(E){console.error("Error loading courses:",E),Le.error("Failed to load courses")}},b=async E=>{try{u(!0);const{lessons:S}=await Wx(E);r(S??[])}catch(S){console.error("Error loading lessons:",S),Le.error("Failed to load lessons")}finally{u(!1)}},w=async E=>{E.preventDefault();const S=a.find(N=>N.id===p.courseId);if(S){if(!t?.id){Le.error("User context missing");return}try{const{lesson:N}=await xN({courseId:p.courseId,courseName:S.name,title:p.title,description:p.description,date:p.date,room:p.room,teacherId:t.id});r([N,...e]),Le.success("Lesson created successfully"),f(!1),x({courseId:"",title:"",description:"",date:"",time:"",room:""})}catch(N){console.error("Error creating lesson:",N),Le.error("Failed to create lesson")}}},C=a.filter(E=>E.teacherId===t?.id),_=e.filter(E=>new Date(E.date)>=new Date),j=e.filter(E=>new Date(E.date)<new Date);return i.jsx(ze,{children:i.jsxs("div",{className:"p-8 space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"My Lessons"}),i.jsx("p",{className:"text-gray-600",children:"Manage your class schedule and lessons."})]}),i.jsxs(ac,{open:h,onOpenChange:f,children:[i.jsx(xf,{asChild:!0,children:i.jsxs(Ae,{children:[i.jsx(Kh,{className:"mr-2 size-4"}),"Create Lesson"]})}),i.jsxs(Qa,{children:[i.jsx(oc,{children:i.jsx(lc,{children:"Create New Lesson"})}),i.jsxs("form",{onSubmit:w,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Ke,{htmlFor:"course",children:"Course"}),i.jsxs(Pt,{value:p.courseId,onValueChange:E=>x({...p,courseId:E}),disabled:C.length===0,children:[i.jsx(At,{children:i.jsx(Tt,{placeholder:C.length?"Select a course":"No courses available"})}),i.jsx(It,{children:C.map(E=>i.jsxs(Re,{value:E.id,children:[E.code," - ",E.name]},E.id))})]})]}),i.jsxs("div",{children:[i.jsx(Ke,{htmlFor:"title",children:"Lesson Title"}),i.jsx(qe,{id:"title",value:p.title,onChange:E=>x({...p,title:E.target.value}),placeholder:"e.g., Introduction to Arrays",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Ke,{htmlFor:"date",children:"Date"}),i.jsx(qe,{id:"date",type:"date",value:p.date,onChange:E=>x({...p,date:E.target.value}),required:!0})]}),i.jsxs("div",{children:[i.jsx(Ke,{htmlFor:"time",children:"Time"}),i.jsx(qe,{id:"time",value:p.time,onChange:E=>x({...p,time:E.target.value}),placeholder:"10:00 AM",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Ke,{htmlFor:"room",children:"Room"}),i.jsx(qe,{id:"room",value:p.room,onChange:E=>x({...p,room:E.target.value}),placeholder:"CS-101",required:!0})]}),i.jsxs("div",{children:[i.jsx(Ke,{htmlFor:"description",children:"Description"}),i.jsx(kc,{id:"description",value:p.description,onChange:E=>x({...p,description:E.target.value}),placeholder:"Brief overview or resources for the lesson",rows:3})]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(Ae,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),i.jsx(Ae,{type:"submit",disabled:!p.courseId,children:"Create Lesson"})]})]})]})]})]}),l?i.jsx(te,{children:i.jsx(ne,{className:"p-12 text-center",children:i.jsx("p",{className:"text-gray-600",children:"Loading lessons..."})})}):i.jsxs(i.Fragment,{children:[i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Upcoming Lessons"})}),i.jsx(ne,{children:_.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(br,{className:"size-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 mb-2",children:"No upcoming lessons"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Create a new lesson to get started."})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.map(E=>i.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"mb-1",children:E.title}),i.jsx("p",{className:"text-sm text-gray-600",children:E.courseName})]}),i.jsx(Ye,{children:"Upcoming"})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(tr,{className:"size-4"}),i.jsx("span",{children:new Date(E.date).toLocaleDateString()})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Fs,{className:"size-4"}),i.jsx("span",{children:E.time})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(qh,{className:"size-4"}),i.jsx("span",{children:E.room})]})]})]},E.id))})})]}),i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Past Lessons"})}),i.jsx(ne,{children:j.length===0?i.jsx("p",{className:"text-gray-600 text-center py-6",children:"No past lessons recorded yet."}):i.jsx("div",{className:"space-y-4",children:j.map(E=>i.jsxs("div",{className:"flex items-start justify-between border rounded-lg p-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"mb-1",children:E.title}),i.jsx("p",{className:"text-sm text-gray-600",children:E.courseName}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:E.description})]}),i.jsxs("div",{className:"text-sm text-right text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[i.jsx(tr,{className:"size-4"}),i.jsx("span",{children:new Date(E.date).toLocaleDateString()})]}),i.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[i.jsx(Fs,{className:"size-4"}),i.jsx("span",{children:E.time})]})]})]},E.id))})})]})]})]})})}const yf=t=>{if(Array.isArray(t))return t.map(e=>`${e}`.trim()).filter(e=>e.length>0);if(typeof t=="string"){const e=t.trim();if(!e)return[];try{const r=JSON.parse(e);if(Array.isArray(r))return r.map(a=>`${a}`.trim()).filter(a=>a.length>0)}catch{}return e.split(",").map(r=>r.replace(/[\[\]\{\}"]/g,"").trim()).filter(r=>r.length>0)}return[]},OT=()=>new Date().toISOString().slice(0,10);function LT(){const{user:t}=yt(),e=t?.role==="teacher",[r,a]=v.useState([]),[o,l]=v.useState([]),[u,h]=v.useState({}),[f,p]=v.useState({}),[x,g]=v.useState("all"),[b]=v.useState(OT()),[w,C]=v.useState(""),[_,j]=v.useState("all"),[E,S]=v.useState(!0),[N,R]=v.useState(null),A=x==="all"?null:o.find(H=>H.id===x)??null;v.useEffect(()=>{U()},[t?.id]),v.useEffect(()=>{if(x==="all")return;o.some(re=>re.id===x)||g("all")},[o,x]);const U=async()=>{if(!t?.id){a([]),l([]),h({}),p({}),S(!1);return}try{S(!0);const[H,re]=await Promise.all([Bi(),sr()]),ce=Array.isArray(H)?H:H?.students??[],J=(Array.isArray(re)?re:re?.courses??[]).map(M=>({...M,studentIds:yf(M.studentIds)}));if(e){const M=J.filter(ge=>ge.teacherId===t.id),X=M.length?M:J;l(X);const Y=X.map(ge=>ge.id),L=Y.length?await mc(Y):[],q=Array.isArray(L)?L:[],K={};X.forEach(ge=>{K[ge.id]=ge.studentIds??[]});const oe={};q.forEach(ge=>{if(!ge.courseId||!ge.studentId)return;K[ge.courseId]||(K[ge.courseId]=[]),K[ge.courseId].includes(ge.studentId)||K[ge.courseId].push(ge.studentId),oe[ge.studentId]||(oe[ge.studentId]={}),oe[ge.studentId][ge.courseId]||(oe[ge.studentId][ge.courseId]={sum:0,count:0});const Ze=ge.maxScore?ge.score/ge.maxScore*100:ge.score;oe[ge.studentId][ge.courseId].sum+=Ze,oe[ge.studentId][ge.courseId].count+=1});const G={};Object.entries(oe).forEach(([ge,Ze])=>{G[ge]={},Object.entries(Ze).forEach(([mn,tn])=>{G[ge][mn]=tn.count>0?tn.sum/tn.count:0})});const Q=new Set;Object.values(K).forEach(ge=>ge.forEach(Ze=>Q.add(Ze)));const V=Array.from(Q).filter(ge=>!ce.some(Ze=>Ze.id===ge)),ie=V.length?await cs(V):[],be=[...ce,...ie],Se=new Map(be.map(ge=>[ge.id,ge])),Ie={};Object.entries(K).forEach(([ge,Ze])=>{Ie[ge]=Ze.map(mn=>Se.get(mn)).filter(Boolean)});const De=Array.from(new Map(Object.values(Ie).flat().map(ge=>[ge.id,ge])).values());h(Ie),a(De),p(G);return}l(J);const ae=J.reduce((M,X)=>{const Y=X.studentIds??[];return M[X.id]=Y.map(L=>ce.find(q=>q.id===L)).filter(Boolean),M},{});h(ae),p({}),a(ce)}catch(H){console.error("Error loading teacher data:",H),Le.error("Failed to load students or courses")}finally{S(!1)}},T=H=>{const re=f[H];if(!re)return null;if(x!=="all"){const me=re[x];if(typeof me=="number")return me}const ce=Object.values(re);return ce.length?ce.reduce((me,J)=>me+J,0)/ce.length:null},O=v.useMemo(()=>{let H=x==="all"?[...r]:[...u[x]?.length?u[x]:[]];if(w.trim()){const re=w.trim().toLowerCase();H=H.filter(ce=>ce.name.toLowerCase().includes(re)||ce.email.toLowerCase().includes(re)||ce.gradeLevel.toLowerCase().includes(re))}return _!=="all"&&(H=H.filter(re=>{const ce=T(re.id);return ce==null?!1:_==="90"?ce>=90:_==="80"?ce>=80&&ce<90:_==="70"?ce>=70&&ce<80:ce<70})),H},[r,x,u,w,_]),F=H=>typeof H!="number"?{variant:"outline",label:"No grades yet"}:H>=90?{variant:"default",label:"Excellent"}:H>=80?{variant:"secondary",label:"Strong"}:H>=70?{variant:"outline",label:"Watchlist"}:{variant:"destructive",label:"At Risk"},$=async(H,re)=>{if(!A){Le.error("Please select a class before marking attendance");return}if(!b){Le.error("Select a date before marking attendance");return}const ce=`${H}-${re}`;R(ce);try{await Hx({studentId:H,lessonId:`${A.id}-${b}`,courseId:A.id,courseName:A.name,date:b,status:re}),Le.success(`Marked ${re} for ${A.name}`)}catch(me){console.error("Failed to save attendance:",me),Le.error("Could not save attendance")}finally{R(null)}},Z=!A||!b;return i.jsx(ze,{children:i.jsxs("div",{className:"p-8 space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"My Students"}),i.jsx("p",{className:"text-gray-600",children:"Take attendance by class and keep student records in sync."})]}),i.jsx(Ae,{variant:"outline",onClick:U,disabled:E,children:"Refresh Data"})]}),i.jsx(te,{children:i.jsxs(ne,{className:"space-y-4 p-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Jh,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-gray-400"}),i.jsx(qe,{placeholder:"Search students by name, email, or grade level...",value:w,onChange:H=>C(H.target.value),className:"pl-10"})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{children:"Class"}),i.jsxs(Pt,{value:x,onValueChange:H=>g(H),disabled:!o.length,children:[i.jsx(At,{children:i.jsx(Tt,{placeholder:o.length?"Select a class":"No classes assigned"})}),i.jsxs(It,{children:[i.jsx(Re,{value:"all",children:"All classes"}),o.map(H=>i.jsxs(Re,{value:H.id,children:[H.code,"  ",H.name]},H.id))]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{children:"Cumulative Grade"}),i.jsxs(Pt,{value:_,onValueChange:H=>j(H),children:[i.jsx(At,{children:i.jsx(Tt,{placeholder:"All grades"})}),i.jsxs(It,{children:[i.jsx(Re,{value:"all",children:"All grades"}),i.jsx(Re,{value:"90",children:"90% and above"}),i.jsx(Re,{value:"80",children:"80% - 89%"}),i.jsx(Re,{value:"70",children:"70% - 79%"}),i.jsx(Re,{value:"below70",children:"Below 70%"})]})]})]})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"Attendance entries are stored via the shared API. Students see updates instantly on their pages."})]})}),E?i.jsx(te,{children:i.jsx(ne,{className:"p-12 text-center",children:i.jsx("p",{className:"text-gray-600",children:"Loading students..."})})}):O.length===0?i.jsx(te,{children:i.jsx(ne,{className:"p-12 text-center",children:i.jsx("p",{className:"text-gray-600",children:o.length?"No students match your filters.":"No classes or students are assigned to your account yet."})})}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:O.map(H=>{const re=T(H.id),ce=F(re);return i.jsxs(te,{children:[i.jsx(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(Oi,{className:"size-12",children:[i.jsx(Li,{src:H.avatar,alt:H.name}),i.jsx(Di,{children:H.name?.slice(0,2).toUpperCase()})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg",children:H.name}),i.jsxs("div",{className:"flex gap-2 text-xs text-gray-600",children:[i.jsx("span",{children:H.gradeLevel}),i.jsx(Ye,{variant:"secondary",children:H.gradeLevel})]})]})]})}),i.jsxs(ne,{className:"p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Academic Performance"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[i.jsxs("p",{className:"text-xs text-gray-600 mb-1",children:["Cumulative Grade",x==="all"?" (avg)":""]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:typeof re=="number"?`${re.toFixed(1)}%`:"N/A"}),i.jsx(ss,{className:"size-3 text-green-600"})]})]}),i.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Attendance"}),i.jsxs("span",{children:[H.attendance??"--","%"]})]})]}),i.jsx("div",{className:"mt-2",children:i.jsx(Ye,{variant:ce.variant,children:ce.label})})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[i.jsx(so,{className:"size-4 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:H.email})]}),H.phone&&i.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[i.jsx(Gh,{className:"size-4 flex-shrink-0"}),i.jsx("span",{children:H.phone})]})]}),i.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:["present","late","absent"].map(me=>{const J=`${H.id}-${me}`,ae={present:{label:"Mark Present",className:"bg-green-600 hover:bg-green-700"},late:{label:"Mark Late",className:"bg-amber-600 hover:bg-amber-700"},absent:{label:"Mark Absent",className:"bg-red-600 hover:bg-red-700"}}[me];return i.jsx("button",{className:`text-xs px-3 py-2 rounded text-white transition ${ae.className} disabled:opacity-60`,disabled:Z||N===J,onClick:()=>$(H.id,me),children:N===J?"Saving...":ae.label},me)})})]})]},H.id)})})]})})}var Bd="rovingFocusGroup.onEntryFocus",DT={bubbles:!1,cancelable:!0},oo="RovingFocusGroup",[bh,tw,MT]=my(oo),[$T,nw]=qi(oo,[MT]),[FT,zT]=$T(oo),rw=v.forwardRef((t,e)=>i.jsx(bh.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(bh.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(UT,{...t,ref:e})})}));rw.displayName=oo;var UT=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:o=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:x=!1,...g}=t,b=v.useRef(null),w=dt(e,b),C=Yh(l),[_,j]=Ya({prop:u,defaultProp:h??null,onChange:f,caller:oo}),[E,S]=v.useState(!1),N=Sr(p),R=tw(r),A=v.useRef(!1),[U,T]=v.useState(0);return v.useEffect(()=>{const O=b.current;if(O)return O.addEventListener(Bd,N),()=>O.removeEventListener(Bd,N)},[N]),i.jsx(FT,{scope:r,orientation:a,dir:C,loop:o,currentTabStopId:_,onItemFocus:v.useCallback(O=>j(O),[j]),onItemShiftTab:v.useCallback(()=>S(!0),[]),onFocusableItemAdd:v.useCallback(()=>T(O=>O+1),[]),onFocusableItemRemove:v.useCallback(()=>T(O=>O-1),[]),children:i.jsx(Ge.div,{tabIndex:E||U===0?-1:0,"data-orientation":a,...g,ref:w,style:{outline:"none",...t.style},onMouseDown:Be(t.onMouseDown,()=>{A.current=!0}),onFocus:Be(t.onFocus,O=>{const F=!A.current;if(O.target===O.currentTarget&&F&&!E){const $=new CustomEvent(Bd,DT);if(O.currentTarget.dispatchEvent($),!$.defaultPrevented){const Z=R().filter(J=>J.focusable),H=Z.find(J=>J.active),re=Z.find(J=>J.id===_),me=[H,re,...Z].filter(Boolean).map(J=>J.ref.current);aw(me,x)}}A.current=!1}),onBlur:Be(t.onBlur,()=>S(!1))})})}),sw="RovingFocusGroupItem",iw=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:o=!1,tabStopId:l,children:u,...h}=t,f=rs(),p=l||f,x=zT(sw,r),g=x.currentTabStopId===p,b=tw(r),{onFocusableItemAdd:w,onFocusableItemRemove:C,currentTabStopId:_}=x;return v.useEffect(()=>{if(a)return w(),()=>C()},[a,w,C]),i.jsx(bh.ItemSlot,{scope:r,id:p,focusable:a,active:o,children:i.jsx(Ge.span,{tabIndex:g?0:-1,"data-orientation":x.orientation,...h,ref:e,onMouseDown:Be(t.onMouseDown,j=>{a?x.onItemFocus(p):j.preventDefault()}),onFocus:Be(t.onFocus,()=>x.onItemFocus(p)),onKeyDown:Be(t.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){x.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const E=WT(j,x.orientation,x.dir);if(E!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let N=b().filter(R=>R.focusable).map(R=>R.ref.current);if(E==="last")N.reverse();else if(E==="prev"||E==="next"){E==="prev"&&N.reverse();const R=N.indexOf(j.currentTarget);N=x.loop?HT(N,R+1):N.slice(R+1)}setTimeout(()=>aw(N))}}),children:typeof u=="function"?u({isCurrentTabStop:g,hasTabStop:_!=null}):u})})});iw.displayName=sw;var BT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function VT(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function WT(t,e,r){const a=VT(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return BT[a]}function aw(t,e=!1){const r=document.activeElement;for(const a of t)if(a===r||(a.focus({preventScroll:e}),document.activeElement!==r))return}function HT(t,e){return t.map((r,a)=>t[(e+a)%t.length])}var qT=rw,GT=iw,Cc="Tabs",[KT]=qi(Cc,[nw]),ow=nw(),[JT,wf]=KT(Cc),lw=v.forwardRef((t,e)=>{const{__scopeTabs:r,value:a,onValueChange:o,defaultValue:l,orientation:u="horizontal",dir:h,activationMode:f="automatic",...p}=t,x=Yh(h),[g,b]=Ya({prop:a,onChange:o,defaultProp:l??"",caller:Cc});return i.jsx(JT,{scope:r,baseId:rs(),value:g,onValueChange:b,orientation:u,dir:x,activationMode:f,children:i.jsx(Ge.div,{dir:x,"data-orientation":u,...p,ref:e})})});lw.displayName=Cc;var cw="TabsList",uw=v.forwardRef((t,e)=>{const{__scopeTabs:r,loop:a=!0,...o}=t,l=wf(cw,r),u=ow(r);return i.jsx(qT,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:a,children:i.jsx(Ge.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:e})})});uw.displayName=cw;var dw="TabsTrigger",hw=v.forwardRef((t,e)=>{const{__scopeTabs:r,value:a,disabled:o=!1,...l}=t,u=wf(dw,r),h=ow(r),f=mw(u.baseId,a),p=gw(u.baseId,a),x=a===u.value;return i.jsx(GT,{asChild:!0,...h,focusable:!o,active:x,children:i.jsx(Ge.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":p,"data-state":x?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...l,ref:e,onMouseDown:Be(t.onMouseDown,g=>{!o&&g.button===0&&g.ctrlKey===!1?u.onValueChange(a):g.preventDefault()}),onKeyDown:Be(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&u.onValueChange(a)}),onFocus:Be(t.onFocus,()=>{const g=u.activationMode!=="manual";!x&&!o&&g&&u.onValueChange(a)})})})});hw.displayName=dw;var fw="TabsContent",pw=v.forwardRef((t,e)=>{const{__scopeTabs:r,value:a,forceMount:o,children:l,...u}=t,h=wf(fw,r),f=mw(h.baseId,a),p=gw(h.baseId,a),x=a===h.value,g=v.useRef(x);return v.useEffect(()=>{const b=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(b)},[]),i.jsx(ao,{present:o||x,children:({present:b})=>i.jsx(Ge.div,{"data-state":x?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":f,hidden:!b,id:p,tabIndex:0,...u,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:b&&l})})});pw.displayName=fw;function mw(t,e){return`${t}-trigger-${e}`}function gw(t,e){return`${t}-content-${e}`}var YT=lw,QT=uw,XT=hw,ZT=pw;function Rc({className:t,...e}){return i.jsx(YT,{"data-slot":"tabs",className:Ve("flex flex-col gap-2",t),...e})}function Pc({className:t,...e}){return i.jsx(QT,{"data-slot":"tabs-list",className:Ve("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function kn({className:t,...e}){return i.jsx(XT,{"data-slot":"tabs-trigger",className:Ve("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function fn({className:t,...e}){return i.jsx(ZT,{"data-slot":"tabs-content",className:Ve("flex-1 outline-none",t),...e})}function eA(){const{user:t}=yt(),[e,r]=v.useState(!1),[a,o]=v.useState([]),[l,u]=v.useState([]),[h,f]=v.useState(!0),[p,x]=v.useState({courseId:"",title:"",type:"exam",date:"",totalPoints:"",description:""}),g=v.useMemo(()=>l.filter(S=>S.teacherId===t?.id),[l,t?.id]);v.useEffect(()=>{(async()=>{if(!t?.id){f(!1);return}try{f(!0);const N=await sr(),A=(Array.isArray(N)?N:N?.courses??[]).filter(F=>F.teacherId===t.id);if(u(A),A.length===0){o([]);return}const U=await mc(A.map(F=>F.id)),T=F=>{switch(F?.toLowerCase()){case"assignment":return"assignment";case"quiz":return"quiz";case"project":return"project";default:return"exam"}},O=(U??[]).map(F=>{const $=F.date?new Date(F.date):new Date,Z=new Date;let H="completed";return $.toDateString()===Z.toDateString()?H="active":$>Z&&(H="upcoming"),{id:F.id,courseId:F.courseId,courseName:F.courseName,title:F.examType||"Assessment",type:T(F.examType),date:F.date,totalPoints:F.maxScore??100,description:"Grade recorded in Supabase",status:H}});o(O)}catch(N){console.error("Failed to load teacher assessments:",N),Le.error("Unable to load exams for your courses."),o([])}finally{f(!1)}})()},[t?.id]);const b=S=>{S.preventDefault();const N=g.find(A=>A.id===p.courseId);if(!N)return;const R={id:`exam${Date.now()}`,courseId:p.courseId,courseName:N.name,title:p.title,type:p.type,date:p.date,totalPoints:parseInt(p.totalPoints),description:p.description,status:new Date(p.date)>new Date?"upcoming":"active"};o([...a,R]),Le.info("Assessment added locally. Connect backend endpoint to persist definitions."),r(!1),x({courseId:"",title:"",type:"exam",date:"",totalPoints:"",description:""})},w=a.filter(S=>S.status==="upcoming"),C=a.filter(S=>S.status==="active"),_=a.filter(S=>S.status==="completed"),j=S=>{switch(S){case"exam":return"bg-red-100 text-red-800";case"assignment":return"bg-blue-100 text-blue-800";case"quiz":return"bg-green-100 text-green-800";case"project":return"bg-purple-100 text-purple-800"}},E=({exam:S})=>i.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"mb-1",children:S.title}),i.jsx("p",{className:"text-sm text-gray-600",children:S.courseName})]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${j(S.type)}`,children:S.type})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:S.description}),i.jsx("div",{className:"flex items-center justify-between text-sm",children:i.jsxs("div",{className:"flex items-center gap-4 text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(tr,{className:"size-4"}),i.jsx("span",{children:new Date(S.date).toLocaleDateString()})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ci,{className:"size-4"}),i.jsxs("span",{children:[S.totalPoints," points"]})]})]})})]});return h?i.jsx(ze,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("p",{children:"Loading assessments..."})})}):i.jsx(ze,{children:i.jsxs("div",{className:"p-8 space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"Exams & Assignments"}),i.jsx("p",{className:"text-gray-600",children:"Create and manage assessments for your courses."})]}),i.jsxs(ac,{open:e,onOpenChange:r,children:[i.jsx(xf,{asChild:!0,children:i.jsxs(Ae,{children:[i.jsx(Kh,{className:"mr-2 size-4"}),"Create Assessment"]})}),i.jsxs(Qa,{className:"max-w-2xl",children:[i.jsx(oc,{children:i.jsx(lc,{children:"Create New Assessment"})}),i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Ke,{htmlFor:"course",children:"Course"}),i.jsxs(Pt,{value:p.courseId,onValueChange:S=>x({...p,courseId:S}),children:[i.jsx(At,{children:i.jsx(Tt,{placeholder:"Select a course"})}),i.jsx(It,{children:g.map(S=>i.jsxs(Re,{value:S.id,children:[S.code," - ",S.name]},S.id))})]})]}),i.jsxs("div",{children:[i.jsx(Ke,{htmlFor:"type",children:"Type"}),i.jsxs(Pt,{value:p.type,onValueChange:S=>x({...p,type:S}),children:[i.jsx(At,{children:i.jsx(Tt,{})}),i.jsxs(It,{children:[i.jsx(Re,{value:"exam",children:"Exam"}),i.jsx(Re,{value:"assignment",children:"Assignment"}),i.jsx(Re,{value:"quiz",children:"Quiz"}),i.jsx(Re,{value:"project",children:"Project"})]})]})]})]}),i.jsxs("div",{children:[i.jsx(Ke,{htmlFor:"title",children:"Title"}),i.jsx(qe,{id:"title",value:p.title,onChange:S=>x({...p,title:S.target.value}),placeholder:"e.g., Midterm Examination",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Ke,{htmlFor:"date",children:"Due Date"}),i.jsx(qe,{id:"date",type:"date",value:p.date,onChange:S=>x({...p,date:S.target.value}),required:!0})]}),i.jsxs("div",{children:[i.jsx(Ke,{htmlFor:"points",children:"Total Points"}),i.jsx(qe,{id:"points",type:"number",value:p.totalPoints,onChange:S=>x({...p,totalPoints:S.target.value}),placeholder:"100",required:!0})]})]}),i.jsxs("div",{children:[i.jsx(Ke,{htmlFor:"description",children:"Description"}),i.jsx(kc,{id:"description",value:p.description,onChange:S=>x({...p,description:S.target.value}),placeholder:"Describe the assessment...",rows:4,required:!0})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(Ae,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),i.jsx(Ae,{type:"submit",children:"Create Assessment"})]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Upcoming"}),i.jsx(Ds,{className:"size-4 text-blue-600"})]}),i.jsx(ne,{children:i.jsx("div",{className:"text-2xl",children:w.length})})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Active"}),i.jsx(Ds,{className:"size-4 text-green-600"})]}),i.jsx(ne,{children:i.jsx("div",{className:"text-2xl",children:C.length})})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Completed"}),i.jsx(Ds,{className:"size-4 text-gray-600"})]}),i.jsx(ne,{children:i.jsx("div",{className:"text-2xl",children:_.length})})]})]}),i.jsxs(Rc,{defaultValue:"upcoming",className:"w-full",children:[i.jsxs(Pc,{children:[i.jsx(kn,{value:"upcoming",children:"Upcoming"}),i.jsx(kn,{value:"active",children:"Active"}),i.jsx(kn,{value:"completed",children:"Completed"})]}),i.jsx(fn,{value:"upcoming",className:"space-y-4",children:w.length===0?i.jsx(te,{children:i.jsx(ne,{className:"p-12 text-center",children:i.jsx("p",{className:"text-gray-600",children:"No upcoming assessments"})})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.map(S=>i.jsx(E,{exam:S},S.id))})}),i.jsx(fn,{value:"active",className:"space-y-4",children:C.length===0?i.jsx(te,{children:i.jsx(ne,{className:"p-12 text-center",children:i.jsx("p",{className:"text-gray-600",children:"No active assessments"})})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.map(S=>i.jsx(E,{exam:S},S.id))})}),i.jsx(fn,{value:"completed",className:"space-y-4",children:_.length===0?i.jsx(te,{children:i.jsx(ne,{className:"p-12 text-center",children:i.jsx("p",{className:"text-gray-600",children:"No completed assessments"})})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.map(S=>i.jsx(E,{exam:S},S.id))})})]})]})})}function tA(){const{user:t}=yt(),[e,r]=v.useState([]),[a,o]=v.useState([]),[l,u]=v.useState(new Map),[h,f]=v.useState([]),[p,x]=v.useState([]),[g,b]=v.useState([]),[w,C]=v.useState(!0);v.useEffect(()=>{(async()=>{if(!t||t.role!=="parent"){r([]);return}const N=t?.children;if(N&&N.length){r(N);return}try{const R=await Uh(t.id);r(R?.children??[])}catch(R){console.error("Failed to load parent record",R),r([])}})()},[t]),v.useEffect(()=>{(async()=>{try{C(!0);const N=ro();if(!e.length){const Z=await N;b(Array.isArray(Z)?Z:[]),o([]),u(new Map),f([]),x([]);return}const[R,A,U,T,O]=await Promise.all([cs(e),N,Promise.all(e.map(Z=>Vx(Z))),Promise.all(e.map(Z=>gc(Z))),Promise.all(e.map(Z=>Bh(Z)))]);o(R??[]),b(Array.isArray(A)?A:[]),f(U.filter(Boolean));const F=new Map;e.forEach((Z,H)=>{const re=Vs(T[H]??[]);F.set(Z,re.rate)}),u(F);const $=O.flat();$.sort((Z,H)=>new Date(H.date).getTime()-new Date(Z.date).getTime()),x($.slice(0,4))}catch(N){console.error("Failed to load parent dashboard data",N),o([]),u(new Map),f([]),b([]),x([])}finally{C(!1)}})()},[e]);const _=a.length?a.reduce((S,N)=>S+(N.gpa??0),0)/a.length:0,j=l.size?Array.from(l.values()).reduce((S,N)=>S+N,0)/l.size:0,E=h.reduce((S,N)=>S+N.due,0);return w?i.jsx(ze,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("p",{children:"Loading parent dashboard..."})})}):i.jsx(ze,{children:i.jsxs("div",{className:"p-8 space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"Parent Dashboard"}),i.jsx("p",{className:"text-gray-600",children:"Track all of your children's progress in one place."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Children Linked"}),i.jsx(Xn,{className:"size-4 text-blue-600"})]}),i.jsxs(ne,{children:[i.jsx("div",{className:"text-2xl",children:a.length}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Connections to your account"})]})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Average GPA"}),i.jsx(jr,{className:"size-4 text-indigo-600"})]}),i.jsxs(ne,{children:[i.jsx("div",{className:"text-2xl",children:_.toFixed(2)}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Across all children"})]})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Average Attendance"}),i.jsx(Ga,{className:"size-4 text-green-600"})]}),i.jsxs(ne,{children:[i.jsxs("div",{className:"text-2xl",children:[j.toFixed(0),"%"]}),i.jsx(Mi,{value:j,className:"mt-2"})]})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Outstanding Balance"}),i.jsx(Hs,{className:"size-4 text-red-600"})]}),i.jsxs(ne,{children:[i.jsxs("div",{className:"text-2xl",children:["$",E.toLocaleString()]}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Combined for all children"})]})]})]}),a.length===0?i.jsx(te,{children:i.jsx(ne,{className:"p-12 text-center",children:i.jsx("p",{className:"text-gray-600",children:"No children are linked to your account."})})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map(S=>{const N=l.get(S.id)??S.attendance??0;return i.jsxs(te,{children:[i.jsxs(he,{children:[i.jsx(fe,{children:S.name}),i.jsx("p",{className:"text-sm text-gray-600",children:S.gradeLevel})]}),i.jsxs(ne,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(jr,{className:"size-4 text-blue-600"}),i.jsx("span",{className:"text-sm text-gray-600",children:"GPA"})]}),i.jsx("p",{className:"text-2xl",children:S.gpa.toFixed(2)})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Ga,{className:"size-4 text-green-600"}),i.jsx("span",{className:"text-sm text-gray-600",children:"Attendance"})]}),i.jsxs("p",{className:"text-2xl",children:[N,"%"]}),i.jsx(Mi,{value:N,className:"mt-2"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx(ss,{className:"size-4 text-green-600"}),i.jsx("span",{children:"Improving performance"})]})]})]},S.id)})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Recent Performance"})}),i.jsx(ne,{children:p.length===0?i.jsx("p",{className:"text-gray-600 text-center py-6",children:"No grades available yet."}):i.jsx("div",{className:"space-y-4",children:p.map(S=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"truncate",children:S.courseName}),i.jsx("p",{className:"text-sm text-gray-600",children:S.examType})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs(Ye,{variant:S.score>=90?"default":S.score>=80?"secondary":"outline",children:[S.score,"/",S.maxScore]}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:S.date})]})]},S.id))})})]}),i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Finance Summary"})}),i.jsx(ne,{className:"space-y-4",children:h.length===0?i.jsx("p",{className:"text-gray-600 text-center py-6",children:"No finance data for your children."}):h.map(S=>{const N=a.find(R=>R.id===S.studentId);return i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{children:N?.name||S.studentId}),i.jsx(Ye,{variant:S.due>0?"destructive":"default",children:S.due>0?"Due":"Paid"})]}),i.jsxs("div",{className:"text-sm text-gray-600 mt-2 space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Total Fee"}),i.jsxs("span",{children:["$",S.totalFee.toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Scholarship"}),i.jsxs("span",{className:"text-green-600",children:["-$",S.scholarship.toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Paid"}),i.jsxs("span",{className:"text-green-600",children:["$",S.paid.toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between font-semibold",children:[i.jsx("span",{children:"Balance"}),i.jsxs("span",{className:"text-red-600",children:["$",S.due.toLocaleString()]})]})]})]},S.id)})})]})]}),i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"School Announcements"})}),i.jsx(ne,{children:i.jsx("div",{className:"space-y-3",children:g.map(S=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("p",{children:S.title}),i.jsx(Ye,{variant:S.priority==="high"?"destructive":S.priority==="medium"?"default":"secondary",children:S.priority})]}),i.jsx("p",{className:"text-sm text-gray-600",children:S.content}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[S.author,"  ",S.date]})]},S.id))})})]})]})})}const Vd={courseId:"",studentId:"",examType:"",score:"",maxScore:"100",notes:""};function nA(){const{user:t}=yt(),[e,r]=v.useState(Vd),[a,o]=v.useState(!1),[l,u]=v.useState(null),[h,f]=v.useState([]),[p,x]=v.useState([]),[g,b]=v.useState({}),[w,C]=v.useState([]),[_,j]=v.useState(!0),[E,S]=v.useState({}),N=v.useMemo(()=>t?.id?h:[],[h,t?.id]),R=v.useMemo(()=>new Map(N.map($=>[$.id,$])),[N]),A=v.useMemo(()=>{const $=new Map;return p.forEach(Z=>$.set(Z.id,Z)),$},[p]),U=v.useMemo(()=>{if(!e.courseId)return[];const $=g[e.courseId]??[];if(e.studentId&&!$.some(Z=>Z.id===e.studentId)){const Z=A.get(e.studentId);if(Z)return[Z,...$]}return $},[e.courseId,e.studentId,g,A]),T=v.useMemo(()=>t?.id?w.filter($=>N.some(Z=>Z.id===$.courseId)).sort(($,Z)=>+new Date(Z.date)-+new Date($.date)).slice(0,10):[],[w,N,t?.id]);v.useEffect(()=>{const $=new Set;if(T.forEach(H=>{!A.get(H.studentId)&&!E[H.studentId]&&$.add(H.studentId)}),!$.size)return;let Z=!1;return(async()=>{const H=[];for(const re of $)try{const ce=await Fx(re);ce?.name&&H.push([re,ce.name])}catch(ce){console.error("Failed to fetch student name",re,ce)}!Z&&H.length&&S(re=>({...re,...Object.fromEntries(H)}))})(),()=>{Z=!0}},[T,A,E]);const O=async()=>{if(!t?.id){f([]),x([]),C([]),j(!1);return}try{j(!0);const[$,Z]=await Promise.all([sr(),Bi()]),ce=(Array.isArray($)?$:$?.courses??[]).map(V=>({...V,studentIds:yf(V.studentIds)})).filter(V=>V.teacherId===t.id),me=ce.map(V=>V.id);if(!ce.length){f([]),x([]),b({}),C([]);return}const J=Array.isArray(Z)?Z:Z??[],ae=await mc(me),M=Array.isArray(ae)?ae:[],X={};ce.forEach(V=>{X[V.id]=[...V.studentIds??[]]}),M.forEach(V=>{V.courseId&&(X[V.courseId]||(X[V.courseId]=[]),X[V.courseId].includes(V.studentId)||X[V.courseId].push(V.studentId))});const Y=new Set;Object.values(X).forEach(V=>V.forEach(ie=>ie&&Y.add(ie)));const L=Array.from(Y).filter(V=>!J.some(ie=>ie.id===V)),q=L.length?await cs(L):[],K=Array.from(new Map([...J,...q].map(V=>[V.id,V])).values()),oe=new Map(K.map(V=>[V.id,V])),G={};Object.entries(X).forEach(([V,ie])=>{const be=Array.from(new Set(ie.filter(Boolean)));G[V]=be.map(Se=>oe.get(Se)).filter(Boolean)});const Q=Array.from(new Map(Object.values(G).flat().map(V=>[V.id,V])).values());f(ce),b(G),x(Q),C(M??[])}catch($){console.error("Failed to load grade data",$),Le.error("Unable to load gradebook data"),C([])}finally{j(!1)}};v.useEffect(()=>{O()},[t?.id]),v.useEffect(()=>{l&&r({courseId:l.courseId,studentId:l.studentId,examType:l.examType,score:String(l.score),maxScore:String(l.maxScore),notes:""})},[l]);const F=async $=>{if($.preventDefault(),!e.courseId||!e.studentId||!e.examType){Le.error("Please fill in all required fields");return}const Z=R.get(e.courseId);if(!Z){Le.error("Course not found");return}o(!0);try{const H={studentId:e.studentId,courseId:e.courseId,courseName:Z.name,examType:e.examType,score:Number(e.score),maxScore:Number(e.maxScore),date:l?.date??new Date().toISOString().slice(0,10)};l?(await bN(l.id,H),Le.success("Grade updated successfully")):(await wN(H),Le.success("Grade saved successfully")),await O(),r(Vd),u(null)}catch(H){console.error("Failed to save grade",H),Le.error("Failed to save grade")}finally{o(!1)}};return _?i.jsx(ze,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("p",{children:"Loading gradebook..."})})}):i.jsx(ze,{children:i.jsxs("div",{className:"p-8 space-y-8",children:[i.jsx("div",{className:"flex items-center justify-between flex-wrap gap-4",children:i.jsxs("div",{children:[i.jsx("h1",{children:"Gradebook"}),i.jsx("p",{className:"text-gray-600",children:"Record assessments and keep student performance up to date."})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Enter Grade"})}),i.jsx(ne,{children:i.jsxs("form",{className:"space-y-4",onSubmit:F,children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{children:"Course"}),i.jsxs(Pt,{value:e.courseId,onValueChange:$=>r({...e,courseId:$,studentId:""}),children:[i.jsx(At,{children:i.jsx(Tt,{placeholder:"Select a course"})}),i.jsx(It,{children:N.map($=>i.jsxs(Re,{value:$.id,children:[$.code,"  ",$.name]},$.id))})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{children:"Student"}),i.jsxs(Pt,{value:e.studentId,onValueChange:$=>r({...e,studentId:$}),disabled:!e.courseId||U.length===0,children:[i.jsx(At,{children:i.jsx(Tt,{placeholder:e.courseId?"Select a student":"Choose a course first"})}),i.jsx(It,{children:U.map($=>i.jsx(Re,{value:$.id,children:$.name},$.id))})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{children:"Assessment Type"}),i.jsx(qe,{value:e.examType,onChange:$=>r({...e,examType:$.target.value}),placeholder:"e.g., Midterm, Project",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{children:"Score"}),i.jsx(qe,{type:"number",value:e.score,onChange:$=>r({...e,score:$.target.value}),min:0,max:Number(e.maxScore)||100,required:!0})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{children:"Max Score"}),i.jsx(qe,{type:"number",value:e.maxScore,onChange:$=>r({...e,maxScore:$.target.value}),min:1,required:!0})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{children:"Notes (optional)"}),i.jsx(kc,{value:e.notes,onChange:$=>r({...e,notes:$.target.value}),placeholder:"Add instructions or grading notes",rows:3})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[l&&i.jsx(Ae,{type:"button",variant:"outline",onClick:()=>{u(null),r(Vd)},children:"Cancel"}),i.jsxs(Ae,{type:"submit",disabled:a||!e.courseId||!e.studentId,children:[i.jsx(BE,{className:"mr-2 size-4"}),a?"Saving...":l?"Update Grade":"Save Grade"]})]})]})})]}),i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Recent Grades"})}),i.jsx(ne,{className:"space-y-4",children:T.length===0?i.jsx("p",{className:"text-gray-600 text-center py-8",children:"No grades recorded yet."}):T.map($=>{const Z=$.maxScore?Math.round($.score/$.maxScore*100):$.score,re=A.get($.studentId)?.name??E[$.studentId]??$.studentId;return i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{children:$.courseName}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Student: ",re]}),i.jsxs("p",{className:"text-sm text-gray-600",children:[$.examType,"  ",$.date]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Ye,{variant:Z>=90?"default":Z>=80?"secondary":"outline",children:[$.score,"/",$.maxScore]}),i.jsx(Ae,{size:"sm",variant:"outline",onClick:()=>u($),children:"Edit"})]})]},$.id)})})]})]})]})})}function rA(){const{user:t}=yt(),[e,r]=v.useState([]),[a,o]=v.useState([]),[l,u]=v.useState({}),[h,f]=v.useState(!0);return v.useEffect(()=>{(async()=>{if(!t||t.role!=="parent"){o([]);return}const x=t?.children;if(x&&x.length){o(x);return}try{const g=await Uh(t.id);o(g?.children??[])}catch(g){console.error("Failed to load parent record",g),o([])}})()},[t]),v.useEffect(()=>{(async()=>{try{if(f(!0),!a.length){r([]),u({});return}const[x,g]=await Promise.all([cs(a),Promise.all(a.map(w=>gc(w)))]);r(x??[]);const b={};a.forEach((w,C)=>{b[w]=g[C]??[]}),u(b)}catch(x){console.error("Failed to load children data",x),r([]),u({})}finally{f(!1)}})()},[a]),h?i.jsx(ze,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("p",{children:"Loading children..."})})}):i.jsx(ze,{children:i.jsxs("div",{className:"p-8 space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"My Children"}),i.jsx("p",{className:"text-gray-600",children:"View and manage your children's information."})]}),e.length===0?i.jsx(te,{children:i.jsxs(ne,{className:"p-12 text-center",children:[i.jsx(jr,{className:"size-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-gray-600 mb-2",children:"No children found"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Contact the administration to link your child's account."})]})}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(p=>{const g=Vs(l[p.id]??[]).rate||p.attendance;return i.jsxs(te,{className:"overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 border-b",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs(Oi,{className:"size-20",children:[i.jsx(Li,{src:p.avatar}),i.jsx(Di,{children:p.name.charAt(0)})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"mb-1",children:p.name}),i.jsx(Ye,{children:p.gradeLevel})]})]})}),i.jsxs(ne,{className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"mb-4",children:"Academic Performance"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(jr,{className:"size-4 text-blue-600"}),i.jsx("span",{className:"text-sm text-gray-600",children:"GPA"})]}),i.jsx("div",{className:"text-2xl",children:p.gpa.toFixed(2)})]}),i.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"flex items-center gap-2 mb-2",children:i.jsx("span",{className:"text-sm text-gray-600",children:"Attendance"})}),i.jsxs("div",{className:"text-2xl",children:[g,"%"]}),i.jsx(Mi,{value:g,className:"mt-2"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"mb-4",children:"Contact Information"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[i.jsx(so,{className:"size-4 text-gray-400"}),i.jsx("span",{className:"text-gray-600",children:p.email})]}),p.phone&&i.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[i.jsx(Gh,{className:"size-4 text-gray-400"}),i.jsx("span",{className:"text-gray-600",children:p.phone})]}),p.address&&i.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[i.jsx(qh,{className:"size-4 text-gray-400"}),i.jsx("span",{className:"text-gray-600",children:p.address})]})]})]})]})]},p.id)})})]})})}function sA(){const{user:t}=yt(),[e,r]=v.useState([]),[a,o]=v.useState(""),[l,u]=v.useState([]),[h,f]=v.useState([]),[p,x]=v.useState(!0),[g,b]=v.useState(!1);v.useEffect(()=>{(async()=>{if(!t||t.role!=="parent"){r([]),o(""),x(!1);return}x(!0);try{let E=t?.children??[];if(E.length||(E=(await Uh(t.id))?.children??[]),!E.length){r([]),o("");return}const S=await cs(E);r(S??[]),o(N=>N&&E.includes(N)?N:S[0]?.id??"")}catch(E){console.error("Failed to load children for performance view",E),r([]),o("")}finally{x(!1)}})()},[t]),v.useEffect(()=>{a?(async()=>{try{b(!0);const[E,S]=await Promise.all([Bh(a),gc(a)]);u(E??[]),f(S??[])}catch(E){console.error("Failed to load performance records",E),u([]),f([])}finally{b(!1)}})():(u([]),f([]))},[a]);const w=()=>l.length===0?0:(l.reduce((E,S)=>E+S.score/S.maxScore*100,0)/l.length).toFixed(1),C=Vs(h),_=e.find(j=>j.id===a);return i.jsx(ze,{children:i.jsxs("div",{className:"p-8 space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"Academic Performance"}),i.jsx("p",{className:"text-gray-600",children:"Track your child's academic progress and achievements."})]}),p?i.jsx(te,{children:i.jsx(ne,{className:"p-12 text-center",children:i.jsx("p",{className:"text-gray-600",children:"Loading children..."})})}):e.length===0?i.jsx(te,{children:i.jsx(ne,{className:"p-12 text-center",children:i.jsx("p",{className:"text-gray-600",children:"No children found."})})}):i.jsxs(i.Fragment,{children:[e.length>1&&i.jsx("div",{className:"flex gap-2",children:e.map(j=>i.jsx("button",{onClick:()=>o(j.id),className:`px-4 py-2 rounded-lg border transition-colors ${a===j.id?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:j.name},j.id))}),_&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Current GPA"}),i.jsx(Ci,{className:"size-4 text-yellow-600"})]}),i.jsx(ne,{children:i.jsx("div",{className:"text-2xl",children:_.gpa.toFixed(2)})})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Average Grade"}),i.jsx(ss,{className:"size-4 text-blue-600"})]}),i.jsxs(ne,{children:[i.jsxs("div",{className:"text-2xl",children:[w(),"%"]}),i.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Based on ",l.length," assessments"]})]})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Attendance Rate"}),i.jsx(ss,{className:"size-4 text-green-600"})]}),i.jsxs(ne,{children:[i.jsxs("div",{className:"text-2xl",children:[C.rate,"%"]}),i.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[C.present," present, ",C.late," late, ",C.absent," absent"]})]})]})]}),i.jsxs(Rc,{defaultValue:"grades",className:"w-full",children:[i.jsxs(Pc,{children:[i.jsx(kn,{value:"grades",children:"Grades & Assessments"}),i.jsx(kn,{value:"attendance",children:"Attendance History"})]}),i.jsx(fn,{value:"grades",className:"space-y-4",children:i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Recent Grades"})}),i.jsx(ne,{children:g?i.jsx("p",{className:"text-gray-600 text-center py-8",children:"Loading grades..."}):l.length===0?i.jsx("p",{className:"text-gray-600 text-center py-8",children:"No grades available yet."}):i.jsx("div",{className:"space-y-4",children:l.map(j=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{children:j.courseName}),i.jsx("p",{className:"text-sm text-gray-600",children:j.examType})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs(Ye,{variant:j.score/j.maxScore*100>=90?"default":j.score/j.maxScore*100>=80?"secondary":"outline",children:[j.score,"/",j.maxScore," (",(j.score/j.maxScore*100).toFixed(0),"%)"]}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:j.date})]})]},j.id))})})]})}),i.jsx(fn,{value:"attendance",className:"space-y-4",children:i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Attendance Records"})}),i.jsx(ne,{children:g?i.jsx("p",{className:"text-gray-600 text-center py-8",children:"Loading attendance..."}):h.length===0?i.jsx("p",{className:"text-gray-600 text-center py-8",children:"No attendance records available yet."}):i.jsx("div",{className:"space-y-3",children:h.map(j=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{children:j.courseName}),i.jsx("p",{className:"text-sm text-gray-600",children:j.date})]}),i.jsx(Ye,{variant:j.status==="present"?"default":j.status==="late"?"secondary":"destructive",children:j.status})]},j.id))})})]})})]})]})]})]})})}function iA(){const[t,e]=v.useState([]),[r,a]=v.useState([]),[o,l]=v.useState([]),[u,h]=v.useState([]),[f,p]=v.useState([]),[x,g]=v.useState(0),[b,w]=v.useState(!0);v.useEffect(()=>{(async()=>{try{w(!0);const[j,E,S,N,R,A]=await Promise.all([Bi(),mN(),sr(),Wh(),ro(),$x()]);e(Array.isArray(j)?j:j?.students??[]),a(Array.isArray(E)?E:E?.teachers??[]),l(Array.isArray(S)?S:S?.courses??[]),h(Array.isArray(N)?N:N??[]),p(Array.isArray(R)?R:[]),g(typeof A=="number"?A:0)}catch(j){console.error("Failed to load admin dashboard data",j),e([]),a([]),l([]),h([]),p([]),g(0)}finally{w(!1)}})()},[]);const C=v.useMemo(()=>{const _=x||t.length,j=new Set(r.map(T=>T.id)).size,E=o.length,S=u.reduce((T,O)=>T+(O?.paid??0),0),N=u.reduce((T,O)=>T+(O?.due??0),0),R=u.reduce((T,O)=>T+(O?.scholarship??0),0),A=o.reduce((T,O)=>{const F=O.code.slice(0,2);return T[F]||(T[F]={students:new Set,teachers:new Set,courses:0}),O.studentIds?.forEach($=>T[F].students.add($)),T[F].teachers.add(O.teacherId),T[F].courses+=1,T},{}),U=Object.entries(A).map(([T,O])=>({name:T,students:O.students.size,teachers:O.teachers.size,courses:O.courses}));return{studentCount:_,teacherCount:j,courseCount:E,totalCollected:S,outstanding:N,totalScholarship:R,departmentSummary:U}},[t,r,o,u,x]);return b?i.jsx(ze,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("p",{children:"Loading admin dashboard..."})})}):i.jsx(ze,{children:i.jsxs("div",{className:"p-8 space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"Admin Dashboard"}),i.jsx("p",{className:"text-gray-600",children:"System overview and management."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs(te,{children:[i.jsxs(he,{className:"flex justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Total Students"}),i.jsx(Xn,{className:"size-4 text-blue-600"})]}),i.jsx(ne,{children:i.jsx("div",{className:"text-2xl",children:C.studentCount})})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Total Teachers"}),i.jsx(ak,{className:"size-4 text-green-600"})]}),i.jsx(ne,{children:i.jsx("div",{className:"text-2xl",children:C.teacherCount})})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Active Courses"}),i.jsx(br,{className:"size-4 text-purple-600"})]}),i.jsx(ne,{children:i.jsx("div",{className:"text-2xl",children:C.courseCount})})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Outstanding Balance"}),i.jsx(Hs,{className:"size-4 text-orange-600"})]}),i.jsx(ne,{children:i.jsxs("div",{className:"text-2xl",children:["$",C.outstanding.toLocaleString()]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Department Overview"})}),i.jsx(ne,{children:i.jsx("div",{className:"space-y-4",children:C.departmentSummary.map(_=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(dy,{className:"size-5 text-blue-600"}),i.jsx("p",{children:_.name})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Students"}),i.jsx("p",{children:_.students})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Teachers"}),i.jsx("p",{children:_.teachers})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Courses"}),i.jsx("p",{children:_.courses})]})]})]},_.name))})})]}),i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Recent Announcements"})}),i.jsx(ne,{children:i.jsx("div",{className:"space-y-3",children:f.slice(0,4).map(_=>i.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm",children:_.title}),i.jsx("p",{className:"text-xs text-gray-600",children:_.author})]}),i.jsx(Ye,{variant:_.priority==="high"?"destructive":_.priority==="medium"?"default":"secondary",children:_.priority})]},_.id))})})]})]}),i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Financial Overview"})}),i.jsx(ne,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[i.jsx("p",{className:"text-sm text-green-900 mb-1",children:"Total Collected"}),i.jsxs("p",{className:"text-2xl text-green-900",children:["$",C.totalCollected.toLocaleString()]})]}),i.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[i.jsx("p",{className:"text-sm text-orange-900 mb-1",children:"Outstanding"}),i.jsxs("p",{className:"text-2xl text-orange-900",children:["$",C.outstanding.toLocaleString()]})]}),i.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsx("p",{className:"text-sm text-blue-900 mb-1",children:"Scholarships"}),i.jsxs("p",{className:"text-2xl text-blue-900",children:["$",C.totalScholarship.toLocaleString()]})]}),i.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[i.jsx("p",{className:"text-sm text-purple-900 mb-1",children:"Net Revenue"}),i.jsxs("p",{className:"text-2xl text-purple-900",children:["$",(C.totalCollected-C.totalScholarship).toLocaleString()]})]})]})})]})]})})}function aA(){const[t,e]=v.useState([]),[r,a]=v.useState(!0),[o,l]=v.useState(""),[u,h]=v.useState("all"),[f,p]=v.useState(""),[x,g]=v.useState(0),b=12;v.useEffect(()=>{(async()=>{try{a(!0);const A=await Wh(),U=A.map($=>$.studentId).filter(Boolean),T=await cs(U),O=new Map(T.map($=>[$.id,$])),F=A.map($=>{const Z=O.get($.studentId),H=Math.max(0,$.totalFee-$.scholarship-$.paid);return{id:$.id,name:Z?.name??"Unknown Student",email:Z?.email??"",total:$.totalFee,paid:$.paid,scholarship:$.scholarship,balance:H}});e(F)}catch(A){console.error("Failed to load finance data",A),e([])}finally{a(!1)}})()},[]),v.useEffect(()=>{g(0)},[o,u,f,t.length]);const w=v.useMemo(()=>t.filter(R=>{const A=!o||R.name.toLowerCase().includes(o.toLowerCase())||R.email.toLowerCase().includes(o.toLowerCase()),U=u==="all"?!0:u==="due"?R.balance>0:R.balance===0,T=Number(f),O=!f||Number.isNaN(T)?!0:R.balance>=T;return A&&U&&O}),[t,o,u,f]),C=v.useMemo(()=>w.reduce((R,A)=>(R.totalFee+=A.total,R.scholarship+=A.scholarship,R.paid+=A.paid,R.balance+=A.balance,R),{totalFee:0,scholarship:0,paid:0,balance:0}),[w]),_=R=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(R),j=R=>{Le.success(`Opening mail client for ${R.name}`),window.location.href=`mailto:${R.email}?subject=${encodeURIComponent("Finance Update")}`},E=Math.max(1,Math.ceil(w.length/b)),S=Math.min(x,E-1),N=w.slice(S*b,S*b+b);return i.jsx(ze,{children:i.jsxs("div",{className:"space-y-6 p-8",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h1",{children:"Finance Overview"}),i.jsx("p",{className:"text-gray-600",children:"Review student balances, scholarships, and payment status in a quick glance."})]}),i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Filters"})}),i.jsxs(ne,{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Search by name or email"}),i.jsx(qe,{placeholder:"e.g. Alex Johnson",value:o,onChange:R=>l(R.target.value)})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Balance status"}),i.jsxs(Pt,{value:u,onValueChange:R=>h(R),children:[i.jsx(At,{children:i.jsx(Tt,{placeholder:"Select status"})}),i.jsxs(It,{children:[i.jsx(Re,{value:"all",children:"All records"}),i.jsx(Re,{value:"due",children:"Balance due"}),i.jsx(Re,{value:"settled",children:"Paid in full"})]})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Minimum balance (USD)"}),i.jsx(qe,{type:"number",min:"0",value:f,onChange:R=>p(R.target.value)})]})]})]}),i.jsxs(te,{children:[i.jsxs(he,{children:[i.jsx(fe,{children:"Key Totals"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",w.length," of ",t.length," records"]})]}),i.jsxs(ne,{className:"grid gap-4 md:grid-cols-4",children:[i.jsxs("div",{className:"rounded-lg border p-3 bg-blue-50",children:[i.jsx("p",{className:"text-xs uppercase text-blue-700",children:"Total Fees"}),i.jsx("p",{className:"text-xl font-semibold text-blue-900",children:_(C.totalFee)})]}),i.jsxs("div",{className:"rounded-lg border p-3 bg-green-50",children:[i.jsx("p",{className:"text-xs uppercase text-green-700",children:"Scholarships"}),i.jsx("p",{className:"text-xl font-semibold text-green-900",children:_(C.scholarship)})]}),i.jsxs("div",{className:"rounded-lg border p-3 bg-emerald-50",children:[i.jsx("p",{className:"text-xs uppercase text-emerald-700",children:"Paid"}),i.jsx("p",{className:"text-xl font-semibold text-emerald-900",children:_(C.paid)})]}),i.jsxs("div",{className:"rounded-lg border p-3 bg-rose-50",children:[i.jsx("p",{className:"text-xs uppercase text-rose-700",children:"Balance"}),i.jsx("p",{className:"text-xl font-semibold text-rose-900",children:_(C.balance)})]})]})]}),r?i.jsx(te,{children:i.jsx(ne,{className:"py-12 text-center text-gray-600",children:"Loading finance records..."})}):w.length===0?i.jsx(te,{children:i.jsx(ne,{className:"py-12 text-center text-gray-600",children:"No records match your filters."})}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:N.map(R=>i.jsx(te,{className:"h-full border border-slate-100 shadow-sm",children:i.jsxs(ne,{className:"space-y-4 p-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Student"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:R.name}),i.jsx("p",{className:"text-sm text-slate-500 truncate",children:R.email})]}),i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[i.jsx("span",{children:"Total Fee"}),i.jsx("span",{className:"font-medium text-slate-800",children:_(R.total)})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[i.jsx("span",{children:"Scholarship"}),i.jsx("span",{className:"font-medium text-emerald-700",children:_(R.scholarship)})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[i.jsx("span",{children:"Paid"}),i.jsx("span",{className:"font-medium text-blue-700",children:_(R.paid)})]})]}),i.jsx("div",{className:"rounded-2xl border p-4 bg-white space-y-2",children:i.jsxs("div",{className:"flex items-center justify-between text-xs text-rose-600",children:[i.jsx("span",{children:"Balance"}),i.jsx("span",{className:"text-lg font-semibold",children:_(R.balance)})]})}),i.jsxs(Ae,{variant:"outline",className:"w-full",onClick:()=>j(R),children:[i.jsx(so,{className:"mr-2 size-4"}),"Email Student"]})]})},R.id))}),i.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-100 bg-white px-5 py-4 text-sm text-gray-600 shadow-sm md:flex-row md:items-center md:justify-between",children:[i.jsxs("p",{children:["Showing ",w.length===0?0:S*b+1,"-",Math.min((S+1)*b,w.length)," of ",w.length]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>g(R=>Math.max(0,R-1)),disabled:S===0,children:"Previous"}),i.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>g(R=>Math.min(E-1,R+1)),disabled:S>=E-1,children:"Next"})]})]})]})]})})}function oA(){const[t,e]=v.useState(!1),[r,a]=v.useState(null),[o,l]=v.useState([...Qn.courses]),[u,h]=v.useState({name:"",code:"",teacherName:"",schedule:"",credits:3}),[f,p]=v.useState("all"),[x,g]=v.useState(0),b=9,w=S=>{a(S),h(S),e(!0)},C=o.filter(S=>{if(f==="all")return!0;const N=S.code?.slice(0,2).toLowerCase()||"";return f==="cs"?N==="cs":f==="is"?N==="is":f==="da"?N==="da":N!=="cs"&&N!=="is"&&N!=="da"}),_=Math.max(1,Math.ceil(C.length/b)),j=Math.min(x,_-1),E=C.slice(j*b,j*b+b);return i.jsx(ze,{children:i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[i.jsx(br,{className:"size-5"})," Courses"]})}),i.jsx("div",{className:"flex justify-end",children:i.jsxs(Pt,{value:f,onValueChange:S=>{p(S),g(0)},children:[i.jsx(At,{className:"w-60",children:i.jsx(Tt,{placeholder:"Department"})}),i.jsxs(It,{children:[i.jsx(Re,{value:"all",children:"All departments"}),i.jsx(Re,{value:"cs",children:"Computer Science (CS)"}),i.jsx(Re,{value:"is",children:"Information Systems (IS)"}),i.jsx(Re,{value:"da",children:"Data Analysis (DA)"}),i.jsx(Re,{value:"other",children:"Other"})]})]})}),i.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:E.map(S=>{const N=S.studentIds?.length??0;return i.jsx(te,{className:"h-full border border-slate-100 shadow-sm",children:i.jsxs(ne,{className:"space-y-4 p-6",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Course"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:S.name}),i.jsxs("p",{className:"text-sm text-slate-500",children:[S.code,"  ",S.credits," credits"]})]}),i.jsxs(Ae,{size:"sm",variant:"outline",onClick:()=>w(S),children:[i.jsx(QE,{className:"mr-2 size-4"})," Edit"]})]}),i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[i.jsx("span",{children:"Instructor"}),i.jsx("span",{className:"font-medium text-slate-800",children:S.teacherName||""})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[i.jsx("span",{children:"Schedule"}),i.jsx("span",{className:"font-medium text-slate-800",children:S.schedule||""})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[i.jsx("span",{children:"Students"}),i.jsx("span",{className:"font-medium text-blue-700",children:N.toLocaleString()})]})]})]})},S.id)})}),i.jsxs("div",{className:"flex flex-col gap-2 text-sm text-gray-600 border rounded-md p-4 md:flex-row md:items-center md:justify-between",children:[i.jsxs("p",{children:["Showing ",C.length===0?0:j*b+1,"-",Math.min((j+1)*b,C.length)," of ",C.length]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>g(S=>Math.max(0,S-1)),disabled:j===0,children:"Previous"}),i.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>g(S=>Math.min(_-1,S+1)),disabled:j>=_-1,children:"Next"})]})]})]})})}function lA(){const[t,e]=v.useState(""),[r,a]=v.useState(!1),[o,l]=v.useState({name:"",email:"",role:"student",phone:"",address:""}),u=v.useMemo(()=>{const N=Object.values(Qn.users),R=Qn.students.filter(A=>!Qn.users[A.id]);return[...N,...R]},[]),[h,f]=v.useState(u),p=t?h.filter(N=>N.name.toLowerCase().includes(t.toLowerCase())||N.email.toLowerCase().includes(t.toLowerCase())||N.role.toLowerCase().includes(t.toLowerCase())):h,x={student:p.filter(N=>N.role==="student"),teacher:p.filter(N=>N.role==="teacher"),parent:p.filter(N=>N.role==="parent"),admin:p.filter(N=>N.role==="admin")},g=N=>{N.preventDefault();try{iT(o),f([...Object.values(Qn.users),...Qn.students.filter(R=>!Qn.users[R.id])]),Le.success("User created successfully"),a(!1),l({name:"",email:"",role:"student",phone:"",address:""})}catch(R){Le.error(R?.message||"Failed to create user")}},b=N=>{switch(N){case"student":return"default";case"teacher":return"secondary";case"parent":return"outline";case"admin":return"destructive"}},[w,C]=v.useState(null),[_,j]=v.useState(!1),E=N=>{C(N),j(!0)},S=({user:N})=>i.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg hover:shadow-md transition-shadow",children:[i.jsxs(Oi,{className:"size-12",children:[i.jsx(Li,{src:N.avatar}),i.jsx(Di,{children:N.name.charAt(0)})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("p",{className:"truncate",children:N.name}),i.jsx(Ye,{variant:b(N.role),children:N.role})]}),i.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(so,{className:"size-3"}),i.jsx("span",{className:"truncate",children:N.email})]}),N.phone&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Gh,{className:"size-3"}),i.jsx("span",{children:N.phone})]})]})]}),i.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>E(N),children:"View"})]});return i.jsxs(ze,{children:[i.jsxs("div",{className:"p-8 space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"User Management"}),i.jsx("p",{className:"text-gray-600",children:"Manage all users in the system."})]}),i.jsxs(ac,{open:r,onOpenChange:a,children:[i.jsx(xf,{asChild:!0,children:i.jsxs(Ae,{children:[i.jsx(Kh,{className:"mr-2 size-4"}),"Add User"]})}),i.jsxs(Qa,{children:[i.jsx(oc,{children:i.jsx(lc,{children:"Create New User"})}),i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Ke,{htmlFor:"name",children:"Full Name"}),i.jsx(qe,{id:"name",value:o.name,onChange:N=>l({...o,name:N.target.value}),placeholder:"John Doe",required:!0})]}),i.jsxs("div",{children:[i.jsx(Ke,{htmlFor:"email",children:"Email"}),i.jsx(qe,{id:"email",type:"email",value:o.email,onChange:N=>l({...o,email:N.target.value}),placeholder:"john.doe@example.com",required:!0})]}),i.jsxs("div",{children:[i.jsx(Ke,{htmlFor:"role",children:"Role"}),i.jsxs(Pt,{value:o.role,onValueChange:N=>l({...o,role:N}),children:[i.jsx(At,{children:i.jsx(Tt,{})}),i.jsxs(It,{children:[i.jsx(Re,{value:"student",children:"Student"}),i.jsx(Re,{value:"teacher",children:"Teacher"}),i.jsx(Re,{value:"parent",children:"Parent"}),i.jsx(Re,{value:"admin",children:"Admin"})]})]})]}),i.jsxs("div",{children:[i.jsx(Ke,{htmlFor:"phone",children:"Phone (Optional)"}),i.jsx(qe,{id:"phone",value:o.phone,onChange:N=>l({...o,phone:N.target.value}),placeholder:"555-0123"})]}),i.jsxs("div",{children:[i.jsx(Ke,{htmlFor:"address",children:"Address (Optional)"}),i.jsx(qe,{id:"address",value:o.address,onChange:N=>l({...o,address:N.target.value}),placeholder:"123 Main St"})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(Ae,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),i.jsx(Ae,{type:"submit",children:"Create User"})]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Students"}),i.jsx(Xn,{className:"size-4 text-blue-600"})]}),i.jsx(ne,{children:i.jsx("div",{className:"text-2xl",children:x.student.length})})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Teachers"}),i.jsx(Xn,{className:"size-4 text-green-600"})]}),i.jsx(ne,{children:i.jsx("div",{className:"text-2xl",children:x.teacher.length})})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Parents"}),i.jsx(Xn,{className:"size-4 text-purple-600"})]}),i.jsx(ne,{children:i.jsx("div",{className:"text-2xl",children:x.parent.length})})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Admins"}),i.jsx(Xn,{className:"size-4 text-red-600"})]}),i.jsx(ne,{children:i.jsx("div",{className:"text-2xl",children:x.admin.length})})]})]}),i.jsx(te,{children:i.jsx(ne,{className:"p-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(Jh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 size-4 text-gray-400"}),i.jsx(qe,{placeholder:"Search users by name, email, or role...",value:t,onChange:N=>e(N.target.value),className:"pl-10"})]})})}),i.jsxs(Rc,{defaultValue:"all",className:"w-full",children:[i.jsxs(Pc,{children:[i.jsxs(kn,{value:"all",children:["All Users (",u.length,")"]}),i.jsxs(kn,{value:"student",children:["Students (",x.student.length,")"]}),i.jsxs(kn,{value:"teacher",children:["Teachers (",x.teacher.length,")"]}),i.jsxs(kn,{value:"parent",children:["Parents (",x.parent.length,")"]}),i.jsxs(kn,{value:"admin",children:["Admins (",x.admin.length,")"]})]}),i.jsx(fn,{value:"all",className:"space-y-3",children:p.map(N=>i.jsx(S,{user:N},N.id))}),i.jsx(fn,{value:"student",className:"space-y-3",children:x.student.map(N=>i.jsx(S,{user:N},N.id))}),i.jsx(fn,{value:"teacher",className:"space-y-3",children:x.teacher.map(N=>i.jsx(S,{user:N},N.id))}),i.jsx(fn,{value:"parent",className:"space-y-3",children:x.parent.map(N=>i.jsx(S,{user:N},N.id))}),i.jsx(fn,{value:"admin",className:"space-y-3",children:x.admin.map(N=>i.jsx(S,{user:N},N.id))})]})]}),i.jsx(ac,{open:_,onOpenChange:j,children:i.jsxs(Qa,{children:[i.jsx(oc,{children:i.jsx(lc,{children:"User Details"})}),w&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(Oi,{className:"size-14",children:[i.jsx(Li,{src:w.avatar}),i.jsx(Di,{children:w.name.charAt(0)})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h2",{children:w.name}),i.jsx(Ye,{variant:b(w.role),children:w.role})]}),i.jsx("p",{className:"text-sm text-gray-600",children:w.email})]})]}),w.phone&&i.jsxs("p",{className:"text-sm",children:[i.jsx("strong",{children:"Phone:"})," ",w.phone]}),w.address&&i.jsxs("p",{className:"text-sm",children:[i.jsx("strong",{children:"Address:"})," ",w.address]})]})]})})]})}function cA(){const[t,e]=v.useState([]),[r,a]=v.useState([]),[o,l]=v.useState([]),[u,h]=v.useState(""),[f,p]=v.useState(!0),[x,g]=v.useState("all"),[b,w]=v.useState("all"),[C,_]=v.useState(0),j=20;v.useEffect(()=>{(async()=>{try{p(!0);const[$,Z,H]=await Promise.all([Bi(),sr(),gN()]),re=Array.isArray($)?$:$?.students??[],ce=Array.isArray(Z)?Z:Z?.courses??[],me=Array.isArray(H)?H:H??[],ae=Array.from(new Set(me.map(Q=>Q.studentId))).filter(Q=>!re.some(V=>V.id===Q)),M=ae.length?await cs(ae):[],X=[...re,...M];e(X),a(ce);const Y=new Map(X.map(Q=>[Q.id,Q])),L=new Map(ce.map(Q=>[Q.id,Q])),q=Q=>({id:Q,name:"Unknown Student",email:"N/A",role:"student",gradeLevel:"N/A",gpa:0,attendance:0}),K=(Q,V)=>({id:Q,name:V??"Unnamed Course",code:Q?Q.slice(0,6).toUpperCase():"NOCODE",teacherId:"unknown",teacherName:"",credits:0,schedule:""}),oe=new Map;me.forEach(Q=>{const V=Y.get(Q.studentId)??q(Q.studentId),ie=L.get(Q.courseId)??K(Q.courseId,Q.courseName);Y.has(V.id)||Y.set(V.id,V),L.has(ie.id)||L.set(ie.id,ie);const be=`${Q.studentId}|${Q.courseId}`;oe.has(be)||oe.set(be,{total:0,max:0,courseName:Q.courseName});const Se=oe.get(be);Se.total+=Q.score,Se.max+=Q.maxScore,!Se.courseName&&Q.courseName&&(Se.courseName=Q.courseName)});const G=Array.from(oe.entries()).reduce((Q,[V,ie])=>{const[be,Se]=V.split("|"),Ie=Y.get(be)??q(be),De=L.get(Se)??K(Se,ie.courseName),ge=ie.max?Math.round(ie.total/ie.max*100):0;return Q.push({id:V,student:Ie,course:De,cumulative:ge}),Q},[]);l(G)}catch($){console.error("Failed to load grades table",$),Le.error("Unable to load grade records"),l([])}finally{p(!1)}})()},[]),v.useEffect(()=>{_(0)},[u,x,b,o.length]);const E=v.useMemo(()=>{const F=u.trim().toLowerCase();return o.filter($=>{const Z=!F||$.student.name.toLowerCase().includes(F)||$.student.email.toLowerCase().includes(F)||$.course.name.toLowerCase().includes(F),H=x==="all"?!0:$.course.name.toLowerCase()===x,re=b==="all"?!0:b==="90"?$.cumulative>=90:b==="80"?$.cumulative>=80&&$.cumulative<90:b==="70"?$.cumulative>=70&&$.cumulative<80:$.cumulative<70;return Z&&H&&re})},[o,u,x,b]),S=Math.max(1,Math.ceil(E.length/j)),N=Math.min(C,S-1),R=E.slice(N*j,N*j+j),A=F=>F>=90?{label:"Excellent",color:"text-emerald-600",badge:"bg-emerald-100 text-emerald-700"}:F>=80?{label:"Strong",color:"text-sky-600",badge:"bg-sky-100 text-sky-700"}:F>=70?{label:"Watchlist",color:"text-amber-600",badge:"bg-amber-100 text-amber-700"}:{label:"At Risk",color:"text-rose-600",badge:"bg-rose-100 text-rose-700"},U=F=>{Le.success(`Opening mail client for ${F.student.name}`),window.location.href=`mailto:${F.student.email}?subject=${encodeURIComponent(`${F.course.name} Progress`)}`};o.length.toLocaleString(),new Set(o.map(F=>F.course.id)).size.toLocaleString(),`${(o.reduce((F,$)=>F+$.cumulative,0)/(o.length||1)).toFixed(1)}`;const T=i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:R.map(F=>{const $=A(F.cumulative);return i.jsx(te,{className:"h-full border border-slate-100 shadow-sm",children:i.jsxs(ne,{className:"space-y-4 p-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Student"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:F.student.name}),i.jsx("p",{className:"text-sm text-slate-500 truncate",children:F.student.email})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Course"}),i.jsx("p",{className:"text-sm font-medium text-slate-800",children:F.course.name})]}),i.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs text-slate-600",children:F.course.teacherName??""})]}),i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[i.jsx("span",{children:"Cumulative Grade"}),i.jsxs("span",{children:[F.cumulative,"%"]})]}),i.jsx(Mi,{value:F.cumulative,className:"mt-2 h-2"}),i.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",children:[i.jsx("span",{className:`size-2 rounded-full ${$.badge}`}),i.jsx("span",{className:$.color,children:$.label})]})]})]}),i.jsxs(Ae,{variant:"outline",className:"w-full",onClick:()=>U(F),children:[i.jsx(so,{className:"mr-2 size-4"}),"Email"]})]})},F.id)})}),i.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-slate-100 bg-white px-5 py-4 text-sm text-gray-600 shadow-sm md:flex-row md:items-center md:justify-between",children:[i.jsxs("p",{children:["Showing ",E.length===0?0:N*j+1,"-",Math.min((N+1)*j,E.length)," of ",E.length]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>_(F=>Math.max(0,F-1)),disabled:N===0,children:"Previous"}),i.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>_(F=>Math.min(S-1,F+1)),disabled:N>=S-1,children:"Next"})]})]})]}),O=v.useMemo(()=>{const F=new Map;return o.forEach($=>{const Z=$.course.name.toLowerCase();F.has(Z)||F.set(Z,$.course.name)}),Array.from(F.entries()).map(([$,Z])=>[$,Z])},[o]);return i.jsx(ze,{children:i.jsxs("div",{className:"p-8 space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h1",{children:"Grades Overview"}),i.jsx("p",{className:"text-gray-600",children:"Live snapshot of every student/course grade combination."})]}),i.jsxs(te,{className:"shadow",children:[i.jsx(he,{children:i.jsx(fe,{children:"Quick Filters"})}),i.jsx(ne,{children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-[2fr_1fr_1fr]",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Jh,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-gray-400"}),i.jsx(qe,{placeholder:"Search by student, email, or course",value:u,onChange:F=>h(F.target.value),className:"pl-10"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Course"}),i.jsxs(Pt,{value:x,onValueChange:g,children:[i.jsx(At,{children:i.jsx(Tt,{placeholder:"All courses"})}),i.jsxs(It,{children:[i.jsx(Re,{value:"all",children:"All courses"}),O.map(([F,$])=>i.jsx(Re,{value:F,children:$},F))]})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Grade band"}),i.jsxs(Pt,{value:b,onValueChange:F=>w(F),children:[i.jsx(At,{children:i.jsx(Tt,{placeholder:"Grade band"})}),i.jsxs(It,{children:[i.jsx(Re,{value:"all",children:"All grades"}),i.jsx(Re,{value:"90",children:"90%+"}),i.jsx(Re,{value:"80",children:"80-89%"}),i.jsx(Re,{value:"70",children:"70-79%"}),i.jsx(Re,{value:"below",children:"Below 70%"})]})]})]})]})})]}),f?i.jsx(te,{children:i.jsx(ne,{className:"py-12 text-center text-gray-600",children:"Loading grade records..."})}):E.length===0?i.jsx(te,{children:i.jsx(ne,{className:"py-12 text-center text-gray-600",children:"No grade records match your search."})}):T]})})}function uA(){const[t,e]=v.useState([]),[r,a]=v.useState([]),[o,l]=v.useState([]),[u,h]=v.useState([]),[f,p]=v.useState(0),[x,g]=v.useState(!0);v.useEffect(()=>{(async()=>{try{g(!0);const[S,N,R,A,U]=await Promise.all([Bi(),sr(),Ux(),Wh(),$x()]);e(Array.isArray(S)?S:S?.students??[]),a(Array.isArray(N)?N:N?.courses??[]),l(Array.isArray(R)?R:R??[]),h(Array.isArray(A)?A:u??[]),p(typeof U=="number"?U:0)}catch(S){console.error("Failed to load admin report data",S),e([]),a([]),l([]),h([]),p(0)}finally{g(!1)}})()},[]);const b=v.useMemo(()=>{const E=f||t.length,S=t.map(O=>O.gpa).filter(O=>typeof O=="number"),N=S.length?S.reduce((O,F)=>O+F,0)/S.length:0,R=Vs(o).rate,A=r.length?Math.round(r.filter(O=>(O.studentIds?.length??0)>0).length/r.length*100):0,U=t.filter(O=>(O.gpa??0)>=3.8).length,T=t.filter(O=>(O.gpa??0)<2.5).length;return{totalStudents:E,averageGPA:N,attendanceRate:R,courseCompletionRate:A,topPerformers:U,atRiskStudents:T}},[t,o,r,f]),w=v.useMemo(()=>{const E=u.reduce((N,R)=>(N.totalFee+=R.totalFee??0,N.totalCollected+=R.paid??0,N.scholarships+=R.scholarship??0,N.outstanding+=R.due??Math.max(0,(R.totalFee??0)-(R.paid??0)),N),{totalFee:0,totalCollected:0,scholarships:0,outstanding:0}),S=E.totalFee?Math.round(E.totalCollected/E.totalFee*100):0;return{...E,collectionRate:S}},[u]),C=v.useMemo(()=>{const E=new Map;t.forEach(N=>{const R=N.gradeLevel||"Unassigned";E.set(R,(E.get(R)??0)+1)});const S=Array.from(E.entries()).sort(([N],[R])=>N.localeCompare(R));return S.map(([N,R],A)=>{const U=A===0?R:S[A-1][1],T=U===0?0:Number(((R-U)/U*100).toFixed(1));return{semester:N,students:R,change:T}})},[t]),_=v.useMemo(()=>{if(!C.length)return[];const E=Math.max(...C.map(S=>S.students));return C.map(S=>({...S,percent:E?Math.round(S.students/E*100):0}))},[C]),j=v.useMemo(()=>{if(!r.length)return[];const E=new Map(t.map(N=>[N.id,N])),S=new Map;return r.forEach(N=>{const R=(N.code?.replace(/[^A-Za-z].*/,"")||"GEN").toUpperCase();S.has(R)||S.set(R,{studentIds:new Set,attendanceRecords:[]});const A=S.get(R);(N.studentIds??[]).forEach(U=>A.studentIds.add(U)),A.attendanceRecords.push(...o.filter(U=>U.courseName===N.name))}),Array.from(S.entries()).map(([N,R])=>{const A=Array.from(R.studentIds).map(O=>E.get(O)?.gpa).filter(O=>typeof O=="number"),U=A.length?A.reduce((O,F)=>O+F,0)/A.length:0,T=Vs(R.attendanceRecords).rate;return{name:N,students:R.studentIds.size,avgGPA:U,attendance:T}}).sort((N,R)=>N.name.localeCompare(R.name))},[r,o,t]);return x?i.jsx(ze,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("p",{children:"Loading reports and analytics..."})})}):i.jsx(ze,{children:i.jsxs("div",{className:"p-8 space-y-8",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h1",{children:"Reports & Analytics"}),i.jsx("p",{className:"text-gray-600",children:"Generate and view system-wide reports and analytics."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Total Students"}),i.jsx(Xn,{className:"size-4 text-blue-600"})]}),i.jsx(ne,{children:i.jsx("div",{className:"text-2xl",children:b.totalStudents.toLocaleString()})})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Average GPA"}),i.jsx(br,{className:"size-4 text-green-600"})]}),i.jsx(ne,{children:i.jsx("div",{className:"text-2xl",children:b.averageGPA.toFixed(2)})})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Attendance Rate"}),i.jsx(tr,{className:"size-4 text-purple-600"})]}),i.jsx(ne,{children:i.jsxs("div",{className:"text-2xl",children:[b.attendanceRate,"%"]})})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Collection Rate"}),i.jsx(Hs,{className:"size-4 text-orange-600"})]}),i.jsx(ne,{children:i.jsxs("div",{className:"text-2xl",children:[w.collectionRate,"%"]})})]})]}),i.jsxs(Rc,{defaultValue:"academic",className:"w-full",children:[i.jsxs(Pc,{children:[i.jsx(kn,{value:"academic",children:"Academic Performance"}),i.jsx(kn,{value:"financial",children:"Financial Reports"})]}),i.jsx(fn,{value:"academic",className:"space-y-4",children:i.jsxs(te,{children:[i.jsx(he,{children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsx(fe,{children:"Academic Performance Overview"})})}),i.jsxs(ne,{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[i.jsx("p",{className:"text-sm text-green-900 mb-1",children:"Top Performers"}),i.jsx("p",{className:"text-2xl text-green-900",children:b.topPerformers}),i.jsxs("p",{className:"text-xs text-green-700 mt-1",children:["GPA ",">"," 3.8"]})]}),i.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[i.jsx("p",{className:"text-sm text-orange-900 mb-1",children:"At-Risk Students"}),i.jsx("p",{className:"text-2xl text-orange-900",children:b.atRiskStudents}),i.jsxs("p",{className:"text-xs text-orange-700 mt-1",children:["GPA ","<"," 2.5"]})]}),i.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsx("p",{className:"text-sm text-blue-900 mb-1",children:"Completion Rate"}),i.jsxs("p",{className:"text-2xl text-blue-900",children:[b.courseCompletionRate,"%"]}),i.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Course completion"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"mb-4",children:"Department Performance"}),i.jsx("div",{className:"space-y-3",children:j.length===0?i.jsx("p",{className:"text-gray-600 text-sm",children:"No department data available yet."}):j.map(E=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{children:E.name}),i.jsxs("span",{className:"text-sm text-gray-600",children:[E.students," students"]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Avg GPA"}),i.jsx("p",{children:E.avgGPA.toFixed(2)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Attendance"}),i.jsxs("p",{children:[E.attendance,"%"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Students"}),i.jsx("p",{children:E.students})]})]})]},E.name))})]})]})]})}),i.jsx(fn,{value:"financial",className:"space-y-4",children:i.jsxs(te,{children:[i.jsx(he,{children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsx(fe,{children:"Financial Summary"})})}),i.jsxs(ne,{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-6 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total Revenue"}),i.jsxs("p",{className:"text-3xl mb-2",children:["$",(w.totalFee/1e6).toFixed(1),"M"]}),i.jsx("p",{className:"text-sm text-gray-500",children:"Current semester"})]}),i.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Collection Rate"}),i.jsxs("p",{className:"text-3xl mb-2",children:[w.collectionRate,"%"]}),i.jsxs("p",{className:"text-sm text-blue-600",children:["$",(w.totalCollected/1e6).toFixed(1),"M collected"]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"mb-4",children:"Financial Breakdown"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsx("span",{className:"text-gray-600",children:"Total Collected"}),i.jsxs("span",{className:"text-green-600",children:["$",(w.totalCollected/1e6).toFixed(2),"M"]})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsx("span",{className:"text-gray-600",children:"Outstanding Payments"}),i.jsxs("span",{className:"text-orange-600",children:["$",(w.outstanding/1e6).toFixed(2),"M"]})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsx("span",{className:"text-gray-600",children:"Scholarships Awarded"}),i.jsxs("span",{className:"text-blue-600",children:["$",(w.scholarships/1e6).toFixed(2),"M"]})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gray-50",children:[i.jsx("span",{children:"Net Revenue"}),i.jsxs("span",{className:"text-lg",children:["$",((w.totalCollected-w.scholarships)/1e6).toFixed(2),"M"]})]})]})]})]})]})}),i.jsx(fn,{value:"enrollment",className:"space-y-4",children:i.jsxs(te,{children:[i.jsx(he,{children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsx(fe,{children:"Enrollment Trends"})})}),i.jsxs(ne,{className:"space-y-6",children:[i.jsx("div",{className:"space-y-4",children:C.length===0?i.jsx("p",{className:"text-gray-600 text-sm",children:"No enrollment data available."}):C.map(E=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{children:E.semester}),i.jsxs("div",{className:"flex items-center gap-2",children:[E.change>=0?i.jsx(ss,{className:"size-4 text-green-600"}):i.jsx(py,{className:"size-4 text-red-600"}),i.jsxs("span",{className:E.change>=0?"text-green-600":"text-red-600",children:[E.change>0?"+":"",E.change,"%"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xn,{className:"size-4 text-gray-400"}),i.jsx("span",{className:"text-2xl",children:E.students.toLocaleString()}),i.jsx("span",{className:"text-sm text-gray-600",children:"students enrolled"})]})]},E.semester))}),i.jsxs("div",{className:"p-6 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsx("h3",{className:"text-blue-900 mb-2",children:"Enrollment Projection"}),i.jsx("p",{className:"text-3xl text-blue-900 mb-2",children:"1,270"}),i.jsx("p",{className:"text-sm text-blue-700",children:"Expected enrollment for Spring 2026"})]}),_.length>0&&i.jsxs("div",{className:"p-6 bg-white rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h3",{className:"mb-4 flex items-center gap-2 text-gray-800",children:[i.jsx(ss,{className:"size-4 text-blue-600"}),"Enrollment Distribution"]}),i.jsx("div",{className:"space-y-3",children:_.map(E=>i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[i.jsx("span",{className:"text-gray-600",children:E.semester}),i.jsx("span",{className:"text-gray-900",children:E.students.toLocaleString()})]}),i.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full",style:{width:`${Math.max(E.percent,4)}%`}})})]},`${E.semester}-chart`))})]})]})]})})]})]})})}function dA(){const{user:t}=yt(),[e,r]=v.useState([]),[a,o]=v.useState(!0),[l,u]=v.useState("all"),[h,f]=v.useState("all"),[p,x]=v.useState(""),[g,b]=v.useState(""),w=v.useMemo(()=>{const N=new Set(e.map(R=>R.courseName).filter(R=>!!R));return Array.from(N).sort()},[e]),C=v.useMemo(()=>e.filter(N=>!(l!=="all"&&N.courseName!==l||h!=="all"&&wh(N.status)!==h||p&&new Date(N.date)<new Date(p)||g&&new Date(N.date)>new Date(g))),[e,l,h,p,g]),_=v.useMemo(()=>Vs(C),[C]),j=async N=>{try{o(!0);const{attendance:R}=await zx(N);r(R||[])}catch(R){console.error("Failed to load attendance:",R),Le.error("Unable to load attendance records")}finally{o(!1)}};v.useEffect(()=>{t?.id?j(t.id):o(!1)},[t?.id]);const E=()=>{t?.id&&j(t.id)},S=()=>{u("all"),f("all"),x(""),b("")};return i.jsx(ze,{children:i.jsxs("div",{className:"p-8 space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"Attendance Tracker"}),i.jsx("p",{className:"text-gray-600",children:"View your attendance records and statistics."})]}),i.jsxs(Ae,{variant:"outline",size:"sm",onClick:E,disabled:!t?.id||a,children:[i.jsx(tk,{className:"size-4 mr-2"}),"Refresh"]})]}),i.jsx(te,{children:i.jsxs(ne,{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Course"}),i.jsxs(Pt,{value:l,onValueChange:u,children:[i.jsx(At,{children:i.jsx(Tt,{placeholder:"Select course"})}),i.jsxs(It,{children:[i.jsx(Re,{value:"all",children:"All courses"}),w.map(N=>i.jsx(Re,{value:N,children:N},N))]})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Status"}),i.jsxs(Pt,{value:h,onValueChange:N=>f(N),children:[i.jsx(At,{children:i.jsx(Tt,{placeholder:"Select status"})}),i.jsxs(It,{children:[i.jsx(Re,{value:"all",children:"All statuses"}),i.jsx(Re,{value:"present",children:"Present"}),i.jsx(Re,{value:"late",children:"Late"}),i.jsx(Re,{value:"absent",children:"Absent"})]})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"From"}),i.jsx(qe,{type:"date",value:p,onChange:N=>x(N.target.value)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"To"}),i.jsx(qe,{type:"date",value:g,onChange:N=>b(N.target.value)})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(Ae,{variant:"ghost",size:"sm",onClick:S,disabled:l==="all"&&h==="all"&&!p&&!g,children:"Clear filters"})})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Attendance Rate"}),i.jsx(tr,{className:"size-4 text-blue-600"})]}),i.jsxs(ne,{children:[i.jsxs("div",{className:"text-2xl",children:[_.rate,"%"]}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Overall rate"})]})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Present"}),i.jsx(Ga,{className:"size-4 text-green-600"})]}),i.jsxs(ne,{children:[i.jsx("div",{className:"text-2xl text-green-600",children:_.present}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Classes attended"})]})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Late"}),i.jsx(Fs,{className:"size-4 text-orange-600"})]}),i.jsxs(ne,{children:[i.jsx("div",{className:"text-2xl text-orange-600",children:_.late}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Late arrivals"})]})]}),i.jsxs(te,{children:[i.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(fe,{className:"text-sm",children:"Absent"}),i.jsx(Yg,{className:"size-4 text-red-600"})]}),i.jsxs(ne,{children:[i.jsx("div",{className:"text-2xl text-red-600",children:_.absent}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Classes missed"})]})]})]}),i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Attendance Records"})}),i.jsx(ne,{children:i.jsxs(O0,{children:[i.jsx(L0,{children:i.jsxs(Ms,{children:[i.jsx(xr,{children:"Date"}),i.jsx(xr,{children:"Course"}),i.jsx(xr,{children:"Status"})]})}),i.jsx(D0,{children:a?i.jsx(Ms,{children:i.jsx(Nn,{colSpan:3,className:"text-center text-gray-500",children:"Loading attendance..."})}):C.length===0?i.jsx(Ms,{children:i.jsx(Nn,{colSpan:3,className:"text-center text-gray-500",children:"No attendance records match your filters."})}):C.map(N=>{const R=wh(N.status),A=R==="present"?"default":R==="late"?"secondary":R==="absent"?"destructive":"secondary",U=R?R.charAt(0).toUpperCase()+R.slice(1):N.status??"Unknown";return i.jsxs(Ms,{children:[i.jsx(Nn,{children:N.date}),i.jsx(Nn,{children:N.courseName}),i.jsx(Nn,{children:i.jsxs(Ye,{variant:A,children:[R==="present"&&i.jsx(Ga,{className:"size-3 mr-1"}),R==="late"&&i.jsx(Fs,{className:"size-3 mr-1"}),R==="absent"&&i.jsx(Yg,{className:"size-3 mr-1"}),U]})})]},N.id)})})]})})]})]})})}const Wd={courseId:"",studentId:"",status:"",date:new Date().toISOString().slice(0,10),notes:""};function hA(){const{user:t}=yt(),[e,r]=v.useState(Wd),[a,o]=v.useState(null),[l,u]=v.useState(!1),[h,f]=v.useState([]),[p,x]=v.useState([]),[g,b]=v.useState({}),[w,C]=v.useState([]),[_,j]=v.useState(!0),E=v.useMemo(()=>new Map(h.map(T=>[T.id,T])),[h]),S=v.useMemo(()=>{const T=new Map;return p.forEach(O=>T.set(O.id,O)),T},[p]),N=v.useMemo(()=>{if(!e.courseId)return[];const T=g[e.courseId]??[];if(e.studentId&&!T.some(O=>O.id===e.studentId)){const O=S.get(e.studentId);if(O)return[O,...T]}return T},[e.courseId,e.studentId,g,S]),R=v.useMemo(()=>w.filter(T=>h.some(O=>O.id===T.courseId||O.name===T.courseName)).sort((T,O)=>+new Date(O.date)-+new Date(T.date)).slice(0,10),[w,h]),A=async()=>{if(!t?.id){f([]),x([]),C([]),j(!1);return}try{j(!0);const[T,O,F]=await Promise.all([sr(),Bi(),Ux()]),H=(Array.isArray(T)?T:T?.courses??[]).map(G=>({...G,studentIds:yf(G.studentIds)})).filter(G=>G.teacherId===t.id);if(!H.length){f([]),b({}),x([]),C([]);return}const re=Array.isArray(O)?O:O??[],ce=Array.isArray(F)?F:F??[],me=new Set(H.map(G=>G.name)),J=ce.filter(G=>G.courseId?H.some(Q=>Q.id===G.courseId):me.has(G.courseName)),ae={};H.forEach(G=>{ae[G.id]=[...G.studentIds??[]]}),J.forEach(G=>{const Q=G.courseId&&ae[G.courseId]!==void 0?G.courseId:H.find(V=>V.name===G.courseName)?.id;Q&&(ae[Q]||(ae[Q]=[]),ae[Q].includes(G.studentId)||ae[Q].push(G.studentId))});const M=new Set;Object.values(ae).forEach(G=>G.forEach(Q=>Q&&M.add(Q)));const X=Array.from(M).filter(G=>!re.some(Q=>Q.id===G)),Y=X.length?await cs(X):[],L=Array.from(new Map([...re,...Y].map(G=>[G.id,G])).values()),q=new Map(L.map(G=>[G.id,G])),K={};Object.entries(ae).forEach(([G,Q])=>{const V=Array.from(new Set(Q.filter(Boolean)));K[G]=V.map(ie=>q.get(ie)).filter(Boolean)});const oe=Array.from(new Map(Object.values(K).flat().map(G=>[G.id,G])).values());f(H),b(K),x(oe),C(J)}catch(T){console.error("Failed to load attendance data",T),Le.error("Unable to load attendance records"),C([])}finally{j(!1)}};v.useEffect(()=>{A()},[t?.id]);const U=async T=>{if(T.preventDefault(),!e.courseId||!e.studentId||!e.status){Le.error("Please complete the form.");return}const O=E.get(e.courseId);if(!O){Le.error("Course not found");return}u(!0);try{const F={studentId:e.studentId,lessonId:`${e.courseId}-${e.date}`,courseId:O.id,courseName:O.name,date:e.date,status:e.status};a?(await yN(a.id,F),Le.success("Attendance updated.")):(await Hx(F),Le.success("Attendance recorded.")),await A(),r({...Wd,courseId:e.courseId,studentId:e.studentId}),o(null)}catch(F){console.error(F),Le.error("Unable to save attendance.")}finally{u(!1)}};return _?i.jsx(ze,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("p",{children:"Loading attendance..."})})}):i.jsx(ze,{children:i.jsxs("div",{className:"p-8 space-y-8",children:[i.jsx("div",{className:"flex items-center justify-between flex-wrap gap-4",children:i.jsxs("div",{children:[i.jsx("h1",{children:"Attendance Manager"}),i.jsx("p",{className:"text-gray-600",children:"Record or edit attendance for your classes."})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:a?"Edit Attendance":"Record Attendance"})}),i.jsx(ne,{children:i.jsxs("form",{className:"space-y-4",onSubmit:U,children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{children:"Course"}),i.jsxs(Pt,{value:e.courseId,onValueChange:T=>r({...e,courseId:T,studentId:""}),children:[i.jsx(At,{children:i.jsx(Tt,{placeholder:"Select a course"})}),i.jsx(It,{children:h.map(T=>i.jsxs(Re,{value:T.id,children:[T.code,"  ",T.name]},T.id))})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{children:"Student"}),i.jsxs(Pt,{value:e.studentId,onValueChange:T=>r({...e,studentId:T}),disabled:!e.courseId||N.length===0,children:[i.jsx(At,{children:i.jsx(Tt,{placeholder:e.courseId?"Select a student":"Choose a course first"})}),i.jsx(It,{children:N.map(T=>i.jsx(Re,{value:T.id,children:T.name},T.id))})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{children:"Date"}),i.jsx(qe,{type:"date",value:e.date,onChange:T=>r({...e,date:T.target.value})})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{children:"Status"}),i.jsxs(Pt,{value:e.status,onValueChange:T=>r({...e,status:T}),children:[i.jsx(At,{children:i.jsx(Tt,{placeholder:"Select status"})}),i.jsxs(It,{children:[i.jsx(Re,{value:"present",children:"Present"}),i.jsx(Re,{value:"late",children:"Late"}),i.jsx(Re,{value:"absent",children:"Absent"})]})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{children:"Notes"}),i.jsx(kc,{value:e.notes,onChange:T=>r({...e,notes:T.target.value}),placeholder:"Optional notes",rows:3})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[a&&i.jsx(Ae,{type:"button",variant:"outline",onClick:()=>{o(null),r(Wd)},children:"Cancel"}),i.jsx(Ae,{type:"submit",disabled:l||!e.courseId||!e.studentId||!e.status,children:a?i.jsxs(i.Fragment,{children:[i.jsx(zE,{className:"mr-2 size-4"})," Update Attendance"]}):i.jsxs(i.Fragment,{children:[i.jsx(Vl,{className:"mr-2 size-4"})," Save Attendance"]})})]})]})})]}),i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Recent Records"})}),i.jsx(ne,{className:"space-y-4",children:R.length===0?i.jsx("p",{className:"text-gray-600 text-center py-8",children:"No attendance records yet."}):R.map(T=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{children:T.courseName}),i.jsx("p",{className:"text-sm text-gray-600",children:T.date})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ye,{variant:T.status==="present"?"default":T.status==="late"?"secondary":"destructive",children:T.status}),i.jsx(Ae,{size:"sm",variant:"outline",onClick:()=>{o(T);const O=h.find(F=>F.id===T.courseId||F.studentIds?.includes(T.studentId)||F.name===T.courseName);r({courseId:O?.id||"",studentId:T.studentId,status:T.status,date:T.date,notes:""})},children:"Edit"})]})]},T.id))})]})]})]})})}function fA(){const[t,e]=v.useState([]),[r,a]=v.useState(!0);return v.useEffect(()=>{(async()=>{try{const l=await Bx(),u=Array.isArray(l)?l:l?.events??[];e(u)}catch(l){console.error("Error fetching events:",l)}finally{a(!1)}})()},[]),r?i.jsx(ze,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("p",{children:"Loading..."})})}):i.jsx(ze,{children:i.jsxs("div",{className:"p-8 space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"Events & Calendar"}),i.jsx("p",{className:"text-gray-600",children:"Stay updated with upcoming events and important dates."})]}),i.jsx("div",{className:"grid grid-cols-1 gap-6",children:t.map(o=>i.jsxs(te,{className:"hover:shadow-lg transition-shadow",children:[i.jsx(he,{children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex gap-4 flex-1",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center bg-blue-100 rounded-lg p-4 min-w-20",children:[i.jsx("div",{className:"text-2xl text-blue-600",children:new Date(o.date).getDate()}),i.jsx("div",{className:"text-sm text-blue-600",children:new Date(o.date).toLocaleDateString("en-US",{month:"short"})}),i.jsx("div",{className:"text-xs text-blue-600",children:new Date(o.date).getFullYear()})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx(fe,{children:o.title}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:o.description})]})]}),i.jsx(Ye,{variant:o.type==="exam"?"destructive":o.type==="assignment"?"default":o.type==="holiday"?"secondary":"outline",children:o.type})]})}),i.jsx(ne,{children:i.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(tr,{className:"size-4"}),i.jsx("span",{children:new Date(o.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Fs,{className:"size-4"}),i.jsx("span",{children:o.time})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qh,{className:"size-4"}),i.jsx("span",{children:o.location})]})]})})]},o.id))})]})})}function pA(){const[t,e]=v.useState([]),[r,a]=v.useState(!0);return v.useEffect(()=>{(async()=>{try{const l=await ro(),u=Array.isArray(l)?l:l?.announcements??[];e(u)}catch(l){console.error("Error fetching announcements:",l)}finally{a(!1)}})()},[]),r?i.jsx(ze,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("p",{children:"Loading..."})})}):i.jsx(ze,{children:i.jsxs("div",{className:"p-8 space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"Announcements"}),i.jsx("p",{className:"text-gray-600",children:"Important updates and notifications."})]}),i.jsx(Bl,{className:"size-6 text-blue-600"})]}),i.jsx("div",{className:"space-y-4",children:t.map(o=>i.jsxs(te,{className:"hover:shadow-lg transition-shadow",children:[i.jsx(he,{children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx(fy,{className:`size-6 flex-shrink-0 mt-1 ${o.priority==="high"?"text-red-600":o.priority==="medium"?"text-orange-600":"text-blue-600"}`}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsx(fe,{children:o.title}),i.jsxs(Ye,{variant:o.priority==="high"?"destructive":o.priority==="medium"?"default":"secondary",children:[o.priority," priority"]})]})})]})}),i.jsxs(ne,{className:"pl-14",children:[i.jsx("p",{className:"text-gray-600 mb-4",children:o.content}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[i.jsxs("span",{children:["Posted by: ",o.author]}),i.jsx("span",{children:""}),i.jsx("span",{children:new Date(o.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]},o.id))})]})})}function mA(){const{user:t}=yt(),[e,r]=v.useState(t?.name||""),[a,o]=v.useState(t?.email||""),[l,u]=v.useState(t?.phone||""),[h,f]=v.useState(t?.address||""),p=()=>{Le.success("Profile updated successfully!")},x=()=>{Le.success("Password change request sent to your email!")};return t?i.jsx(ze,{children:i.jsxs("div",{className:"p-8 space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"Settings"}),i.jsx("p",{className:"text-gray-600",children:"Manage your account settings and preferences."})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Profile Picture"})}),i.jsxs(ne,{className:"flex flex-col items-center space-y-4",children:[i.jsxs(Oi,{className:"size-32",children:[i.jsx(Li,{src:t.avatar}),i.jsx(Di,{className:"text-2xl",children:t.name.charAt(0)})]}),i.jsx(Ae,{variant:"outline",size:"sm",children:"Change Photo"})]})]}),i.jsxs(te,{className:"lg:col-span-2",children:[i.jsx(he,{children:i.jsx(fe,{children:"Account Information"})}),i.jsxs(ne,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"name",children:"Full Name"}),i.jsx(qe,{id:"name",value:e,onChange:g=>r(g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"email",children:"Email"}),i.jsx(qe,{id:"email",type:"email",value:a,onChange:g=>o(g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"phone",children:"Phone"}),i.jsx(qe,{id:"phone",value:l,onChange:g=>u(g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"role",children:"Role"}),i.jsx(qe,{id:"role",value:t.role,disabled:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"address",children:"Address"}),i.jsx(qe,{id:"address",value:h,onChange:g=>f(g.target.value)})]}),i.jsx(Ae,{onClick:p,children:"Save Changes"})]})]})]}),i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Security"})}),i.jsx(ne,{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx(Ke,{children:"Password"}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Change your password to keep your account secure."}),i.jsx(Ae,{variant:"outline",onClick:x,children:"Change Password"})]})})]}),i.jsxs(te,{children:[i.jsx(he,{children:i.jsx(fe,{children:"Notification Preferences"})}),i.jsxs(ne,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{children:"Email Notifications"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Receive updates via email"})]}),i.jsx(Ae,{variant:"outline",size:"sm",children:"Enable"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{children:"Push Notifications"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Receive push notifications"})]}),i.jsx(Ae,{variant:"outline",size:"sm",children:"Enable"})]})]})]})]})}):null}var gA=(t,e,r,a,o,l,u,h)=>{let f=document.documentElement,p=["light","dark"];function x(w){(Array.isArray(t)?t:[t]).forEach(C=>{let _=C==="class",j=_&&l?o.map(E=>l[E]||E):o;_?(f.classList.remove(...j),f.classList.add(l&&l[w]?l[w]:w)):f.setAttribute(C,w)}),g(w)}function g(w){h&&p.includes(w)&&(f.style.colorScheme=w)}function b(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(a)x(a);else try{let w=localStorage.getItem(e)||r,C=u&&w==="system"?b():w;x(C)}catch{}},vA=v.createContext(void 0),xA={setTheme:t=>{},themes:[]},yA=()=>{var t;return(t=v.useContext(vA))!=null?t:xA};v.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:a,enableColorScheme:o,defaultTheme:l,value:u,themes:h,nonce:f,scriptProps:p})=>{let x=JSON.stringify([r,e,l,t,h,u,a,o]).slice(1,-1);return v.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${gA.toString()})(${x})`}})});const wA=({...t})=>{const{theme:e="system"}=yA();return i.jsx($k,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function vt({children:t,roles:e}){const{isAuthenticated:r,loading:a,user:o}=yt();return a?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("p",{children:"Loading..."})}):r?e&&o&&!e.includes(o.role)?i.jsx(Ti,{to:"/dashboard",replace:!0}):i.jsx(i.Fragment,{children:t}):i.jsx(Ti,{to:"/login"})}function bA(){const{user:t,loading:e}=yt();if(e)return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("p",{children:"Loading..."})});if(!t)return i.jsx(Ti,{to:"/login"});switch(t.role){case"student":return i.jsx(X2,{});case"teacher":return i.jsx(oT,{});case"parent":return i.jsx(tA,{});case"admin":return i.jsx(iA,{});default:return i.jsx(Ti,{to:"/login"})}}function jA(){return i.jsx(SN,{children:i.jsxs(TS,{children:[i.jsxs(lS,{children:[i.jsx(nt,{path:"/login",element:i.jsx(Fk,{})}),i.jsx(nt,{path:"/register",element:i.jsx(j2,{})}),i.jsx(nt,{path:"/dashboard",element:i.jsx(vt,{children:i.jsx(bA,{})})}),i.jsx(nt,{path:"/courses",element:i.jsx(vt,{roles:["student"],children:i.jsx(Z2,{})})}),i.jsx(nt,{path:"/results",element:i.jsx(vt,{roles:["student"],children:i.jsx(eT,{})})}),i.jsx(nt,{path:"/finance",element:i.jsx(vt,{roles:["student"],children:i.jsx(aT,{})})}),i.jsx(nt,{path:"/attendance",element:i.jsx(vt,{roles:["student"],children:i.jsx(dA,{})})}),i.jsx(nt,{path:"/events",element:i.jsx(vt,{children:i.jsx(fA,{})})}),i.jsx(nt,{path:"/announcements",element:i.jsx(vt,{children:i.jsx(pA,{})})}),i.jsx(nt,{path:"/settings",element:i.jsx(vt,{children:i.jsx(mA,{})})}),i.jsx(nt,{path:"/lessons",element:i.jsx(vt,{roles:["teacher"],children:i.jsx(IT,{})})}),i.jsx(nt,{path:"/students",element:i.jsx(vt,{roles:["teacher"],children:i.jsx(LT,{})})}),i.jsx(nt,{path:"/exams",element:i.jsx(vt,{roles:["teacher"],children:i.jsx(eA,{})})}),i.jsx(nt,{path:"/teacher-attendance",element:i.jsx(vt,{roles:["teacher"],children:i.jsx(hA,{})})}),i.jsx(nt,{path:"/grades",element:i.jsx(vt,{roles:["teacher"],children:i.jsx(nA,{})})}),i.jsx(nt,{path:"/children",element:i.jsx(vt,{roles:["parent"],children:i.jsx(rA,{})})}),i.jsx(nt,{path:"/performance",element:i.jsx(vt,{roles:["parent"],children:i.jsx(sA,{})})}),i.jsx(nt,{path:"/users",element:i.jsx(vt,{roles:["admin"],children:i.jsx(lA,{})})}),i.jsx(nt,{path:"/classes",element:i.jsx(vt,{roles:["admin"],children:i.jsx(cA,{})})}),i.jsx(nt,{path:"/reports",element:i.jsx(vt,{roles:["admin"],children:i.jsx(uA,{})})}),i.jsx(nt,{path:"/admin/courses",element:i.jsx(vt,{roles:["admin"],children:i.jsx(oA,{})})}),i.jsx(nt,{path:"/",element:i.jsx(Ti,{to:"/login"})}),i.jsx(nt,{path:"/admin/finance",element:i.jsx(vt,{roles:["admin"],children:i.jsx(aA,{})})}),i.jsx(nt,{path:"*",element:i.jsx(Ti,{to:"/login",replace:!0})})]}),i.jsx(wA,{})]})})}xj.createRoot(document.getElementById("root")).render(i.jsx(jA,{}));
